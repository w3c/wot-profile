<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta name="generator" content=
  "HTML Tidy for HTML5 for Linux version 5.6.0">
  <meta charset="utf-8">
  <meta name="generator" content="ReSpec 35.5.1">
  <meta name="viewport" content=
  "width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
  span.example-title{text-transform:none}
  :is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
  div.illegal-example{color:red}
  div.illegal-example p{color:#000}
  aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
  </style>
  <style>
  .issue-label{text-transform:initial}
  .warning>p:first-child{margin-top:0}
  .warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
  span.warning{padding:.1em .5em .15em}
  .issue.closed span.issue-number{text-decoration:line-through}
  .issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
  .warning{border-color:#f11;border-color:var(--warning-border,#f11);border-width:.2em;border-style:solid;background:#fbe9e9;background:var(--warning-bg,#fbe9e9);color:#000;color:var(--text,#000)}
  .warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
  li.task-list-item{list-style:none}
  input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
  .issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
  </style>
  <style>
  dfn{cursor:pointer}
  .dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
  .dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
  .dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
  .dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
  .dfn-panel *{margin:0}
  .dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
  .dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
  .dfn-panel>div{display:flex}
  .dfn-panel a.self-link{font-weight:700;margin-right:auto}
  .dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
  .dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
  .dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
  .dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
  .dfn-panel a[href]:hover{border-bottom-width:1px}
  .dfn-panel ul{padding:0}
  .dfn-panel li{margin-left:1em}
  .dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
  </style>
  <link rel="stylesheet" href="testing/atrisk.css">
  <title>Web of Things (WoT) Profiles</title>
  <style id="respec-mainstyle">
  @keyframes pop{
  0%{transform:scale(1,1)}
  25%{transform:scale(1.25,1.25);opacity:.75}
  100%{transform:scale(1,1)}
  }
  a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
  a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
  a.bibref{text-decoration:none}
  .respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
  .respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
  @supports not (text-decoration:red wavy underline){
  .respec-offending-element:not(pre){display:inline-block}
  .respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
  }
  #references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
  cite .bibref{font-style:italic}
  a[href].orcid{padding-left:4px;padding-right:4px}
  a[href].orcid>svg{margin-bottom:-2px}
  ol.tof,ul.tof{list-style:none outside none}
  .caption{margin-top:.5em;font-style:italic}
  #issue-summary>ul{column-count:2}
  #issue-summary li{list-style:none;display:inline-block}
  details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
  details.respec-tests-details>*{padding-right:2em}
  details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
  details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
  details.respec-tests-details>ul{width:100%;margin-top:-.3em}
  details.respec-tests-details>li{padding-left:1em}
  .self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
  aside.example .marker>a.self-link{color:inherit}
  .header-wrapper{display:flex;align-items:baseline}
  :is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
  :is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
  :is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
  :is(h2,h3)+a.self-link{top:-.2em}
  :is(h4,h5,h6)+a.self-link::before{color:#000}
  @media (max-width:767px){
  dd{margin-left:0}
  }
  @media print{
  .removeOnSave{display:none}
  }
  </style>
  <style>

    .rfc2119-assertion {
      background-color: rgb(230, 230, 230)
    }

    a[href].internalDFN {
      color: inherit;
      border-bottom: 1px solid #99c;
      text-decoration: none;
    }

  </style>
  <meta name="color-scheme" content="light">
  <meta name="description" content=
  "This specification defines a Profiling Mechanism and a set of Profiles which enable out-of-the-box interoperability between Web Things and their Consumers on the Web of Things.">
  <link rel="canonical" href="https://www.w3.org/TR/wot-profile/">
  <style>
  .hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
  @media (prefers-color-scheme:dark){
  .hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
  }
  .hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
  .hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
  .hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
  .hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
  .hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
  .hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
  .hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
  .hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
  .hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
  .hljs-emphasis{font-style:italic}
  .hljs-strong{font-weight:700}
  .hljs-link{text-decoration:underline}
  </style>
  <style>
  var:hover{text-decoration:underline;cursor:pointer}
  var.respec-hl{color:var(--color,#000);background-color:var(--bg-color);box-shadow:0 0 0 2px var(--bg-color)}
  @media (prefers-color-scheme:dark){
  var.respec-hl{filter:saturate(.9) brightness(.9)}
  }
  var.respec-hl-c1{--bg-color:#f4d200}
  var.respec-hl-c2{--bg-color:#ff87a2}
  var.respec-hl-c3{--bg-color:#96e885}
  var.respec-hl-c4{--bg-color:#3eeed2}
  var.respec-hl-c5{--bg-color:#eacfb6}
  var.respec-hl-c6{--bg-color:#82ddff}
  var.respec-hl-c7{--bg-color:#ffbcf2}
  @media print{
  var.respec-hl{background:0 0;color:#000;box-shadow:unset}
  }
  </style>
  <style>
  var{position:relative;cursor:pointer}
  var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
  var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#222}
  var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#222;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
  var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
  </style>
  <script id="initialUserConfig" type="application/json">
  {
  "lint": {
    "no-headingless-sections": false
  },
  "specStatus": "WD",
  "maxTocLevel": 6,
  "processVersion": 2019,
  "shortName": "wot-profile",
  "copyrightStart": 2020,
  "group": "wg/wot",
  "wgPublicList": "public-wot-wg",
  "github": "https://github.com/w3c/wot-profile",
  "previousPublishDate": "2023-01-18",
  "previousMaturity": "WD",
  "editors": [
    {
      "name": "Michael Lagally",
      "w3cid": "47166",
      "company": "Oracle Corp.",
      "companyURL": "https://www.oracle.com/"
    },
    {
      "name": "Ben Francis",
      "w3cid": "51527",
      "company": "Invited Expert"
    },
    {
      "name": "Sebastian Kaebisch",
      "w3cid": "43064",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    },
    {
      "name": "Tomoaki Mizushima",
      "w3cid": "98915",
      "company": "Internet Research Institute, Inc.",
      "companyURL": "https://www.iri.co.jp/"
    }
  ],
  "formerEditors": [
    {
      "name": "Michael McCool",
      "w3cid": "93137",
      "company": "when at Intel Corp."
    },
    {
      "name": "Ryuichi Matsukura",
      "w3cid": "64284",
      "company": "when at Fujitsu Ltd."
    }
  ],
  "otherLinks": [
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-profile/graphs/contributors"
        }
      ]
    }
  ],
  "localBiblio": {
    "JSON-SCHEMA": {
      "title": "JSON Schema Validation: A Vocabulary for Structural Validation of JSON",
      "href": "https://tools.ietf.org/html/draft-handrews-json-schema-validation-01",
      "authors": [
        "Austin Wright",
        "Henry Andrews",
        "Geraint Luff"
      ],
      "status": "Internet-Draft",
      "date": "19 March 2018",
      "publisher": "IETF"
    },
    "ISO-6709": {
      "title": "ISO-6709:2008 : Standard representation of geographic point location by coordinates",
      "href": "https://www.iso.org/standard/39242.html",
      "status": "Published",
      "date": "2008-07",
      "publisher": "ISO"
    },
    "H2020-CREATE-IoT": {
      "title": "H2020 - CREATE-IoT Project - Recommendations for commonalities and interoperability profiles of IoT platforms",
      "href": "https://european-iot-pilots.eu/wp-content/uploads/2018/11/D06_02_WP06_H2020_CREATE-IoT_Final.pdf",
      "status": "Published",
      "date": "2018-11",
      "publisher": "IoT European Large-Scale Pilots Programme",
      "id": "h2020-create-iot"
    }
  },
  "publishISODate": "2025-09-30T00:00:00.000Z",
  "generatedSubtitle": "W3C Working Draft 30 September 2025"
  }
  </script>
  <link rel="stylesheet" href=
  "https://www.w3.org/StyleSheets/TR/2021/W3C-WD">
</head>
<body class="h-entry">
  <div class="head">
    <p class="logos"><a class="logo" href=
    "https://www.w3.org/"><img crossorigin="" alt="W3C" height="48"
    src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width=
    "72"></a></p>
    <h1 id="title" class="title">Web of Things (WoT) Profiles</h1>
    <p id="w3c-state"><a href=
    "https://www.w3.org/standards/types#WD">W3C Working Draft</a>
    <time class="dt-published" datetime="2025-09-30">30 September
    2025</time></p>
    <details open="">
      <summary>
        More details about this document
      </summary>
      <dl>
        <dt>This version:</dt>
        <dd>
          <a class="u-url" href=
          "https://www.w3.org/TR/2025/WD-wot-profile-20250930/">https://www.w3.org/TR/2025/WD-wot-profile-20250930/</a>
        </dd>
        <dt>Latest published version:</dt>
        <dd>
          <a href=
          "https://www.w3.org/TR/wot-profile/">https://www.w3.org/TR/wot-profile/</a>
        </dd>
        <dt>Latest editor's draft:</dt>
        <dd>
          <a href=
          "https://w3c.github.io/wot-profile/">https://w3c.github.io/wot-profile/</a>
        </dd>
        <dt>History:</dt>
        <dd>
          <a href=
          "https://www.w3.org/standards/history/wot-profile/">https://www.w3.org/standards/history/wot-profile/</a>
        </dd>
        <dd>
          <a href=
          "https://github.com/w3c/wot-profile/commits/">Commit
          history</a>
        </dd>
        <dt>Editors:</dt>
        <dd class="editor p-author h-card vcard" data-editor-id=
        "47166">
          <span class="p-name fn">Michael Lagally</span> (<a class=
          "p-org org h-org" href="https://www.oracle.com/">Oracle
          Corp.</a>)
        </dd>
        <dd class="editor p-author h-card vcard" data-editor-id=
        "51527"><span class="p-name fn">Ben Francis</span>
        (<span class="p-org org h-org">Invited Expert</span>)</dd>
        <dd class="editor p-author h-card vcard" data-editor-id=
        "43064">
          <span class="p-name fn">Sebastian Kaebisch</span>
          (<a class="p-org org h-org" href=
          "https://www.siemens.com/">Siemens AG</a>)
        </dd>
        <dd class="editor p-author h-card vcard" data-editor-id=
        "98915">
          <span class="p-name fn">Tomoaki Mizushima</span>
          (<a class="p-org org h-org" href=
          "https://www.iri.co.jp/">Internet Research Institute,
          Inc.</a>)
        </dd>
        <dt>Former editors:</dt>
        <dd class="editor p-author h-card vcard" data-editor-id=
        "93137"><span class="p-name fn">Michael McCool</span>
        (<span class="p-org org h-org">when at Intel
        Corp.</span>)</dd>
        <dd class="editor p-author h-card vcard" data-editor-id=
        "64284"><span class="p-name fn">Ryuichi Matsukura</span>
        (<span class="p-org org h-org">when at Fujitsu
        Ltd.</span>)</dd>
        <dt>Feedback:</dt>
        <dd>
          <a href="https://github.com/w3c/wot-profile/">GitHub
          w3c/wot-profile</a> (<a href=
          "https://github.com/w3c/wot-profile/pulls/">pull
          requests</a>, <a href=
          "https://github.com/w3c/wot-profile/issues/new/choose">new
          issue</a>, <a href=
          "https://github.com/w3c/wot-profile/issues/">open
          issues</a>)
        </dd>
        <dd>
          <a href=
          "mailto:public-wot-wg@w3.org?subject=%5Bwot-profile%5D%20YOUR%20TOPIC%20HERE">
          public-wot-wg@w3.org</a> with subject line
          <kbd>[wot-profile] <em>… message topic …</em></kbd>
          (<a rel="discussion" href=
          "https://lists.w3.org/Archives/Public/public-wot-wg">archives</a>)
        </dd>
        <dt>Contributors</dt>
        <dd>
          <a href=
          "https://github.com/w3c/wot-profile/graphs/contributors">In
          the GitHub repository</a>
        </dd>
      </dl>
    </details>
    <p class="copyright"><a href=
    "https://www.w3.org/policies/#copyright">Copyright</a> ©
    2020-2025 <a href="https://www.w3.org/">World Wide Web
    Consortium</a>. <abbr title=
    "World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href=
    "https://www.w3.org/policies/#Legal_Disclaimer">liability</a>,
    <a href=
    "https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and
    <a rel="license" href=
    "https://www.w3.org/copyright/software-license-2023/" title=
    "W3C Software and Document Notice and License">permissive
    document license</a> rules apply.</p>
    <hr title="Separator for header">
  </div>
  <section id="abstract" class="introductory">
    <h2>Abstract</h2>
    <p>This specification defines a <a href=
    "#profiling-mechanism">Profiling Mechanism</a> and a set of
    <a href="#dfn-profile" class="internalDFN" data-link-type="dfn"
    id="ref-for-dfn-profile-1">Profiles</a> which enable <a href=
    "#out-of-the-box-interoperability">out-of-the-box
    interoperability</a> between <a href="#dfn-web-thing" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-web-thing-1">Web Things</a> and their <a href=
    "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-1">Consumers</a> on the <a href=
    "https://www.w3.org/wot">Web of Things</a>.</p>
    <p>Being out-of-the-box interoperable means that any <a href=
    "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-2">Consumer</a> which conforms with a
    given <a href="#dfn-profile" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-profile-2">Profile</a> can
    interact with any <a href="#dfn-thing" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-thing-1">Thing</a> which
    conforms with the same <a href="#dfn-profile" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-3">Profile</a>, without additional
    customization.</p>
    <p>A Profile is a technical specification which provides a set
    of assertions to which conformant <a href="#dfn-consumer"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-3">Consumers</a> and <a href="#dfn-thing"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-thing-2">Things</a> must conform.</p>
    <p>The Profiling Mechanism provides a means to denote that a
    given Thing conforms to one or more <a href="#dfn-profile"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-4">Profiles</a>, by referring to the
    identifiers of those <a href="#dfn-profile" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-profile-5">Profiles</a> in
    the <code>profile</code> member of its <a href=
    "#dfn-thing-description" class="internalDFN" data-link-type=
    "dfn" id="ref-for-dfn-thing-description-1">Thing
    Description</a>.</p>
    <p>The specification defines three profiles:</p>
    <ul>
      <li>The <a href="#http-basic-profile">HTTP Basic Profile</a>
      defines a protocol binding for reading and writing properties
      and invoking, querying and cancelling actions using the HTTP
      protocol.
      </li>
      <li>The <a href="#http-sse-profile">HTTP SSE Profile</a>
      defines a protocol binding for observing properties and
      subscribing to events using Server-Sent Events.
      </li>
      <li>The <a href="#http-webhook-profile">HTTP Webhook
      Profile</a> defines a protocol binding for observing
      properties and subscribing to events using Webhooks.
      </li>
    </ul>
    <p>The <a href="#dfn-profile" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-profile-6">Profiles</a>
    defined in this specification share a set of <a href=
    "#common-constraints">Common Constraints</a> to which
    implementations of those <a href="#dfn-profile" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-7">Profiles</a> must also conform. This
    includes constraints on units, date formats, security
    mechanisms, discovery mechanisms, link relations and
    errors.</p>
    <p>Future versions of this specification, or extension
    specifications, may define additional <a href="#dfn-profile"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-8">Profiles</a>.</p>
  </section>
  <section id="sotd" class="introductory">
    <h2>Status of This Document</h2>
    <p><em>This section describes the status of this document at
    the time of its publication. A list of current <abbr title=
    "World Wide Web Consortium">W3C</abbr> publications and the
    latest revision of this technical report can be found in the
    <a href="https://www.w3.org/TR/"><abbr title=
    "World Wide Web Consortium">W3C</abbr> standards and drafts
    index</a>.</em></p>
    <p>This document was published by the <a href=
    "https://www.w3.org/groups/wg/wot">Web of Things Working
    Group</a> as a Working Draft using the <a href=
    "https://www.w3.org/policies/process/20250818/#recs-and-notes">Recommendation
    track</a>.</p>
    <p>Publication as a Working Draft does not imply endorsement by
    <abbr title="World Wide Web Consortium">W3C</abbr> and its
    Members.</p>
    <p>This is a draft document and may be updated, replaced, or
    obsoleted by other documents at any time. It is inappropriate
    to cite this document as other than a work in progress.</p>
    <p>This document was produced by a group operating under the
    <a href=
    "https://www.w3.org/policies/patent-policy/"><abbr title=
    "World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
    <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
    <a rel="disclosure" href=
    "https://www.w3.org/groups/wg/wot/ipr">public list of any
    patent disclosures</a> made in connection with the deliverables
    of the group; that page also includes instructions for
    disclosing a patent. An individual who has actual knowledge of
    a patent that the individual believes contains <a href=
    "https://www.w3.org/policies/patent-policy/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with
    <a href=
    "https://www.w3.org/policies/patent-policy/#sec-Disclosure">section
    6 of the <abbr title="World Wide Web Consortium">W3C</abbr>
    Patent Policy</a>.</p>
    <p>This document is governed by the <a id=
    "w3c_process_revision" href=
    "https://www.w3.org/policies/process/20250818/">18 August 2025
    <abbr title="World Wide Web Consortium">W3C</abbr> Process
    Document</a>.</p>
  </section>
  <nav id="toc">
    <h2 class="introductory" id="table-of-contents">Table of
    Contents</h2>
    <ol class="toc">
      <li class="tocline">
        <a class="tocxref" href="#abstract">Abstract</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#sotd">Status of This Document</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#introduction"><bdi class=
        "secno">1.</bdi> Introduction</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href="#motivation"><bdi class=
            "secno">1.1</bdi> Motivation</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#use-cases-and-requirements"><bdi class=
            "secno">1.2</bdi> Use Cases and Requirements</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#out-of-the-box-interoperability"><bdi class=
            "secno">1.3</bdi> Out-of-the-Box Interoperability</a>
            <ol class="toc">
              <li class="tocline">
                <a class="tocxref" href=
                "#out-of-the-box-interoperability-technical-interop">
                <bdi class="secno">1.3.1</bdi> Technical
                Interoperability</a>
              </li>
              <li class="tocline">
                <a class="tocxref" href=
                "#out-of-the-box-interoperability-syntactic-interop">
                <bdi class="secno">1.3.2</bdi> Syntactic
                Interoperability</a>
              </li>
              <li class="tocline">
                <a class="tocxref" href=
                "#out-of-the-box-interoperability-semantic-interop">
                <bdi class="secno">1.3.3</bdi> Semantic
                Interoperability</a>
              </li>
              <li class="tocline">
                <a class="tocxref" href=
                "#out-of-the-box-interoperability-organizational-interop">
                <bdi class="secno">1.3.4</bdi> Organizational
                Interoperability</a>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#conformance"><bdi class=
        "secno">2.</bdi> Conformance</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#terminology"><bdi class=
        "secno">3.</bdi> Terminology</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href=
            "#additional-definitions-"><bdi class="secno">3.1</bdi>
            Additional Definitions</a>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#profiling-mechanism"><bdi class=
        "secno">4.</bdi> Profiling Mechanism</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#common-constraints"><bdi class=
        "secno">5.</bdi> Common Constraints</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href="#units"><bdi class=
            "secno">5.1</bdi> Units</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href="#date-format"><bdi class=
            "secno">5.2</bdi> Date Format</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#common-constraints-security"><bdi class=
            "secno">5.3</bdi> Security</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#common-constraints-discovery"><bdi class=
            "secno">5.4</bdi> Discovery</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#common-constraints-links"><bdi class=
            "secno">5.5</bdi> Links</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href="#error-responses"><bdi class=
            "secno">5.6</bdi> Errors</a>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#http-basic-profile"><bdi class=
        "secno">6.</bdi> HTTP Basic Profile</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href=
            "#http-basic-profile-identifier"><bdi class=
            "secno">6.1</bdi> Identifier</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#http-basic-profile-protocol-binding"><bdi class=
            "secno">6.2</bdi> Protocol Binding</a>
            <ol class="toc">
              <li class="tocline">
                <a class="tocxref" href=
                "#http-basic-profile-protocol-binding-properties"><bdi class="secno">
                6.2.1</bdi> Properties</a>
                <ol class="toc">
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-readproperty">
                    <bdi class="secno">6.2.1.1</bdi>
                    <code>readproperty</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-writeproperty">
                    <bdi class="secno">6.2.1.2</bdi>
                    <code>writeproperty</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-readallproperties">
                    <bdi class="secno">6.2.1.3</bdi>
                    <code>readallproperties</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-writemultipleproperties">
                    <bdi class="secno">6.2.1.4</bdi>
                    <code>writemultipleproperties</code></a>
                  </li>
                </ol>
              </li>
              <li class="tocline">
                <a class="tocxref" href=
                "#http-basic-profile-protocol-binding-actions"><bdi class="secno">
                6.2.2</bdi> Actions</a>
                <ol class="toc">
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-invokeaction">
                    <bdi class="secno">6.2.2.1</bdi>
                    <code>invokeaction</code></a>
                    <ol class="toc">
                      <li class="tocline">
                        <a class="tocxref" href=
                        "#ActionStatus"><bdi class=
                        "secno">6.2.2.1.1</bdi>
                        <code>ActionStatus</code> object</a>
                      </li>
                      <li class="tocline">
                        <a class="tocxref" href=
                        "#sync-action-response"><bdi class=
                        "secno">6.2.2.1.2</bdi> Synchronous Action
                        Response</a>
                      </li>
                      <li class="tocline">
                        <a class="tocxref" href=
                        "#async-action-response"><bdi class=
                        "secno">6.2.2.1.3</bdi> Asynchronous Action
                        Response</a>
                      </li>
                    </ol>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-queryaction">
                    <bdi class="secno">6.2.2.2</bdi>
                    <code>queryaction</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-basic-profile-protocol-binding-cancelaction">
                    <bdi class="secno">6.2.2.3</bdi>
                    <code>cancelaction</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#queryallactions"><bdi class=
                    "secno">6.2.2.4</bdi>
                    <code>queryallactions</code></a>
                  </li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#http-sse-profile"><bdi class=
        "secno">7.</bdi> HTTP SSE Profile</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href=
            "#http-sse-profile-identifier"><bdi class=
            "secno">7.1</bdi> Identifier</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#http-sse-profile-protocol-binding"><bdi class=
            "secno">7.2</bdi> Protocol Binding</a>
            <ol class="toc">
              <li class="tocline">
                <a class="tocxref" href=
                "#http-sse-profile-protocol-binding-properties"><bdi class="secno">
                7.2.1</bdi> Properties</a>
                <ol class="toc">
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#observeproperty"><bdi class=
                    "secno">7.2.1.1</bdi>
                    <code>observeproperty</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#unobserveproperty"><bdi class=
                    "secno">7.2.1.2</bdi>
                    <code>unobserveproperty</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#observeallproperties"><bdi class=
                    "secno">7.2.1.3</bdi>
                    <code>observeallproperties</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#unobserveallproperties"><bdi class=
                    "secno">7.2.1.4</bdi>
                    <code>unobserveallproperties</code></a>
                  </li>
                </ol>
              </li>
              <li class="tocline">
                <a class="tocxref" href=
                "#http-sse-profile-protocol-binding-events"><bdi class="secno">
                7.2.2</bdi> Events</a>
                <ol class="toc">
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-sse-profile-protocol-binding-subscribeevent">
                    <bdi class="secno">7.2.2.1</bdi>
                    <code>subscribeevent</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-sse-profile-protocol-binding-events-unsubscribeevent">
                    <bdi class="secno">7.2.2.2</bdi>
                    <code>unsubscribeevent</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-sse-profile-protocol-binding-events-subscribeallevents">
                    <bdi class="secno">7.2.2.3</bdi>
                    <code>subscribeallevents</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-sse-profile-protocol-binding-events-unsubscribeallevents">
                    <bdi class="secno">7.2.2.4</bdi>
                    <code>unsubscribeallevents</code></a>
                  </li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#http-webhook-profile"><bdi class=
        "secno">8.</bdi> HTTP Webhook Profile</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href=
            "#http-webhook-profile-identifier"><bdi class=
            "secno">8.1</bdi> Identifier</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#http-webhook-profile-protocol-binding"><bdi class=
            "secno">8.2</bdi> Protocol Binding</a>
            <ol class="toc">
              <li class="tocline">
                <a class="tocxref" href=
                "#http-webhook-profile-protocol-binding-properties">
                <bdi class="secno">8.2.1</bdi> Properties</a>
                <ol class="toc">
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-observeproperty">
                    <bdi class="secno">8.2.1.1</bdi>
                    <code>observeproperty</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-unobserveproperty">
                    <bdi class="secno">8.2.1.2</bdi>
                    <code>unobserveproperty</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-events-observeallproperties">
                    <bdi class="secno">8.2.1.3</bdi>
                    <code>observeallproperties</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-unobserveallproperties">
                    <bdi class="secno">8.2.1.4</bdi>
                    <code>unobserveallproperties</code></a>
                  </li>
                </ol>
              </li>
              <li class="tocline">
                <a class="tocxref" href=
                "#http-webhook-profile-protocol-binding-events"><bdi class="secno">
                8.2.2</bdi> Events</a>
                <ol class="toc">
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-subscribeevent">
                    <bdi class="secno">8.2.2.1</bdi>
                    <code>subscribeevent</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-unsubscribeevent">
                    <bdi class="secno">8.2.2.2</bdi>
                    <code>unsubscribeevent</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-events-subscribeallevents">
                    <bdi class="secno">8.2.2.3</bdi>
                    <code>subscribeallevents</code></a>
                  </li>
                  <li class="tocline">
                    <a class="tocxref" href=
                    "#http-webhook-profile-protocol-binding-unsubscribeallevents">
                    <bdi class="secno">8.2.2.4</bdi>
                    <code>unsubscribeallevents</code></a>
                  </li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href=
        "#privacy-considerations"><bdi class="secno">9.</bdi>
        Privacy Considerations</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href=
        "#security-considerations"><bdi class="secno">10.</bdi>
        Security Considerations</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href=
        "#accessibility-considerations"><bdi class=
        "secno">11.</bdi> Accessibility Considerations</a>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#changes"><bdi class=
        "secno">A.</bdi> Recent Specification Changes</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href="#changes-from-wd"><bdi class=
            "secno">A.1</bdi> Changes from the WD published 18
            January 2023</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#changes-from-fpwd"><bdi class="secno">A.2</bdi>
            Changes from the FPWD published 24 November 2020</a>
          </li>
        </ol>
      </li>
      <li class="tocline">
        <a class="tocxref" href="#references"><bdi class=
        "secno">B.</bdi> References</a>
        <ol class="toc">
          <li class="tocline">
            <a class="tocxref" href=
            "#normative-references"><bdi class="secno">B.1</bdi>
            Normative references</a>
          </li>
          <li class="tocline">
            <a class="tocxref" href=
            "#informative-references"><bdi class="secno">B.2</bdi>
            Informative references</a>
          </li>
        </ol>
      </li>
    </ol>
  </nav>
  <section id="introduction">
    <div class="header-wrapper">
      <h2 id="x1-introduction"><bdi class="secno">1.</bdi>
      Introduction</h2><a class="self-link" href="#introduction"
      aria-label="Permalink for Section 1."></a>
    </div>
    <section id="motivation">
      <div class="header-wrapper">
        <h3 id="x1-1-motivation"><bdi class="secno">1.1</bdi>
        Motivation</h3><a class="self-link" href="#motivation"
        aria-label="Permalink for Section 1.1"></a>
      </div>
      <p>The <a href="https://www.w3.org/WoT/">Web of Things</a>
      (WoT) seeks to counter the fragmentation of the <a href=
      "https://en.wikipedia.org/wiki/Internet_of_things">Internet
      of Things</a> (IoT) by using and extending existing,
      standardized web technologies.</p>
      <p>The <abbr title="World Wide Web Consortium">W3C</abbr> WoT
      Thing Description [<cite><a class="bibref" data-link-type=
      "biblio" href="#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      specification defines an information model and JSON-based
      representation format for describing the capabilities of
      connected devices and the interfaces with which to
      communicate with them. <a href="#dfn-thing-description"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-description-2">Thing Descriptions</a> are
      designed to be protocol-agnostic and flexible enough to
      describe a wide range of existing ("brownfield") IoT
      devices.</p>
      <p>In order to provide this level of flexibility the Thing
      Description specification includes a number of extension
      points including protocol bindings, payload bindings,
      security mechanisms, link relations and semantic contexts. As
      long as all of the capabilities of a device can be described
      using a <a href="#dfn-thing-description" class="internalDFN"
      data-link-type="dfn" id=
      "ref-for-dfn-thing-description-3">Thing Description</a> and a
      <a href="#dfn-consumer" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-consumer-4">Consumer</a> implements all
      of the extensions used, the <a href="#dfn-consumer" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-5">Consumer</a> should be able to
      interoperate with that device. However, the result of this
      extensible architecture is that any given <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-6">Consumer</a> can only interoperate
      with a subset of possible <a href="#dfn-web-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-2">Web Things</a>.</p>
      <p>This specification is designed to complement the Thing
      Description [<cite><a class="bibref" data-link-type="biblio"
      href="#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      specification, by enabling ad-hoc interoperability through
      the use of "Profiles". A <a href="#dfn-profile" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-profile-9">Profile</a> prescribes a finite set
      of extensions and defaults that a <a href="#dfn-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-3">Thing</a> can be constrained to in
      order to guarantee <a href=
      "#out-of-the-box-interoperability">out-of-the-box
      interoperability</a> with any <a href="#dfn-consumer" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-7">Consumer</a> which implements that
      profile.</p>
      <p><a href="#dfn-profile" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-profile-10">Profiles</a> are designed
      specifically for new ("greenfield") implementations where
      developers have the freedom to conform to a prescriptive
      protocol binding and set of common constraints, in order to
      benefit from this additional level of interoperability.</p>
      <p>Future versions of this specification, or extension
      specifications, may define additional <a href="#dfn-profile"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-profile-11">Profiles</a>.</p>
    </section>
    <section id="use-cases-and-requirements">
      <div class="header-wrapper">
        <h3 id="x1-2-use-cases-and-requirements"><bdi class=
        "secno">1.2</bdi> Use Cases and Requirements</h3><a class=
        "self-link" href="#use-cases-and-requirements" aria-label=
        "Permalink for Section 1.2"></a>
      </div>
      <p>The Web of Things Interest Group collected use cases for
      the Web of Things from stakeholders representing various
      different industries. This includes both vertical
      domain-specific use cases and horizontal use cases which
      apply to multiple application domains [<cite><a class=
      "bibref" data-link-type="biblio" href="#bib-wot-usecases"
      title=
      "Web of Things (WoT): Use Cases and Requirements">wot-usecases</a></cite>].</p>
      <p>Several of the <a href=
      "https://www.w3.org/TR/wot-usecases/#sec-vertical-ucs">domain-specific
      use cases</a> refer to the need for easy integration of
      devices from multiple vendors. This is especially important
      for <a href=
      "https://www.w3.org/TR/wot-usecases/#multi-vendor">cross-domain
      use cases</a> which require "multi-vendor system integration"
      and "out-of-the-box interoperability".</p>
      <p>A set of <a href=
      "https://w3c.github.io/wot-profile/profile-1.x-requirements.html">
      requirements</a> for Profiles were derived from these use
      cases.</p>
    </section>
    <section id="out-of-the-box-interoperability">
      <div class="header-wrapper">
        <h3 id="x1-3-out-of-the-box-interoperability"><bdi class=
        "secno">1.3</bdi> Out-of-the-Box
        Interoperability</h3><a class="self-link" href=
        "#out-of-the-box-interoperability" aria-label=
        "Permalink for Section 1.3"></a>
      </div>
      <p>At a high level, out-of-the-box interoperability means
      that a <a href="#dfn-consumer" class="internalDFN"
      data-link-type="dfn" id="ref-for-dfn-consumer-8">Consumer</a>
      is guaranteed to be able to use every capability of a
      <a href="#dfn-thing" class="internalDFN" data-link-type="dfn"
      id="ref-for-dfn-thing-4">Thing</a>, without Thing-specific
      customization.</p>
      <p>The full definition of out-of-the-box interoperability
      used in this specification includes multiple layers. The
      following classification adopts terminology from the "H2020 -
      CREATE-IoT Project - Recommendations for commonalities and
      interoperability profiles of IoT platforms" [<cite><a class=
      "bibref" data-link-type="biblio" href="#bib-h2020-create-iot"
      title=
      "H2020 - CREATE-IoT Project - Recommendations for commonalities and interoperability profiles of IoT platforms">H2020-CREATE-IoT</a></cite>]
      report. The definitions below have been adapted to reflect
      the scope of the WoT profile.</p>
      <section id="technical-interoperability">
        <div class="header-wrapper">
          <h4 id=
          "out-of-the-box-interoperability-technical-interop">
          <bdi class="secno">1.3.1</bdi> Technical
          Interoperability</h4><a class="self-link" href=
          "#out-of-the-box-interoperability-technical-interop"
          aria-label="Permalink for Section 1.3.1"></a>
        </div>
        <p><em>Technical Interoperability</em> is usually
        associated with communication protocols and the
        infrastructure needed for those protocols to operate. This
        implies agreeing on a common protocol (e.g. HTTP / TCP/IP)
        and providing additional clarifications, where
        required.</p>
      </section>
      <section id="syntactic-interoperability">
        <div class="header-wrapper">
          <h4 id=
          "out-of-the-box-interoperability-syntactic-interop">
          <bdi class="secno">1.3.2</bdi> Syntactic
          Interoperability</h4><a class="self-link" href=
          "#out-of-the-box-interoperability-syntactic-interop"
          aria-label="Permalink for Section 1.3.2"></a>
        </div>
        <p><em>Syntactic Interoperability</em> is usually
        associated with data formats and encodings along with
        techniques for compressing them. Examples for these formats
        and encodings in the WoT are JSON, XML, JSON-LD, UTF-8
        payloads.</p>
      </section>
      <section id="semantic-interoperability">
        <div class="header-wrapper">
          <h4 id=
          "out-of-the-box-interoperability-semantic-interop">
          <bdi class="secno">1.3.3</bdi> Semantic
          Interoperability</h4><a class="self-link" href=
          "#out-of-the-box-interoperability-semantic-interop"
          aria-label="Permalink for Section 1.3.3"></a>
        </div>
        <p><em>Semantic Interoperability</em> is associated with a
        common understanding of the behavior of communication
        partners. In the profile context, it includes a common
        interpretation of (synchronous and asynchronous) action
        semantics, a common event model, how to set/get multiple
        properties, writable properties, a common error model and
        error messages.</p>
        <p>Domain specific ontologies, e.g. semantic interop of
        automotive and medical devices exceed the scope of the this
        specification.</p>
      </section>
      <section id="organizational-interoperability">
        <div class="header-wrapper">
          <h4 id=
          "out-of-the-box-interoperability-organizational-interop">
          <bdi class="secno">1.3.4</bdi> Organizational
          Interoperability</h4><a class="self-link" href=
          "#out-of-the-box-interoperability-organizational-interop"
          aria-label="Permalink for Section 1.3.4"></a>
        </div>
        <p><em>Organizational Interoperability</em> in the profile
        context implies that any <a href="#dfn-consumer" class=
        "internalDFN" data-link-type="dfn" id=
        "ref-for-dfn-consumer-9">Consumer</a> which conforms with a
        given profile can interact with any Thing which conforms
        with the same <a href="#dfn-profile" class="internalDFN"
        data-link-type="dfn" id=
        "ref-for-dfn-profile-12">Profile</a>, without additional
        customization.</p>
        <p>Organizational Interoperability also requires commonly
        agreed approaches to security, trust and privacy, i.e. a
        <a href="#dfn-consumer" class="internalDFN" data-link-type=
        "dfn" id="ref-for-dfn-consumer-10">Consumer</a> is provided
        access to Things only when these common terms and
        conditions are applied.</p>
        <p>Devices created by various engineers, vendors and SDOs
        that satisfy the requirements of the profile specification
        can be integrated with compliant <a href="#dfn-consumer"
        class="internalDFN" data-link-type="dfn" id=
        "ref-for-dfn-consumer-11">Consumers</a> without additional
        customization. This works across infrastructures, regions
        and cultures.</p>
      </section>
    </section>
  </section>
  <section id="conformance">
    <div class="header-wrapper">
      <h2 id="x2-conformance"><bdi class="secno">2.</bdi>
      Conformance</h2><a class="self-link" href="#conformance"
      aria-label="Permalink for Section 2."></a>
    </div>
    <p>As well as sections marked as non-normative, all authoring
    guidelines, diagrams, examples, and notes in this specification
    are non-normative. Everything else in this specification is
    normative.</p>
    <p>The key words <em class="rfc2119">MAY</em>, <em class=
    "rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>,
    <em class="rfc2119">OPTIONAL</em>, <em class=
    "rfc2119">RECOMMENDED</em>, <em class="rfc2119">SHOULD</em>,
    and <em class="rfc2119">SHOULD NOT</em> in this document are to
    be interpreted as described in <a href=
    "https://www.rfc-editor.org/info/bcp14">BCP 14</a>
    [<cite><a class="bibref" data-link-type="biblio" href=
    "#bib-rfc2119" title=
    "Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>]
    [<cite><a class="bibref" data-link-type="biblio" href=
    "#bib-rfc8174" title=
    "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
    when, and only when, they appear in all capitals, as shown
    here.</p>
    <p>A <a href="#dfn-thing" class="internalDFN" data-link-type=
    "dfn" id="ref-for-dfn-thing-5">Thing</a> or <a href=
    "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-12">Consumer</a> implementation complies
    with this specification if it follows the normative statements
    in the present document.</p>
  </section>
  <section id="terminology">
    <div class="header-wrapper">
      <h2 id="x3-terminology"><bdi class="secno">3.</bdi>
      Terminology</h2><a class="self-link" href="#terminology"
      aria-label="Permalink for Section 3."></a>
    </div>
    <p>Fundamental WoT terminology such as <dfn data-plurals=
    "web things" id="dfn-web-thing" tabindex="0" aria-haspopup=
    "dialog" data-dfn-type="dfn">Web Thing</dfn>
    (<dfn data-plurals="things" id="dfn-thing" tabindex="0"
    aria-haspopup="dialog" data-dfn-type="dfn">Thing</dfn>),
    <dfn data-plurals="consumers" id="dfn-consumer" tabindex="0"
    aria-haspopup="dialog" data-dfn-type="dfn">Consumer</dfn>,
    <dfn data-plurals="thing descriptions" id=
    "dfn-thing-description" tabindex="0" aria-haspopup="dialog"
    data-dfn-type="dfn">Thing Description</dfn>, <dfn data-plurals=
    "properties" id="dfn-property" tabindex="0" aria-haspopup=
    "dialog" data-dfn-type="dfn">Property</dfn>, <dfn id=
    "dfn-action" tabindex="0" aria-haspopup="dialog" data-dfn-type=
    "dfn">Action</dfn>, <dfn data-plurals="events" id="dfn-event"
    tabindex="0" aria-haspopup="dialog" data-dfn-type=
    "dfn">Event</dfn> and <dfn id="dfn-protocol-binding" tabindex=
    "0" aria-haspopup="dialog" data-dfn-type="dfn">Protocol
    Binding</dfn>, are defined in <a href=
    "https://www.w3.org/TR/wot-architecture/#terminology">Section
    3</a> of the WoT Architecture specification [<cite><a class=
    "bibref" data-link-type="biblio" href="#bib-wot-architecture11"
    title=
    "Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>].</p>
    <section id="additional-definitions">
      <div class="header-wrapper">
        <h3 id="additional-definitions-"><bdi class=
        "secno">3.1</bdi> Additional Definitions</h3><a class=
        "self-link" href="#additional-definitions-" aria-label=
        "Permalink for Section 3.1"></a>
      </div>
      <dl>
        <dt><dfn class="export" data-export="" data-plurals=
        "profiles" id="dfn-profile" tabindex="0" aria-haspopup=
        "dialog" data-dfn-type="dfn">Profile</dfn></dt>
        <dd>
          A technical specification which provides a set of
          assertions such that any <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-13">Consumer</a> which conforms
          with the those assertions is <a href=
          "#out-of-the-box-interoperability">out-of-the-box
          interoperable</a> with any <a href="#dfn-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-thing-6">Thing</a> which also conforms with
          those assertions.
        </dd>
      </dl>
    </section>
  </section>
  <section id="profiling-mechanism">
    <div class="header-wrapper">
      <h2 id="x4-profiling-mechanism"><bdi class="secno">4.</bdi>
      Profiling Mechanism</h2><a class="self-link" href=
      "#profiling-mechanism" aria-label=
      "Permalink for Section 4."></a>
    </div>
    <p><span class="rfc2119-assertion" id=
    "profiling-mechanism-1">In order to conform with a <a href=
    "#dfn-profile" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-13">Profile</a>, a <a href=
    "#dfn-web-thing" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-web-thing-3">Web Thing</a> <em class=
    "rfc2119">MUST</em> conform with all the normative statements
    in the <a href="#dfn-profile" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-profile-14">Profile</a>'s
    specification.</span></p>
    <p><span class="rfc2119-assertion" id=
    "profiling-mechanism-2">In order to denote that a given
    <a href="#dfn-web-thing" class="internalDFN" data-link-type=
    "dfn" id="ref-for-dfn-web-thing-4">Web Thing</a> conforms to
    one or more <a href="#dfn-profile" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-profile-15">Profiles</a>,
    its <a href="#dfn-thing-description" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-thing-description-4">Thing
    Description</a> <em class="rfc2119">MUST</em> include a
    <a href="https://w3c.github.io/wot-thing-description/#thing"><code>
    profile</code></a> member [<cite><a class="bibref"
    data-link-type="biblio" href="#bib-wot-thing-description11"
    title=
    "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>].</span>
    <span class="rfc2119-assertion" id="profiling-mechanism-3">The
    value of the <code>profile</code> member <em class=
    "rfc2119">MUST</em> be set to either a valid URI
    [<cite><a class="bibref" data-link-type="biblio" href=
    "#bib-rfc3986" title=
    "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
    identifying a single <a href="#dfn-profile" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-profile-16">Profile</a>,
    or an array of valid URIs identifying multiple <a href=
    "#dfn-profile" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-17">Profiles</a>.</span></p>
    <p><span class="rfc2119-assertion" id=
    "profiling-mechanism-4">In order to use a <code>profile</code>
    member in a <a href="#dfn-thing-description" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-thing-description-5">Thing Description</a>, the
    <code>@context</code> member <em class="rfc2119">MUST</em>
    contain the anyURI
    <code>https://www.w3.org/2022/wot/td/v1.1</code> in order to
    denote that the document is using version 1.1 of the Thing
    Description specification. [<cite><a class="bibref"
    data-link-type="biblio" href="#bib-wot-thing-description11"
    title=
    "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>].</span></p>
    <div class="example" id="example-1">
      <div class="marker">
        <a class="self-link" href="#example-1">Example
        <bdi>1</bdi></a>
      </div>
      <pre aria-busy="false"><code class="hljs javascript">{
  <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
  <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
  <span class="hljs-string">"profile"</span>: <span class=
"hljs-string">"https://www.w3.org/2022/wot/profile/http-basic/v1"</span>,
  <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"My Lamp"</span>,
  <span class="hljs-string">"description"</span>: <span class=
"hljs-string">"A web connected lamp"</span>,
  ...
}</code></pre>
    </div>
    <div class="example" id="example-2">
      <div class="marker">
        <a class="self-link" href="#example-2">Example
        <bdi>2</bdi></a>
      </div>
      <pre aria-busy="false"><code class="hljs javascript">{
  <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span>,
  <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:ops:32473-WoTLamp-1234"</span>,
  <span class="hljs-string">"profile"</span>: [
    <span class=
"hljs-string">"https://www.w3.org/2022/wot/profile/http-basic/v1"</span>,
    <span class=
"hljs-string">"https://www.w3.org/2022/wot/profile/http-sse/v1"</span>
  ],
  <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"My Lamp"</span>,
  <span class="hljs-string">"description"</span>: <span class=
"hljs-string">"A web connected lamp"</span>,
  ...
}</code></pre>
    </div>
    <p><span class="rfc2119-assertion" id=
    "profiling-mechanism-5">All <a href="#dfn-thing" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-thing-7">Things</a> and <a href="#dfn-consumer"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-14">Consumers</a> conforming to a
    <a href="#dfn-profile" class="internalDFN" data-link-type="dfn"
    id="ref-for-dfn-profile-18">Profile</a> <em class=
    "rfc2119">MUST</em> satisfy the assertions specified in the WoT
    Thing Description 1.1 specification [<cite><a class="bibref"
    data-link-type="biblio" href="#bib-wot-thing-description11"
    title=
    "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>],
    except for the assertion with text "TD 1.1 consumers <em class=
    "rfc2119">MUST</em> accept TDs satisfying the <abbr title=
    "World Wide Web Consortium">W3C</abbr> WoT Thing Description
    1.0 [wot-thing-description] specification."</span></p>
    <p><span class="rfc2119-assertion" id="profiling-mechanism-6">A
    <a href="#dfn-profile" class="internalDFN" data-link-type="dfn"
    id="ref-for-dfn-profile-19">Profile</a> <em class=
    "rfc2119">SHOULD NOT</em> redefine defaults from protocol
    binding templates [<cite><a class="bibref" data-link-type=
    "biblio" href="#bib-wot-binding-templates" title=
    "Web of Things (WoT) Binding Templates">wot-binding-templates</a></cite>].</span>
    E.g., if a profile uses an HTTP protocol binding and the HTTP
    Binding Template specifies that in an HTTP protocol binding the
    default value of <code>htv:methodName</code> for a
    <code>readproperty</code> operation is <code>GET</code>, the
    profile should not redefine that value as
    <code>POST</code>.</p>
    <p><span class="rfc2119-assertion" id="profiling-mechanism-7">A
    <a href="#dfn-profile" class="internalDFN" data-link-type="dfn"
    id="ref-for-dfn-profile-20">Profile</a> <em class=
    "rfc2119">SHOULD NOT</em> require a <a href="#dfn-thing" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-thing-8">Thing</a> to respond in a way which would
    be unexpected by a <a href="#dfn-consumer" class="internalDFN"
    data-link-type="dfn" id="ref-for-dfn-consumer-15">Consumer</a>
    which does not implement the <a href="#dfn-profile" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-21">Profile</a>.</span> E.g., a <a href=
    "#dfn-profile" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-22">Profile</a> may define details of a
    protocol binding for a <code>queryaction</code> operation which
    would not currently be possible to fully describe using a
    protocol binding template in a <a href="#dfn-thing-description"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-thing-description-6">Thing Description</a> (due to
    current limitations of the WoT Thing Description 1.1
    specification), and would be consumable by a conformant
    <a href="#dfn-consumer" class="internalDFN" data-link-type=
    "dfn" id="ref-for-dfn-consumer-16">Consumer</a>, but any other
    action-related operations exposed by the <a href=
    "#dfn-thing-description" class="internalDFN" data-link-type=
    "dfn" id="ref-for-dfn-thing-description-7">Thing
    Description</a> ought to still respond in the way that a
    Consumer which does not implement the <a href="#dfn-profile"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-profile-23">Profile</a> would expect.</p>
    <div class="note" role="note" id="issue-container-generatedID">
      <div role="heading" class="note-title marker" id="h-note"
      aria-level="3">
        <span>Note</span>
      </div>
      <p class="">Conforming to a <a href="#dfn-profile" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-profile-24">Profile</a> does not prevent a
      <a href="#dfn-web-thing" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-web-thing-5">Web Thing</a> from
      describing additional capabilities and protocol bindings in
      their <a href="#dfn-thing-description" class="internalDFN"
      data-link-type="dfn" id=
      "ref-for-dfn-thing-description-8">Thing Description</a>
      beyond those described in the <a href="#dfn-profile" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-profile-25">Profile</a>, as long as they conform
      with all of the normative assertions of the <a href=
      "#dfn-profile" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-profile-26">Profile</a>.</p>
    </div>
    <div class="note" role="note" id=
    "issue-container-generatedID-0">
      <div role="heading" class="note-title marker" id="h-note-0"
      aria-level="3">
        <span>Note</span>
      </div>
      <p class="">Just because a <a href="#dfn-thing-description"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-description-9">Thing Description</a>
      claims that the Thing it describes conforms to a given
      <a href="#dfn-profile" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-profile-27">Profile</a>, a <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-17">Consumer</a> should not assume that
      it does in fact conform. E.g. a <a href="#dfn-consumer"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-18">Consumer</a> should be able to
      recover gracefully if a <a href="#dfn-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-9">Thing</a> does not respond as specified
      to a given operation.</p>
    </div>
  </section>
  <section id="common-constraints">
    <div class="header-wrapper">
      <h2 id="x5-common-constraints"><bdi class="secno">5.</bdi>
      Common Constraints</h2><a class="self-link" href=
      "#common-constraints" aria-label=
      "Permalink for Section 5."></a>
    </div>
    <p>The following sections are applicable for profiles defined
    by this document.</p>
    <section id="common-constraints-units">
      <div class="header-wrapper">
        <h3 id="units"><bdi class="secno">5.1</bdi>
        Units</h3><a class="self-link" href="#units" aria-label=
        "Permalink for Section 5.1"></a>
      </div>
      <p>Authors of <a href="#dfn-thing-description" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-description-10">Thing Descriptions</a>
      should be aware that units that are common in their
      geographic region are not globally applicable and may lead to
      misinterpretation with drastic consequences.</p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-units-1">It is highly <em class=
      "rfc2119">RECOMMENDED</em> to provide a <code>unit</code>, if
      a value has a physical quantity.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-units-2">It is highly <em class=
      "rfc2119">RECOMMENDED</em> to use the metric system (SI
      units) for devices that are used in global
      deployments.</span></p>
    </section>
    <section id="common-constraints-date-format">
      <div class="header-wrapper">
        <h3 id="date-format"><bdi class="secno">5.2</bdi> Date
        Format</h3><a class="self-link" href="#date-format"
        aria-label="Permalink for Section 5.2"></a>
      </div>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-date-format-1">Unless otherwise
      specified, all date and time values <em class=
      "rfc2119">MUST</em> use the <code>date-time</code> format
      defined in [<cite><a class="bibref" data-link-type="biblio"
      href="#bib-rfc3339" title=
      "Date and Time on the Internet: Timestamps">RFC3339</a></cite>].</span></p>
      <div class="example" id="example-3">
        <div class="marker">
          <a class="self-link" href="#example-3">Example
          <bdi>3</bdi></a>
        </div>
        <pre class=""><code aria-busy="false" class=
        "hljs yaml"><span class=
        "hljs-number">2022-09-21T23:20:50.52Z</span></code></pre>
      </div>
      <div class="note" role="note" id=
      "issue-container-generatedID-1">
        <div role="heading" class="note-title marker" id="h-note-1"
        aria-level="4">
          <span>Note</span>
        </div>
        <p class="">In order to reduce ambiguity, RFC 3339 only
        permits an hour with a value between 00 and 23 (not 24),
        and time zones expressed as a numerical offset relative to
        UTC. The suffix "Z" when applied to a time denotes a UTC
        offset of 00:00.</p>
      </div>
    </section>
    <section id="common-constraints-security">
      <div class="header-wrapper">
        <h3 id="x5-3-security"><bdi class="secno">5.3</bdi>
        Security</h3><a class="self-link" href=
        "#common-constraints-security" aria-label=
        "Permalink for Section 5.3"></a>
      </div>
      <div class="rfc2119-assertion" id=
      "common-constraints-security-1">
        <p>Conformant <a href="#dfn-web-thing" class="internalDFN"
        data-link-type="dfn" id="ref-for-dfn-web-thing-6">Web
        Things</a> <em class="rfc2119">MUST</em> use at least one
        of the following security schemes [<cite><a class="bibref"
        data-link-type="biblio" href="#bib-wot-thing-description11"
        title=
        "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]:</p>
        <ul>
          <li><code>NoSecurityScheme</code></li>
          <li><code>BasicSecurityScheme</code></li>
          <li><code>OAuth2SecurityScheme</code> with the
          <code>code</code> or <code>client</code> flow</li>
        </ul>
      </div>
      <div class="rfc2119-assertion" id=
      "common-constraints-security-2">
        <p>Conformant <a href="#dfn-consumer" class="internalDFN"
        data-link-type="dfn" id=
        "ref-for-dfn-consumer-19">Consumers</a> <em class=
        "rfc2119">MUST</em> support all of the following security
        schemes [<cite><a class="bibref" data-link-type="biblio"
        href="#bib-wot-thing-description11" title=
        "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]:</p>
        <ul>
          <li><code>NoSecurityScheme</code></li>
          <li><code>BasicSecurityScheme</code></li>
          <li><code>OAuth2SecurityScheme</code> with the
          <code>code</code> or <code>client</code> flow</li>
          <li><code>ComboSecurityScheme</code> with the
          <code>oneOf</code> member containing at least one of the
          schemes above</li>
        </ul>
      </div>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-security-3">A <a href="#dfn-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-10">Thing</a> <em class="rfc2119">MAY</em>
      implement multiple security schemes.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-security-4">If a <a href="#dfn-thing"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-11">Thing</a> supports multiple security
      schemes it <em class="rfc2119">MUST</em> use the
      <code>ComboSecurityScheme</code> to enumerate those schemes
      using the <code>oneOf</code> member, so that only one
      security scheme is required to be used at a time.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-security-basic-in">For the
      <code>BasicSecurityScheme</code> the "in" field <em class=
      "rfc2119">MUST</em> be either omitted or be given its default
      value of "header" as defined in [<cite><a class="bibref"
      data-link-type="biblio" href="#bib-wot-thing-description11"
      title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>].</span>
      <span class="rfc2119-assertion" id=
      "common-constraints-security-basic-name">For the
      <code>BasicSecurityScheme</code> the "name" field <em class=
      "rfc2119">MUST</em> be provided using the value
      "Authorization" if a "proxy" endpoint is not given.</span>
      <span class="rfc2119-assertion" id=
      "common-constraints-security-basic-proxy">For the
      <code>BasicSecurityScheme</code> the "name" field <em class=
      "rfc2119">MUST</em> be provided using the value
      "Proxy-Authorization" if a "proxy" endpoint is
      given.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-security-6">Conformant <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-20">Consumers</a> <em class=
      "rfc2119">MUST</em> support security bootstrapping for all
      implemented security schemes, as defined in <a href=
      "https://www.w3.org/TR/wot-discovery/#exploration-secboot">Security
      Bootstrapping</a> in the WoT Discovery [<cite><a class=
      "bibref" data-link-type="biblio" href="#bib-wot-discovery"
      title=
      "Web of Things (WoT) Discovery">wot-discovery</a></cite>]
      specification.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-security-7">Conformant <a href=
      "#dfn-thing" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-12">Things</a> which require
      authentication in order to retrieve their <a href=
      "#dfn-thing-description" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-thing-description-11">Thing
      Description</a> <em class="rfc2119">MUST</em> implement
      security bootstrapping, as defined in <a href=
      "https://www.w3.org/TR/wot-discovery/#exploration-secboot">Security
      Bootstrapping</a> in the WoT Discovery [<cite><a class=
      "bibref" data-link-type="biblio" href="#bib-wot-discovery"
      title=
      "Web of Things (WoT) Discovery">wot-discovery</a></cite>]
      specification.</span></p>
    </section>
    <section id="common-constraints-discovery">
      <div class="header-wrapper">
        <h3 id="x5-4-discovery"><bdi class="secno">5.4</bdi>
        Discovery</h3><a class="self-link" href=
        "#common-constraints-discovery" aria-label=
        "Permalink for Section 5.4"></a>
      </div>
      <p class="rfc2119-assertion" id=
      "common-constraints-discovery-1">A <a href="#dfn-web-thing"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-7">Web Thing</a>'s <a href=
      "#dfn-thing-description" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-thing-description-12">Thing
      Description</a> [<cite><a class="bibref" data-link-type=
      "biblio" href="#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      <em class="rfc2119">MUST</em> be retrievable from a <a href=
      "https://www.w3.org/TR/wot-architecture/#dfn-wot-thing-description-server">
      Thing Description Server</a> [<cite><a class="bibref"
      data-link-type="biblio" href="#bib-wot-architecture11" title=
      "Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>]
      using an HTTP URL [<cite><a class="bibref" data-link-type=
      "biblio" href="#bib-rfc9110" title=
      "HTTP Semantics">RFC9110</a></cite>] provided by a <a href=
      "https://www.w3.org/TR/wot-discovery/#introduction-direct">Direct
      Introduction Mechanism</a> [<cite><a class="bibref"
      data-link-type="biblio" href="#bib-wot-discovery" title=
      "Web of Things (WoT) Discovery">wot-discovery</a></cite>].</p>
    </section>
    <section id="common-constraints-links">
      <div class="header-wrapper">
        <h3 id="x5-5-links"><bdi class="secno">5.5</bdi>
        Links</h3><a class="self-link" href=
        "#common-constraints-links" aria-label=
        "Permalink for Section 5.5"></a>
      </div>A <a href="#dfn-thing-description" class="internalDFN"
      data-link-type="dfn" id=
      "ref-for-dfn-thing-description-13">Thing Description</a> can
      contain <a href=
      "https://www.w3.org/TR/wot-thing-description/#link">Links</a>
      [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      in its top level <code>links</code> member that provide
      hyperlinks to other web resources. This section defines
      specific combinations of <code>rel</code> and
      <code>type</code> members of a Link which conformant <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-21">Consumers</a> are expected to
      interpret in a particular way.
      <table class="def">
        <thead>
          <tr>
            <th>rel</th>
            <th>type</th>
            <th>Meaning</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>icon</code></td>
            <td><code>image/*</code></td>
            <td>An icon representing the Thing</td>
          </tr>
          <tr>
            <td><code>alternate</code></td>
            <td><code>text/html</code></td>
            <td>A user interface to interact with the Thing</td>
          </tr>
          <tr>
            <td><code>service-doc</code></td>
            <td><code>text/plain</code> or <code>text/html</code>
            or <code>text/pdf</code></td>
            <td>A user manual for the Thing</td>
          </tr>
          <tr>
            <td><code>item</code></td>
            <td><code>application/td+json</code></td>
            <td>The target Thing is a component of this Thing or a
            member of a collection of Things that this Thing
            represents</td>
          </tr>
          <tr>
            <td><code>collection</code></td>
            <td><code>application/td+json</code></td>
            <td>This Thing is a component of the target Thing or a
            group of Things that the target Thing represents</td>
          </tr>
        </tbody>
      </table>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-links-media-types-4">If a <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-22">Consumer</a> encounters a link with
      "rel": "icon" and "type": "image/*" and it is capable of
      rendering images in the provided format, then it <em class=
      "rfc2119">SHOULD</em> interpret the link as an icon for the
      Thing and display it to the user.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-links-media-types-5">If a <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-23">Consumer</a> encounters a link with
      "rel": "alternate" and "type": "text/html" and it is capable
      of rendering an HTML page and accepting user input, then it
      <em class="rfc2119">SHOULD</em> interpret the link as a user
      interface for the Thing and provide a means for the user to
      follow that link and view and interact with the HTML
      page.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-links-media-types-6">If a <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-24">Consumer</a> encounters a link with
      "rel": "service-doc" and "type": "text/plain", "type":
      "text/html" or "type": "text/pdf", and is capable of
      rendering documents in the provided format, then it
      <em class="rfc2119">SHOULD</em> interpret the link as a user
      manual for the Thing and provide a means for the user to
      follow that link and read the user manual.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-links-media-types-7">If a <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-25">Consumer</a> encounters a link with
      "rel": "item" and "type": "application/td+json" and is
      capable of rendering a hierarchical tree of Things, then it
      should interpret the link as an indication that the target is
      a sub-Thing of the current Thing and render this in a
      meaningful way to the user.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-links-media-types-8">If a <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-26">Consumer</a> encounters a link with
      "rel": "collection" and "type": "application/td+json" and is
      capable of rendering a hierarchical tree of Things, then it
      should interpret the link as an indication that the target
      describes a Thing (e.g. a group, system of Things or Thing
      Directory) which contains the current Thing and render this
      in a meaningful way to the user.</span></p>
    </section>
    <section id="common-constraints-errors">
      <div class="header-wrapper">
        <h3 id="error-responses"><bdi class="secno">5.6</bdi>
        Errors</h3><a class="self-link" href="#error-responses"
        aria-label="Permalink for Section 5.6"></a>
      </div>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-errors-1">If any of the operations
      defined in the protocol bindings of HTTP profiles are
      unsuccessful then the <a href="#dfn-web-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-8">Web Thing</a> <em class=
      "rfc2119">MUST</em> send an HTTP response with an HTTP error
      code which describes the reason for the failure.</span></p>
      <div class="rfc2119-assertion" id=
      "common-constraints-errors-2">
        <p>It is <em class="rfc2119">RECOMMENDED</em> that error
        responses use one of the following HTTP error codes:</p>
        <ul>
          <li><code>400 Bad Request</code></li>
          <li><code>401 Unauthorized</code></li>
          <li><code>403 Forbidden</code></li>
          <li><code>404 Not Found</code></li>
          <li><code>500 Internal Server Error</code></li>
          <li><code>503 Service Unavailable</code></li>
        </ul>
      </div>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-errors-3">A <a href="#dfn-web-thing"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-9">Web Thing</a> <em class=
      "rfc2119">MAY</em> respond with 3xx status codes for the
      purposes of redirection, caching or authentication.</span>
      <span class="rfc2119-assertion" id=
      "common-constraints-errors-4">A <a href="#dfn-web-thing"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-10">Web Thing</a> <em class=
      "rfc2119">MUST NOT</em> respond with a <code>300 Multiple
      Choices</code> status code.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-errors-5"><a href="#dfn-web-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-11">Web Things</a> <em class=
      "rfc2119">MAY</em> respond with other valid HTTP error codes
      (e.g. <code>418 I'm a teapot</code>).</span> <span class=
      "rfc2119-assertion" id="common-constraints-errors-6"><a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-27">Consumers</a> <em class=
      "rfc2119">MAY</em> interpret other valid HTTP error codes as
      a generic <code>4xx</code> or <code>5xx</code> error with no
      special defined behavior.</span></p>
      <p><span class="rfc2119-assertion" id=
      "common-constraints-errors-7">If an HTTP error response
      contains a body, the content of that body <em class=
      "rfc2119">MUST</em> conform with the Problem Details format
      [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-rfc7807" title=
      "Problem Details for HTTP APIs">RFC7807</a></cite>].</span></p>
    </section>
  </section>
  <section id="http-basic-profile">
    <div class="header-wrapper">
      <h2 id="x6-http-basic-profile"><bdi class="secno">6.</bdi>
      HTTP Basic Profile</h2><a class="self-link" href=
      "#http-basic-profile" aria-label=
      "Permalink for Section 6."></a>
    </div>
    <p>This section defines the HTTP Basic Profile, which includes
    a <a href="#http-basic-profile-protocol-binding">Protocol
    Binding</a> for reading and writing properties and invoking,
    querying and cancelling actions.</p>
    <p>This profile may be used in conjunction with the <a href=
    "#http-sse-profile">HTTP SSE Profile</a> or the <a href=
    "#http-webhook-profile">HTTP Webhook Profile</a> in order to
    provide operations for observing properties and listening for
    events.</p>
    <p><span class="rfc2119-assertion" id="http-basic-profile-1">In
    order to conform with the HTTP Basic Profile, Web Things and
    <a href="#dfn-consumer" class="internalDFN" data-link-type=
    "dfn" id="ref-for-dfn-consumer-28">Consumer</a>s <em class=
    "rfc2119">MUST</em> also conform with all of the assertions in
    the <a href="#common-constraints">Common Constraints</a>
    section.</span></p>
    <section id="http-basic-profile-identifier">
      <div class="header-wrapper">
        <h3 id="x6-1-identifier"><bdi class="secno">6.1</bdi>
        Identifier</h3><a class="self-link" href=
        "#http-basic-profile-identifier" aria-label=
        "Permalink for Section 6.1"></a>
      </div>
      <p><span class="rfc2119-assertion" id=
      "http-basic-profile-identifier-1">In order to denote that a
      given <a href="#dfn-web-thing" class="internalDFN"
      data-link-type="dfn" id="ref-for-dfn-web-thing-12">Web
      Thing</a> conforms to the HTTP Basic Profile, its <a href=
      "#dfn-thing-description" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-thing-description-14">Thing
      Description</a> <em class="rfc2119">MUST</em> have a <a href=
      "https://www.w3.org/TR/wot-thing-description/#thing"><code>profile</code></a>
      member [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      with a value of
      <code>https://www.w3.org/2022/wot/profile/http-basic/v1</code>.</span></p>
    </section>
    <section id="http-basic-profile-protocol-binding">
      <div class="header-wrapper">
        <h3 id="x6-2-protocol-binding"><bdi class="secno">6.2</bdi>
        Protocol Binding</h3><a class="self-link" href=
        "#http-basic-profile-protocol-binding" aria-label=
        "Permalink for Section 6.2"></a>
      </div>
      <p>This section defines a <a href="#dfn-protocol-binding"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-protocol-binding-1">Protocol Binding</a> which
      describes how a <a href="#dfn-consumer" class="internalDFN"
      data-link-type="dfn" id=
      "ref-for-dfn-consumer-29">Consumer</a> communicates with a
      <a href="#dfn-web-thing" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-web-thing-13">Web Thing</a>
      [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-architecture11" title=
      "Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>]
      using JSON [<cite><a class="bibref" data-link-type="biblio"
      href="#bib-json" title=
      "The JavaScript Object Notation (JSON) Data Interchange Format">JSON</a></cite>]
      payloads over the HTTP protocol [<cite><a class="bibref"
      data-link-type="biblio" href="#bib-rfc9112" title=
      "HTTP/1.1">RFC9112</a></cite>].</p>
      <p><span class="rfc2119-assertion" id=
      "profile-5-2-thing-protocol-binding-1">A <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-30">Consumer</a> or <a href=
      "#dfn-web-thing" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-14">Web Thing</a> conforming to the
      HTTP Basic Profile <em class="rfc2119">MUST</em> implement
      this protocol binding.</span></p>
      <p>The examples provided throughout this section describe how
      a <a href="#dfn-consumer" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-consumer-31">Consumer</a> would
      communicate with a <a href="#dfn-web-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-15">Web Thing</a> which produces the
      following <a href="#dfn-thing-description" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-description-15">Thing Description</a>:</p>
      <div class="example" id="example-4">
        <div class="marker">
          <a class="self-link" href="#example-4">Example
          <bdi>4</bdi></a>
        </div>
        <pre aria-busy="false"><code class="hljs json"><span class=
        "hljs-punctuation">{</span>
  <span class="hljs-attr">"@context"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/things/lamp"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"profile"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://www.w3.org/2022/wot/profile/http-basic/v1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"base"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/things/lamp/"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"My Lamp"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"A web connected lamp"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"securityDefinitions"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"oauth2"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"scheme"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"oauth2"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"flow"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"code"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"authorization"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/oauth/authorize"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"token"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/oauth/token"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"security"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"oauth2"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"properties"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"on"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"boolean"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"On/Off"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Whether the lamp is turned on"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-punctuation">{</span><span class=
"hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/on"</span><span class=
"hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-attr">"level"</span> <span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"integer"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Brightness"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"The level of light from 0-100"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"percent"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"minimum"</span> <span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"maximum"</span> <span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">100</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-punctuation">{</span><span class=
"hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/level"</span><span class=
"hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"actions"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"fade"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Fade"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Fade the lamp to a given level"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"synchronous"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-literal"><span class=
"hljs-keyword">false</span></span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"input"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"object"</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-attr">"properties"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"level"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Brightness"</span><span class=
"hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"integer"</span><span class=
"hljs-punctuation">,</span>
            <span class="hljs-attr">"minimum"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"maximum"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">100</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"percent"</span>
          <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"duration"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Duration"</span><span class=
"hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"integer"</span><span class=
"hljs-punctuation">,</span>
            <span class="hljs-attr">"minimum"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"milliseconds"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-punctuation">{</span><span class=
"hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"actions/fade"</span><span class=
"hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-string">"readallproperties"</span><span class=
"hljs-punctuation">,</span> <span class=
"hljs-string">"writemultipleproperties"</span><span class=
"hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties"</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"queryallactions"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"actions"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span></code></pre>
      </div>
      <section id="http-basic-profile-protocol-binding-properties">
        <div class="header-wrapper">
          <h4 id="x6-2-1-properties"><bdi class="secno">6.2.1</bdi>
          Properties</h4><a class="self-link" href=
          "#http-basic-profile-protocol-binding-properties"
          aria-label="Permalink for Section 6.2.1"></a>
        </div>
        <section id=
        "http-basic-profile-protocol-binding-readproperty">
          <div class="header-wrapper">
            <h5 id="x6-2-1-1-readproperty"><bdi class=
            "secno">6.2.1.1</bdi>
            <code>readproperty</code></h5><a class="self-link"
            href="#http-basic-profile-protocol-binding-readproperty"
            aria-label="Permalink for Section 6.2.1.1"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readproperty-1">
            <p>The URL of a property resource to be used when
            reading the value of a <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-1">Property</a> <em class=
            "rfc2119">MUST</em> be obtained from a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-16">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
            PropertyAffordance</a> for which:</p>
            <ul>
              <li>After defaults have been applied, its
              <code>op</code> member contains the value
              <code>readproperty</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readproperty-3">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the
          property resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readproperty-4">
            <p>In order to read the value of a <a href=
            "#dfn-property" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-property-2">Property</a>, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-32">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-16">Web Thing</a>
            with:</p>
            <ul>
              <li>Method set to <code>GET</code></li>
              <li>URL set to the URL of the property resource</li>
              <li><code>Accept</code> header set to
              <code>application/json</code></li>
            </ul>
          </div>
          <div class="example" id="example-5">
            <div class="marker">
              <a class="self-link" href="#example-5">Example
              <bdi>5</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/properties/on</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>application/json</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readproperty-6">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-17">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-33">Consumer</a> has permission
            to read the corresponding <a href="#dfn-property"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-3">Property</a>, then upon
            successfully reading the value of the <a href=
            "#dfn-property" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-property-4">Property</a> it
            <em class="rfc2119">MUST</em> send an HTTP response
            with:</p>
            <ul>
              <li>Status code set to <code>200</code></li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body with the value of the property serialized
              in JSON</li>
            </ul>
          </div>
          <div class="example" id="example-6">
            <div class="marker">
              <a class="self-link" href="#example-6">Example
              <bdi>6</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">HTTP/1.1</span> <span class=
            "hljs-number">200</span> <span class=
            "hljs-string">OK</span>
<span class="hljs-attr">Content-Type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-literal">false</span></code></pre>
          </div>
        </section>
        <section id=
        "http-basic-profile-protocol-binding-writeproperty">
          <div class="header-wrapper">
            <h5 id="x6-2-1-2-writeproperty"><bdi class=
            "secno">6.2.1.2</bdi>
            <code>writeproperty</code></h5><a class="self-link"
            href=
            "#http-basic-profile-protocol-binding-writeproperty"
            aria-label="Permalink for Section 6.2.1.2"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writeproperty-1">
            <p>The URL of a property resource to be used when
            writing the value of a <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-5">Property</a> <em class=
            "rfc2119">MUST</em> be obtained from a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-17">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
            PropertyAffordance</a> for which:</p>
            <ul>
              <li>After defaults have been applied, its
              <code>op</code> member contains the value
              <code>writeproperty</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writeproperty-3">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the
          property resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writeproperty-4">
            <p>In order to write the value of a <a href=
            "#dfn-property" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-property-6">Property</a>, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-34">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-18">Web Thing</a>
            with:</p>
            <ul>
              <li>Method set to <code>PUT</code></li>
              <li>URL set to the URL of the property resource</li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body with a requested new value for the
              property serialized in JSON</li>
            </ul>
          </div>
          <div class="example" id="example-7">
            <div class="marker">
              <a class="self-link" href="#example-7">Example
              <bdi>7</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">PUT</span> <span class=
            "hljs-string">/things/lamp/properties/on</span> <span class=
            "hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span>
<span class="hljs-attr">Content-Type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-literal">true</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writeproperty-6">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-19">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-35">Consumer</a> has permission
            to write the corresponding <a href="#dfn-property"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-7">Property</a>, then upon
            successfully writing the value of the property it
            <em class="rfc2119">MUST</em> send an HTTP response
            with:</p>
            <ul>
              <li>Status code set to <code>204</code></li>
            </ul>
          </div>
          <div class="example" id="example-8">
            <div class="marker">
              <a class="self-link" href="#example-8">Example
              <bdi>8</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
        <section id=
        "http-basic-profile-protocol-binding-readallproperties">
          <div class="header-wrapper">
            <h5 id="x6-2-1-3-readallproperties"><bdi class=
            "secno">6.2.1.3</bdi>
            <code>readallproperties</code></h5><a class="self-link"
            href=
            "#http-basic-profile-protocol-binding-readallproperties"
            aria-label="Permalink for Section 6.2.1.3"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readallproperties-1">
            <p>The URL of a properties resource to be used when
            reading the value of all <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-8">Properties</a> at once
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-18">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>readallproperties</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readallproperties-3">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the properties resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readallproperties-4">
            <p>In order to read the value of all <a href=
            "#dfn-property" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-property-9">Properties</a>, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-36">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-20">Web Thing</a>
            with:</p>
            <ul>
              <li>Method set to <code>GET</code></li>
              <li>URL set to the URL of the properties
              resource</li>
              <li><code>Accept</code> header set to
              <code>application/json</code></li>
            </ul>
          </div>
          <div class="example" id="example-9">
            <div class="marker">
              <a class="self-link" href="#example-9">Example
              <bdi>9</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/properties</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>application/json</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-readallproperties-5">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-21">Web
            Thing</a> receives an HTTP request following the format
            above, then upon successfully reading the values of all
            the readable <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-10">Properties</a> to which the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-37">Consumer</a> has permission
            to access, it <em class="rfc2119">MUST</em> send an
            HTTP response with:</p>
            <ul>
              <li>Status code set to <code>200</code></li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body with the values of all readable properties
              serialized in JSON, as an object keyed by property
              name</li>
            </ul>
          </div>
          <div class="example" id="example-10">
            <div class="marker">
              <a class="self-link" href="#example-10">Example
              <bdi>10</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">HTTP/<span class=
            "hljs-number">1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content</span>-Type: application/json
{
  "on": false,
  <span class="hljs-string">"level"</span>: <span class=
"hljs-number">100</span>
}</code></pre>
          </div>
        </section>
        <section id=
        "http-basic-profile-protocol-binding-writemultipleproperties">
          <div class="header-wrapper">
            <h5 id="x6-2-1-4-writemultipleproperties"><bdi class=
            "secno">6.2.1.4</bdi>
            <code>writemultipleproperties</code></h5><a class=
            "self-link" href=
            "#http-basic-profile-protocol-binding-writemultipleproperties"
            aria-label="Permalink for Section 6.2.1.4"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writemultipleproperties-1">
            <p>The URL of a properties resource to be used when
            writing the value of multiple <a href="#dfn-property"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-11">Properties</a> at once
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-19">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>writemultipleproperties</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-bindings-writemultipleproperties-3">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the properties resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writemultipleproperties-4">
            <p>In order to write the value of multiple properties
            at once, a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-38">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-22">Web Thing</a>
            with:</p>
            <ul>
              <li>Method set to <code>PUT</code></li>
              <li>URL set to the URL of the <a href="#dfn-property"
                class="internalDFN" data-link-type="dfn" id=
                "ref-for-dfn-property-12">Properties</a> resource
              </li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body with requested new values for the writable
              <a href="#dfn-property" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-property-13">Properties</a> serialized
              in JSON, as an object keyed by property name
              </li>
            </ul>
          </div>
          <div class="example" id="example-11">
            <div class="marker">
              <a class="self-link" href="#example-11">Example
              <bdi>11</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">PUT</span> <span class=
            "hljs-string">/things/lamp/properties</span> <span class=
            "hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span>
<span class="hljs-attr">Content-Type:</span> <span class=
"hljs-string">application/json</span>
{
  <span class="hljs-attr">"on":</span> <span class=
"hljs-literal">true</span>,
  <span class="hljs-attr">"level":</span> <span class=
"hljs-number">50</span>
}</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-writemultipleproperties-6">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-23">Web
            Thing</a> receives an HTTP request following the format
            above, then upon successfully writing the values of the
            requested writable <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-14">Properties</a> it <em class=
            "rfc2119">MUST</em> send an HTTP response with:</p>
            <ul>
              <li>Status code set to <code>204</code></li>
            </ul>
          </div>
          <div class="example" id="example-12">
            <div class="marker">
              <a class="self-link" href="#example-12">Example
              <bdi>12</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
        <div class="note" role="note" id=
        "issue-container-generatedID-2">
          <div role="heading" class="note-title marker" id=
          "h-note-2" aria-level="5">
            <span>Note</span>
          </div>
          <p class="">The <code>readmultipleproperties</code>
          operation is excluded due to the complexities of the
          request payload format and because it doesn't add much
          functionality over <code>readproperty</code> and
          <code>readallproperties</code>.
          <code>writeallproperties</code> is excluded because it is
          just a special case of
          <code>writemultipleproperties</code>.</p>
        </div>
      </section>
      <section id="http-basic-profile-protocol-binding-actions">
        <div class="header-wrapper">
          <h4 id="x6-2-2-actions"><bdi class="secno">6.2.2</bdi>
          Actions</h4><a class="self-link" href=
          "#http-basic-profile-protocol-binding-actions"
          aria-label="Permalink for Section 6.2.2"></a>
        </div>
        <section id=
        "http-basic-profile-protocol-binding-invokeaction">
          <div class="header-wrapper">
            <h5 id="x6-2-2-1-invokeaction"><bdi class=
            "secno">6.2.2.1</bdi>
            <code>invokeaction</code></h5><a class="self-link"
            href="#http-basic-profile-protocol-binding-invokeaction"
            aria-label="Permalink for Section 6.2.2.1"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-1">
            <p>The URL of an action resource to be used when
            invoking an <a href="#dfn-action" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-action-1">Action</a> <em class=
            "rfc2119">MUST</em> be obtained from a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-20">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#actionaffordance">
            ActionAffordance</a> for which:</p>
            <ul>
              <li>After defaults have been applied, the value of
              its <code>op</code> member is
              <code>invokeaction</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-3">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the action
          resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-4">
            <p>In order to invoke an <a href="#dfn-action" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-action-2">Action</a> on a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-24">Web Thing</a>, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-39">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-25">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the URL of the action resource</li>
              <li><code>Accept</code> header set to
              <code>application/json</code></li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code> (only if the action has
              an input)</li>
              <li>A body with an input to the action, if any,
              serialized in JSON</li>
            </ul>
          </div>
          <div class="example" id="example-13">
            <div class="marker">
              <a class="self-link" href="#example-13">Example
              <bdi>13</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">POST</span> <span class=
            "hljs-string">/things/lamp/actions/fade</span> <span class=
            "hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span>
<span class="hljs-attr">Content-Type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-attr">Accept:</span> <span class=
"hljs-string">application/json</span>
{
  <span class="hljs-attr">"level":</span> <span class=
"hljs-number">100</span>,
  <span class="hljs-attr">"duration":</span> <span class=
"hljs-number">5</span>
}</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-5">If
          the action does not have an input then the
          <code>Content-type</code> header of the request
          <em class="rfc2119">SHOULD NOT</em> be set, and the body
          should be empty.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-3">
            <div role="heading" class="note-title marker" id=
            "h-note-3" aria-level="6">
              <span>Note</span>
            </div>
            <p class="">A valid JSON value — such as
            <code>null</code>, empty quotation marks
            (<code>""</code>), or empty braces (<code>{}</code>) —
            could be a valid action input and is not considered to
            be an "empty" body.</p>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-6">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-26">Web
            Thing</a> receives an HTTP request following the format
            above then it <em class="rfc2119">MUST</em> respond
            with one of three response formats:</p>
            <ol>
              <li>
                <a href="#sync-action-response">Synchronous Action
                Response</a>
              </li>
              <li>
                <a href="#async-action-response">Asynchronous
                Action Response</a>
              </li>
              <li>
                <a href="#error-responses">Error Response</a>
              </li>
            </ol>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-24">The
          <code>synchronous</code> member of an <a href=
          "https://w3c.github.io/wot-thing-description/#actionaffordance">
          ActionAffordance</a> <em class="rfc2119">MUST</em> be set
          to <code>true</code> or <code>false</code>.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-7">If
          the <code>synchronous</code> member of the <a href=
          "https://w3c.github.io/wot-thing-description/#actionaffordance">
          ActionAffordance</a> [<cite><a class="bibref"
          data-link-type="biblio" href=
          "#bib-wot-thing-description11" title=
          "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
          is set to <code>true</code> then the Web Thing <em class=
          "rfc2119">MUST</em> respond with a <a href=
          "#sync-action-response">Synchronous Action
          Response</a>.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-8">If
          the <code>synchronous</code> member of the <a href=
          "https://w3c.github.io/wot-thing-description/#actionaffordance">
          ActionAffordance</a> [<cite><a class="bibref"
          data-link-type="biblio" href=
          "#bib-wot-thing-description11" title=
          "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
          is set to <code>false</code> then the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-27">Web Thing</a> <em class=
          "rfc2119">MUST</em> respond with an <a href=
          "#async-action-response">Asynchronous Action
          Response</a>.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-10">For
          long-running actions which are not expected to finish
          executing within the timeout period of an HTTP request
          (e.g. 30 to 120 seconds), it is <em class=
          "rfc2119">RECOMMENDED</em> that a <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-28">Web Thing</a> respond with
          an Asynchronous Action Response so that a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-40">Consumer</a> may continue to
          monitor the status of an action request with a
          <code>queryaction</code> operation on a dynamically
          created <code>ActionStatus</code> resource, after the
          initial <code>invokeaction</code> response.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-11">For
          short-lived actions which are expected to finish
          executing within the timeout period of an HTTP request, a
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-29">Web
          Thing</a> <em class="rfc2119">MAY</em> wait until the
          action has completed to send a Synchronous Action
          Response.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-12">If
          a <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-30">Web
          Thing</a> encounters an error in attempting to execute an
          action before responding to the <code>invokeaction</code>
          request, then it <em class="rfc2119">MUST</em> send an
          Error Response.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-13">Conforming
          <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-41">Consumers</a> <em class=
          "rfc2119">MUST</em> support all three types of response
          to the initial <code>invokeaction</code> request.</span>
          <span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-invokeaction-14">After
          the initial request, support for subsequent operations on
          an <code>ActionStatus</code> resource is <em class=
          "rfc2119">OPTIONAL</em>.</span></p>
          <section id="actionstatus-object">
            <div class="header-wrapper">
              <h6 id="ActionStatus"><bdi class=
              "secno">6.2.2.1.1</bdi> <code>ActionStatus</code>
              object</h6><a class="self-link" href="#ActionStatus"
              aria-label="Permalink for Section 6.2.2.1.1"></a>
            </div>
            <div class="rfc2119-assertion" id=
            "http-basic-profile-protocol-binding-invokeaction-15">
              <p>The status of an asynchronous action invocation
              request is represented by an
              <code>ActionStatus</code> object which includes the
              following members:</p>
              <table class="def">
                <thead>
                  <tr>
                    <th>Member</th>
                    <th>Description</th>
                    <th>Assignment</th>
                    <th>Type</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="rfc2119-table-assertion" id=
                  "http-basic-profile-protocol-binding-invokeaction-16">
                    <td><code>status</code></td>
                    <td>The status of the action request.</td>
                    <td>mandatory</td>
                    <td>
                      <a href=
                      "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
                      <code>string</code></a> (one of
                      <code>pending</code>, <code>running</code>,
                      <code>completed</code> or
                      <code>failed</code>)
                    </td>
                  </tr>
                  <tr class="rfc2119-table-assertion" id=
                  "http-basic-profile-protocol-binding-invokeaction-17">
                    <td><code>output</code></td>
                    <td>
                      The output data, if any, of a completed
                      action which <em class="rfc2119">MUST</em>
                      conform with the <code>output</code> data
                      schema of the corresponding <a href=
                      "https://www.w3.org/TR/wot-thing-description/#actionaffordance">
                      ActionAffordance</a>.
                    </td>
                    <td>optional</td>
                    <td>any type</td>
                  </tr>
                  <tr class="rfc2119-table-assertion" id=
                  "http-basic-profile-protocol-binding-invokeaction-18">
                    <td><code>error</code></td>
                    <td>
                      An error message, if any, associated with a
                      failed action which <em class=
                      "rfc2119">MUST</em> use the JSON
                      serialization of the Problem Details format
                      [<cite><a class="bibref" data-link-type=
                      "biblio" href="#bib-rfc7807" title=
                      "Problem Details for HTTP APIs">RFC7807</a></cite>]
                      (only needed in response to a <a href=
                      "#http-basic-profile-protocol-binding-queryaction">
                      <code>queryaction</code></a> operation).
                    </td>
                    <td>optional</td>
                    <td><code>object</code></td>
                  </tr>
                  <tr class="rfc2119-table-assertion" id=
                  "http-basic-profile-protocol-binding-invokeaction-19">
                    <td><code>href</code></td>
                    <td>
                      The [<cite><a class="bibref" data-link-type=
                      "biblio" href="#bib-url" title=
                      "URL Standard">URL</a></cite>] of an
                      <code>ActionStatus</code> resource which can
                      be used by <code>queryaction</code> and
                      <code>cancelaction</code> operations, the
                      <a href=
                      "https://tools.ietf.org/html/rfc3986#section-3.1">
                      URI scheme</a> [<cite><a class="bibref"
                      data-link-type="biblio" href="#bib-rfc3986"
                      title=
                      "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
                      of which <em class="rfc2119">MUST</em>
                      resolve to <code>http</code> or
                      <code>https</code> (only needed for an
                      <a href="#async-action-response">Asynchronous
                      Action Response</a>).
                    </td>
                    <td>optional</td>
                    <td><code>string</code></td>
                  </tr>
                  <tr class="rfc2119-table-assertion">
                    <td><code>timeRequested</code></td>
                    <td>
                      A timestamp indicating the time at which the
                      Thing received the request to execute the
                      action. (See <a href="#date-format">Date
                      Format</a> for date format constraints).
                    </td>
                    <td>optional</td>
                    <td><code>string</code></td>
                  </tr>
                  <tr class="rfc2119-table-assertion">
                    <td><code>timeEnded</code></td>
                    <td>
                      A timestamp indicating the time at which the
                      <a href="#dfn-thing" class="internalDFN"
                      data-link-type="dfn" id=
                      "ref-for-dfn-thing-13">Thing</a> successfully
                      completed executing the action, or failed to
                      execute the action. (See <a href=
                      "#date-format">Date Format</a> for date
                      format constraints).
                    </td>
                    <td>optional</td>
                    <td><code>string</code></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="note" role="note" id=
            "issue-container-generatedID-4">
              <div role="heading" class="note-title marker" id=
              "h-note-4" aria-level="6">
                <span>Note</span>
              </div>
              <p class="">It is possible that a <a href=
              "#dfn-thing" class="internalDFN" data-link-type="dfn"
              id="ref-for-dfn-thing-14">Thing</a>'s clock may not
              be set to the correct time. If timings are important
              then a <a href="#dfn-consumer" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-consumer-42">Consumer</a> may therefore
              choose to treat the <code>timeEnded</code> member of
              an <code>ActionStatus</code> object as being relative
              to the <code>timeRequested</code> member, but not
              necessarily as relative to its own internal clock, or
              the clocks of other <a href="#dfn-thing" class=
              "internalDFN" data-link-type="dfn" id=
              "ref-for-dfn-thing-15">Things</a>.</p>
            </div>
          </section>
          <section id="synchronous-action-response">
            <div class="header-wrapper">
              <h6 id="sync-action-response"><bdi class=
              "secno">6.2.2.1.2</bdi> Synchronous Action
              Response</h6><a class="self-link" href=
              "#sync-action-response" aria-label=
              "Permalink for Section 6.2.2.1.2"></a>
            </div>
            <div class="rfc2119-assertion" id=
            "http-basic-profile-protocol-binding-invokeaction-20">
              <p>If providing a Synchronous Action Response for an
              action with an output, a <a href="#dfn-web-thing"
              class="internalDFN" data-link-type="dfn" id=
              "ref-for-dfn-web-thing-31">Web Thing</a> <em class=
              "rfc2119">MUST</em> send an HTTP response with:</p>
              <ul>
                <li>Status code set to <code>200</code></li>
                <li><code>Content-Type</code> header set to
                <code>application/json</code></li>
                <li>A body containing the output of the action,
                serialized in JSON</li>
              </ul>
            </div>
            <div class="example" id=
            "example-synchronous-action-response-with-an-output">
              <div class="marker">
                <a class="self-link" href=
                "#example-synchronous-action-response-with-an-output">
                Example <bdi>14</bdi></a><span class=
                "example-title">: Synchronous action response with
                an output</span>
              </div>
              <pre aria-busy="false"><code class=
              "hljs css">HTTP/<span class=
              "hljs-number">1.1</span> <span class=
              "hljs-number">200</span> OK
<span class="hljs-attribute">Content</span>-Type: application/json
<span class="hljs-number">20</span></code></pre>
            </div>
            <div class="rfc2119-assertion" id=
            "http-basic-profile-protocol-binding-invokeaction-20a">
              <p>If providing a Synchronous Action Response for an
              action with no output, a Web Thing <em class=
              "rfc2119">MUST</em> send an HTTP response with:</p>
              <ul>
                <li>Status code set to <code>204</code></li>
                <li><code>Content-Type</code> header not set</li>
                <li>An empty body</li>
              </ul>
            </div>
            <div class="example" id=
            "example-synchronous-action-response-without-an-output">
              <div class="marker">
                <a class="self-link" href=
                "#example-synchronous-action-response-without-an-output">
                Example <bdi>15</bdi></a><span class=
                "example-title">: Synchronous action response
                without an output</span>
              </div>
              <pre aria-busy="false"><code class=
              "hljs http"><span class=
              "hljs-meta">HTTP/1.1</span> <span class=
              "hljs-number">204</span> No Content</code></pre>
            </div>
            <div class="note" role="note" id=
            "issue-container-generatedID-5">
              <div role="heading" class="note-title marker" id=
              "h-note-5" aria-level="6">
                <span>Note</span>
              </div>
              <p class="">A valid JSON value — such as
              <code>null</code>, empty quotation marks
              (<code>""</code>), or empty braces (<code>{}</code>)
              — could be a valid action output and is not
              considered to be an "empty" body.</p>
            </div>
          </section>
          <section id="asynchronous-action-response">
            <div class="header-wrapper">
              <h6 id="async-action-response"><bdi class=
              "secno">6.2.2.1.3</bdi> Asynchronous Action
              Response</h6><a class="self-link" href=
              "#async-action-response" aria-label=
              "Permalink for Section 6.2.2.1.3"></a>
            </div>
            <div class="rfc2119-assertion" id=
            "http-basic-profile-protocol-binding-invokeaction-21">
              <p>If providing an Asynchronous Action Response, a
              <a href="#dfn-web-thing" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-web-thing-32">Web Thing</a> <em class=
              "rfc2119">MUST</em> send an HTTP response containing
              the URL of an <code>ActionStatus</code> resource, the
              <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of which <em class="rfc2119">MUST</em> resolve to
              <code>http</code> or <code>https</code>. The response
              <em class="rfc2119">MUST</em> have:</p>
              <ul>
                <li>Status code set to <code>201</code></li>
                <li><code>Content-Type</code> header set to
                <code>application/json</code></li>
                <li><code>Location</code> header set to the URL of
                the <code>ActionStatus</code> resource</li>
                <li>A body containing an <a href=
                "#ActionStatus"><code>ActionStatus</code></a>
                object serialized in JSON, with its
                <code>href</code> member set to the URL of the
                <code>ActionStatus</code> resource
                </li>
              </ul>
            </div>
            <div class="example" id="example-16">
              <div class="marker">
                <a class="self-link" href="#example-16">Example
                <bdi>16</bdi></a>
              </div>
              <pre aria-busy="false"><code class=
              "hljs css">HTTP/<span class=
              "hljs-number">1.1</span> <span class=
              "hljs-number">201</span> CREATED
<span class="hljs-attribute">Content</span>-Type: application/json
Location: /things/lamp/actions/fade/<span class=
"hljs-number">123</span>e4567-e89b-<span class=
"hljs-number">12</span>d3-a456-<span class=
"hljs-number">426655</span>
{
  "status": <span class="hljs-string">"pending"</span>,
  <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"/things/lamp/actions/fade/123e4567-e89b-12d3-a456-426655"</span>,
  <span class="hljs-string">"timeRequested"</span>: <span class=
"hljs-string">"2021-11-10T11:43:19.135Z"</span>
}</code></pre>
            </div>
            <div class="rfc2119-assertion" id=
            "http-basic-profile-protocol-binding-invokeaction-22">
              <p>In resource constrained environments, the
              <code>ActionStatus</code> objects of older
              completed/failed actions <em class="rfc2119">MAY</em>
              be deleted to make room for newly invoked
              actions.</p>
            </div>
            <div class="rfc2119-assertion" id=
            "http-basic-profile-protocol-binding-invokeaction-23">
              <p>A <a href="#dfn-web-thing" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-web-thing-33">Web Thing</a> <em class=
              "rfc2119">SHOULD</em> return a <code>503</code> error
              response if the invocation cannot be accepted because
              the action is unavailable, e.g. because the <a href=
              "#dfn-thing" class="internalDFN" data-link-type="dfn"
              id="ref-for-dfn-thing-16">Thing</a> is
              overloaded.</p>
            </div>
          </section>
        </section>
        <section id=
        "http-basic-profile-protocol-binding-queryaction">
          <div class="header-wrapper">
            <h5 id="x6-2-2-2-queryaction"><bdi class=
            "secno">6.2.2.2</bdi>
            <code>queryaction</code></h5><a class="self-link" href=
            "#http-basic-profile-protocol-binding-queryaction"
            aria-label="Permalink for Section 6.2.2.2"></a>
          </div>
          <p>A <code>queryaction</code> operation is used to query
          the current state of an ongoing action request.</p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-1a">A
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-34">Web
          Thing</a> which provides <a href=
          "#async-action-response">Asynchronous Action
          Responses</a> to an <code>invokeaction</code> operation
          on an <a href="#dfn-action" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-action-3">Action</a>
          <em class="rfc2119">MUST</em> also support
          <code>queryaction</code> operations on that same <a href=
          "#dfn-action" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-action-4">Action</a>.</span> <span class=
          "rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-1b">A
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-35">Web
          Thing</a> which only provides <a href=
          "#sync-action-response">Synchronous Action Response</a>s
          to an <code>invokeaction</code> operation on an <a href=
          "#dfn-action" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-action-5">Action</a> <em class=
          "rfc2119">SHOULD NOT</em> support
          <code>queryaction</code> operations on that same <a href=
          "#dfn-action" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-action-6">Action</a>.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-2">The
          URL of an <code>ActionStatus</code> resource to be used
          in a <code>queryaction</code> operation <em class=
          "rfc2119">MUST</em> be obtained from the
          <code>Location</code> header of an <a href=
          "#async-action-response">Asynchronous Action
          Response</a>, or the <code>href</code> member of the
          <code>ActionStatus</code> object in its body.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-3">
            <p>In order to query the status of an action request, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-43">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-36">Web Thing</a>
            with:</p>
            <ul>
              <li>Method set to <code>GET</code></li>
              <li>URL set to the URL of the
              <code>ActionStatus</code> resource</li>
              <li><code>Accept</code> header set to
              <code>application/json</code></li>
            </ul>
          </div>
          <div class="example" id="example-17">
            <div class="marker">
              <a class="self-link" href="#example-17">Example
              <bdi>17</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">GET</span> <span class=
            "hljs-string">/things/lamp/actions/fade/123e4567-e89b-12d3-a456-426655</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span>
<span class="hljs-attr">Accept:</span> <span class=
"hljs-string">application/json</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-5">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-37">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-44">Consumer</a> has permission
            to query the corresponding <code>ActionStatus</code>
            resource, then upon successfully reading the status of
            the action request it <em class="rfc2119">MUST</em>
            send an HTTP response with:</p>
            <ul>
              <li>Status code set to <code>200</code></li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body containing an <code>ActionStatus</code>
              object representing the current status of the action
              request, serialized in JSON</li>
            </ul>
          </div>
          <div class="example" id="example-18">
            <div class="marker">
              <a class="self-link" href="#example-18">Example
              <bdi>18</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">HTTP/<span class=
            "hljs-number">1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content</span>-Type: application/json
{
  "status": <span class="hljs-string">"running"</span>,
  <span class="hljs-string">"timeRequested"</span>: <span class=
"hljs-string">"2021-11-10T11:43:19.135Z"</span>
}</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-7a">If
          the queried action failed to execute, then the
          <code>status</code> member of the
          <code>ActionStatus</code> object <em class=
          "rfc2119">MUST</em> be set to
          <code>"failed"</code>.</span> <span class=
          "rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryaction-7b">If
          the queried action failed to execute, then the
          <code>error</code> member <em class="rfc2119">MAY</em>
          provide additional error information conforming to the
          Problem Details format [<cite><a class="bibref"
          data-link-type="biblio" href="#bib-rfc7807" title=
          "Problem Details for HTTP APIs">RFC7807</a></cite>].</span></p>
          <div class="example" id="example-19">
            <div class="marker">
              <a class="self-link" href="#example-19">Example
              <bdi>19</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">HTTP/<span class=
            "hljs-number">1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content</span>-Type: application/json
{
  "status": <span class="hljs-string">"failed"</span>,
  <span class="hljs-string">"error"</span>: {
    "type": <span class=
"hljs-string">"https://mythingserver.com/docs/errors/invalid-level"</span>,
    <span class="hljs-string">"title"</span>: <span class=
"hljs-string">"Invalid value for level provided"</span>,
    <span class="hljs-string">"invalid-params"</span>: [
      {
        "name": <span class="hljs-string">"level"</span>,
        <span class="hljs-string">"reason"</span>: <span class=
"hljs-string">"Must be a valid number between 0 and 100"</span>
      }
    ]
  },
  "timeRequested": <span class=
"hljs-string">"2021-11-10T11:43:19.135Z"</span>,
  <span class="hljs-string">"timeEnded"</span>: <span class=
"hljs-string">"2021-11-10T11:43:20.513Z"</span>
}</code></pre>
          </div>
        </section>
        <section id=
        "http-basic-profile-protocol-binding-cancelaction">
          <div class="header-wrapper">
            <h5 id="x6-2-2-3-cancelaction"><bdi class=
            "secno">6.2.2.3</bdi>
            <code>cancelaction</code></h5><a class="self-link"
            href="#http-basic-profile-protocol-binding-cancelaction"
            aria-label="Permalink for Section 6.2.2.3"></a>
          </div>
          <p>A <code>cancelaction</code> operation is used to
          cancel an ongoing action request.</p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-cancelaction-1a">A
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-38">Web
          Thing</a> which provides <a href=
          "#async-action-response">Asynchronous Action
          Response</a>s to an <code>invokeaction</code> operation
          on an <a href="#dfn-action" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-action-7">Action</a>
          <em class="rfc2119">MAY</em> also support
          <code>cancelaction</code> operations on that same
          <a href="#dfn-action" class="internalDFN" data-link-type=
          "dfn" id="ref-for-dfn-action-8">Action</a>.</span>
          <span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-cancelaction-1b">A
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-39">Web
          Thing</a> which only provides <a href=
          "#sync-action-response">Synchronous Action Response</a>s
          to an <code>invokeaction</code> operation on an <a href=
          "#dfn-action" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-action-9">Action</a> <em class=
          "rfc2119">SHOULD NOT</em> support
          <code>cancelaction</code> operations on that same
          <a href="#dfn-action" class="internalDFN" data-link-type=
          "dfn" id="ref-for-dfn-action-10">Action</a>.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-cancelaction-2">The
          URL of an <code>ActionStatus</code> resource to be used
          in a <code>cancelaction</code> operation <em class=
          "rfc2119">MUST</em> be obtained from the
          <code>Location</code> header of an <a href=
          "#async-action-response">Asynchronous Action
          Response</a>, or the <code>href</code> member of the
          <code>ActionStatus</code> object in its body.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-cancelaction-3">
            <p>In order to cancel an action request, a <a href=
            "#dfn-consumer" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-consumer-45">Consumer</a>
            <em class="rfc2119">MUST</em> send an HTTP request to a
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-40">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>DELETE</code></li>
              <li>URL set to the URL of the
              <code>ActionStatus</code> resource</li>
            </ul>
          </div>
          <div class="example" id="example-20">
            <div class="marker">
              <a class="self-link" href="#example-20">Example
              <bdi>20</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">DELETE</span> <span class=
            "hljs-string">/things/lamp/actions/fade/123e4567-e89b-12d3-a456-426655</span> <span class="hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-cancelaction-5">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-41">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-46">Consumer</a> has permission
            to cancel the corresponding action request, then upon
            successfully cancelling the action it <em class=
            "rfc2119">MUST</em> send an HTTP response with:</p>
            <ul>
              <li>Status code set to <code>204</code></li>
            </ul>
          </div>
          <div class="example" id="example-21">
            <div class="marker">
              <a class="self-link" href="#example-21">Example
              <bdi>21</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
        <section id="queryallactions">
          <div class="header-wrapper">
            <h5 id="x6-2-2-4-queryallactions"><bdi class=
            "secno">6.2.2.4</bdi>
            <code>queryallactions</code></h5><a class="self-link"
            href="#queryallactions" aria-label=
            "Permalink for Section 6.2.2.4"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryallactions-1">
            <p>The URL of an actions resource to be used when
            querying the status of all ongoing action requests
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-21">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>queryallactions</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryallactions-3">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the
          actions resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryallactions-4">
            <p>In order to query the status of all ongoing action
            requests, a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-47">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-42">Web Thing</a>
            with:</p>
            <ul>
              <li>Method set to <code>GET</code></li>
              <li>URL set to the URL of the actions resource</li>
              <li><code>Accept</code> header set to
              <code>application/json</code></li>
            </ul>
          </div>
          <div class="example" id="example-22">
            <div class="marker">
              <a class="self-link" href="#example-22">Example
              <bdi>22</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/actions</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>application/json</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryallactions-6a">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-43">Web
            Thing</a> receives an HTTP request following the format
            above, then upon successfully retrieving the status of
            all ongoing action requests to which the <a href=
            "#dfn-consumer" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-consumer-48">Consumer</a> has
            permission to access, it <em class="rfc2119">MUST</em>
            send an HTTP response with:</p>
            <ul>
              <li>Status code set to <code>200</code></li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body containing an object, keyed by <a href=
              "#dfn-action" class="internalDFN" data-link-type=
              "dfn" id="ref-for-dfn-action-11">Action</a> name,
              with the value of each object member being an array
              of <a href=
              "#ActionStatus"><code>ActionStatus</code></a> objects
              representing the action requests, serialized in JSON.
              </li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-basic-profile-protocol-binding-queryallactions-6b">Each
          array in the result object <em class="rfc2119">MUST</em>
          be sorted in reverse chronological order such that the
          most recent action request appears first.</span></p>
          <div class="example" id="example-23">
            <div class="marker">
              <a class="self-link" href="#example-23">Example
              <bdi>23</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">HTTP/<span class=
            "hljs-number">1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content</span>-Type: application/json
{
  "fade": [
    {
      "status": <span class="hljs-string">"completed"</span>,
      <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"/things/lamp/actions/fade/123e4567-e89b-12d3-a456-426655"</span>,
      <span class=
"hljs-string">"timeRequested"</span>: <span class="hljs-string">"2021-11-10T11:43:19.135Z"</span>,
      <span class="hljs-string">"timeEnded"</span>: <span class=
"hljs-string">"2021-11-10T11:43:20.513Z"</span>
    },
    {
      "status": <span class="hljs-string">"failed"</span>,
      <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"/things/lamp/actions/fade/123e4567-e89b-12d3-a456-558329"</span>,
      <span class=
"hljs-string">"timeRequested"</span>: <span class="hljs-string">"2021-11-10T11:42:15.133Z"</span>,
      <span class="hljs-string">"timeEnded"</span>: <span class=
"hljs-string">"2021-11-10T11:42:22.524Z"</span>
    },
    {
      "status": <span class="hljs-string">"running"</span>,
      <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"/things/lamp/actions/fade/123e4567-e89b-12d3-a457-434656"</span>,
      <span class=
"hljs-string">"timeRequested"</span>: <span class="hljs-string">"2021-11-10T11:41:53.351Z"</span>
    },
    {
      "status": <span class="hljs-string">"pending"</span>,
      <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"/things/lamp/actions/fade/123e4567-e89b-12d3-a457-ea9519"</span>,
      <span class=
"hljs-string">"timeRequested"</span>: <span class="hljs-string">"2021-11-10T11:39:53.651Z"</span>
    }
  ]
}</code></pre>
          </div>
        </section>
        <div class="note" role="note" id=
        "issue-container-generatedID-6">
          <div role="heading" class="note-title marker" id=
          "h-note-6" aria-level="5">
            <span>Note</span><span class="issue-label">: Retention
            of ActionStatus objects</span>
          </div>
          <section class="">
            When an action request is cancelled with a
            <code>cancelaction</code> operation, its
            <code>ActionStatus</code> object is deleted and need
            not be retained. For all other action requests it is
            assumed that a <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-44">Web Thing</a> will store the
            <code>ActionStatus</code> object so that its status may
            later be queried with a <code>queryaction</code> or
            <code>queryallactions</code> operation. It is not
            expected that <code>ActionStatus</code> objects should
            be retained indefinitely, they may be stored in
            volatile memory and/or periodically pruned. The length
            of time for which to retain <code>ActionStatus</code>
            objects is expected to be implementation-specific and
            may depend on application-specific requirements or
            resource constraints.
          </section>
        </div>
      </section>
    </section>
  </section>
  <section id="http-sse-profile">
    <div class="header-wrapper">
      <h2 id="x7-http-sse-profile"><bdi class="secno">7.</bdi> HTTP
      SSE Profile</h2><a class="self-link" href="#http-sse-profile"
      aria-label="Permalink for Section 7."></a>
    </div>
    <p>This section defines the HTTP SSE Profile, including a
    <a href="#http-sse-profile-protocol-binding">Protocol
    Binding</a> for observing <a href="#dfn-property" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-property-15">Properties</a> and listening for
    <a href="#dfn-event" class="internalDFN" data-link-type="dfn"
    id="ref-for-dfn-event-1">Events</a> using Server-Sent Events
    [<cite><a class="bibref" data-link-type="biblio" href=
    "#bib-eventsource" title=
    "Server-Sent Events">EVENTSOURCE</a></cite>].</p>
    <p>This profile may be used in conjunction with the <a href=
    "#http-basic-profile">HTTP Basic Profile</a> in order to
    provide operations to read and write properties and invoke,
    query and cancel actions.</p>
    <p><span class="rfc2119-assertion" id="http-sse-profile-1">In
    order to conform with the HTTP SSE Profile, <a href=
    "#dfn-web-thing" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-web-thing-45">Web Things</a> and <a href=
    "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-49">Consumers</a> <em class=
    "rfc2119">MUST</em> also conform with all of the assertions in
    the <a href="#common-constraints">Common Constraints</a>
    section.</span></p>
    <section id="http-sse-profile-identifier">
      <div class="header-wrapper">
        <h3 id="x7-1-identifier"><bdi class="secno">7.1</bdi>
        Identifier</h3><a class="self-link" href=
        "#http-sse-profile-identifier" aria-label=
        "Permalink for Section 7.1"></a>
      </div>
      <p><span class="rfc2119-assertion" id=
      "http-sse-profile-identifier-1">In order to denote that a
      given <a href="#dfn-web-thing" class="internalDFN"
      data-link-type="dfn" id="ref-for-dfn-web-thing-46">Web
      Thing</a> conforms to the HTTP SSE Profile, its <a href=
      "#dfn-thing-description" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-thing-description-22">Thing
      Description</a> <em class="rfc2119">MUST</em> have a <a href=
      "https://w3c.github.io/wot-thing-description/#thing"><code>profile</code></a>
      member [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      with a value of
      <code>https://www.w3.org/2022/wot/profile/http-sse/v1</code>.</span></p>
    </section>
    <section id="http-sse-profile-protocol-binding">
      <div class="header-wrapper">
        <h3 id="x7-2-protocol-binding"><bdi class="secno">7.2</bdi>
        Protocol Binding</h3><a class="self-link" href=
        "#http-sse-profile-protocol-binding" aria-label=
        "Permalink for Section 7.2"></a>
      </div>
      <p>This section defines a <a href="#dfn-protocol-binding"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-protocol-binding-2">Protocol Binding</a> which
      describes how a <a href="#dfn-consumer" class="internalDFN"
      data-link-type="dfn" id=
      "ref-for-dfn-consumer-50">Consumer</a> communicates with a
      <a href="#dfn-web-thing" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-web-thing-47">Web Thing</a>
      [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-architecture11" title=
      "Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>]
      using Server-Sent Events [<cite><a class="bibref"
      data-link-type="biblio" href="#bib-eventsource" title=
      "Server-Sent Events">EVENTSOURCE</a></cite>].</p>
      <p><span class="rfc2119-assertion" id=
      "http-sse-profile-protocol-binding-1">A <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-51">Consumer</a> or <a href=
      "#dfn-web-thing" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-48">Web Thing</a> conforming to the
      HTTP SSE Profile <em class="rfc2119">MUST</em> implement this
      protocol binding.</span></p>
      <p>The examples provided throughout this section describe how
      a <a href="#dfn-consumer" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-consumer-52">Consumer</a> would
      communicate with a <a href="#dfn-web-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-49">Web Thing</a> which produces the
      following <a href="#dfn-thing-description" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-description-23">Thing Description</a>:</p>
      <div class="example" id="example-24">
        <div class="marker">
          <a class="self-link" href="#example-24">Example
          <bdi>24</bdi></a>
        </div>
        <pre aria-busy="false"><code class="hljs json"><span class=
        "hljs-punctuation">{</span>
  <span class="hljs-attr">"@context"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/things/lamp"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"profile"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://www.w3.org/2022/wot/profile/http-sse/v1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"base"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/things/lamp/"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"My Lamp"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"A web connected lamp"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"securityDefinitions"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"oauth2"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"scheme"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"oauth2"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"flow"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"code"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"authorization"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/oauth/authorize"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"token"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/oauth/token"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"security"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"oauth2"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"properties"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"on"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"boolean"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"On/Off"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Whether the lamp is turned on"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/on"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-string">"observeproperty"</span><span class=
"hljs-punctuation">,</span> <span class=
"hljs-string">"unobserveproperty"</span><span class=
"hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-attr">"level"</span> <span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"integer"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Brightness"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"The level of light from 0-100"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"percent"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"minimum"</span> <span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"maximum"</span> <span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">100</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/level"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-string">"observeproperty"</span><span class=
"hljs-punctuation">,</span> <span class=
"hljs-string">"unobserveproperty"</span><span class=
"hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"events"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"overheated"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Overheated"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"data"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"number"</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"degree celsius"</span>
      <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"The lamp has exceeded its safe operating temperature"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"events/overheated"</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
      <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-string">"observeallproperties"</span><span class=
"hljs-punctuation">,</span> <span class=
"hljs-string">"unobserveallproperties"</span><span class=
"hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-punctuation">[</span><span class=
"hljs-string">"subscribeallevents"</span><span class=
"hljs-punctuation">,</span> <span class=
"hljs-string">"unsubscribeallevents"</span><span class=
"hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"events"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span></code></pre>
      </div>
      <section id="http-sse-profile-protocol-binding-properties">
        <div class="header-wrapper">
          <h4 id="x7-2-1-properties"><bdi class="secno">7.2.1</bdi>
          Properties</h4><a class="self-link" href=
          "#http-sse-profile-protocol-binding-properties"
          aria-label="Permalink for Section 7.2.1"></a>
        </div>
        <section id="observeproperty">
          <div class="header-wrapper">
            <h5 id="x7-2-1-1-observeproperty"><bdi class=
            "secno">7.2.1.1</bdi>
            <code>observeproperty</code></h5><a class="self-link"
            href="#observeproperty" aria-label=
            "Permalink for Section 7.2.1.1"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-1">
            <p>The URL of a <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-16">Property</a> resource to be
            used when observing the value of a property <em class=
            "rfc2119">MUST</em> be obtained from a Thing
            Description by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
            PropertyAffordance</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>observeproperty</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>sse</code></li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-2">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the
          property resource.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-3">In
          order to observe a <a href="#dfn-property" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-property-17">Property</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-53">Consumer</a> <em class=
          "rfc2119">MUST</em> follow the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to open a connection with the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-50">Web Thing</a> at the URL of
          the property resource.</span></p>
          <p>This involves the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-54">Consumer</a> sending an HTTP
          request to the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-51">Web Thing</a> with:</p>
          <ul>
            <li>Method set to <code>GET</code></li>
            <li>URL set to the URL of the property resource</li>
            <li><code>Accept</code> header set to
            <code>text/event-stream</code></li>
            <li><code>Connection</code> header set to
            <code>keep-alive</code></li>
          </ul>
          <div class="example" id="example-25">
            <div class="marker">
              <a class="self-link" href="#example-25">Example
              <bdi>25</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/properties/level</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>text/event-stream
<span class="hljs-attribute">Connection</span><span class=
"hljs-punctuation">: </span>keep-alive</code></pre>
          </div>
          <div class="note" role="note" id=
          "issue-container-generatedID-7">
            <div role="heading" class="note-title marker" id=
            "h-note-7" aria-level="6">
              <span>Note</span><span class="issue-label">: Opening
              a connection using JavaScript</span>
            </div>
            <p class="">For Consumers implemented in JavaScript
            [<cite><a class="bibref" data-link-type="biblio" href=
            "#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be initiated using the
            <code>EventSource</code> constructor.</p>
          </div>
          <div class="example" id="example-26">
            <div class="marker">
              <a class="self-link" href="#example-26">Example
              <bdi>26</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs javascript"><span class=
            "hljs-keyword">const</span> levelSource = <span class=
            "hljs-keyword">new</span> <span class=
            "hljs-title class_">EventSource</span>(<span class=
            "hljs-string">'/things/lamp/properties/level'</span>);</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-4">If
          a <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-52">Web
          Thing</a> receives an HTTP request following the format
          above and the <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-55">Consumer</a> has permission to
          observe the corresponding property, then it <em class=
          "rfc2119">MUST</em> follow the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to maintain an open connection with the
          <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-56">Consumer</a> and push a
          property value to the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-57">Consumer</a> each time the
          value of the specified <a href="#dfn-property" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-property-18">Property</a>
          changes.</span></p>
          <p>This involves the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-53">Web Thing</a> initially
          sending an HTTP response to the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-58">Consumer</a> with:</p>
          <ul>
            <li>Status code set to <code>200</code></li>
            <li><code>Content-Type</code> header set to
            <code>text/event-stream</code></li>
          </ul>
          <div class="example" id="example-27">
            <div class="marker">
              <a class="self-link" href="#example-27">Example
              <bdi>27</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content-Type</span><span class=
"hljs-punctuation">: </span>text/event-stream</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-5a">Whenever
          the value of the specified <a href="#dfn-property" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-property-19">Property</a> changes while the
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-54">Web
          Thing</a> has an open connection with a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-59">Consumer</a>, the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-55">Web Thing</a> <em class=
          "rfc2119">MUST</em> send a property value to the <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-60">Consumer</a> using the event
          stream format in the Server-Sent Events [<cite><a class=
          "bibref" data-link-type="biblio" href="#bib-eventsource"
          title="Server-Sent Events">EVENTSOURCE</a></cite>]
          specification.</span> <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-5b">For
          each message sent, the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-56">Web Thing</a> <em class=
          "rfc2119">MUST</em> set the <code>event</code> field to
          the name of the <a href=
          "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
          PropertyAffordance</a> and populate the <code>data</code>
          field with the property value, serialized in JSON and
          following the data schema specified in the <a href=
          "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
          PropertyAffordance</a>.</span> <span class=
          "rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-5c">The
          <code>id</code> field <em class="rfc2119">SHOULD</em> be
          set to a unique identifier for the property change, for
          use when re-establishing a dropped connection (see
          below).</span> <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-5d">It
          is <em class="rfc2119">RECOMMENDED</em> that the
          identifier is a timestamp representing the time at which
          the property changed</span> (see <a href=
          "#date-format">Date Format</a> for date format
          constraints).</p>
          <div class="example" id="example-28">
            <div class="marker">
              <a class="self-link" href="#example-28">Example
              <bdi>28</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-attr">event:</span> <span class=
            "hljs-string">level\n</span>
<span class="hljs-attr">data:</span> <span class=
"hljs-number">42</span><span class="hljs-string">\n</span>
<span class="hljs-attr">id:</span> <span class=
"hljs-number">2021-11-17T15:33:20.827Z</span><span class=
"hljs-string">\n\n</span></code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-6a">If
          the connection between the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-61">Consumer</a> and <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-57">Web Thing</a> drops (except
          as a result of the <code>unobserve</code> operation
          defined below), the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-62">Consumer</a> <em class=
          "rfc2119">MUST</em> re-establish the connection following
          the steps outlined in the Server-Sent Events
          specification [<cite><a class="bibref" data-link-type=
          "biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeproperty-6b">Once
          the connection is re-established the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-58">Web Thing</a> <em class=
          "rfc2119">SHOULD</em>, if possible, send any missed
          property changes which occurred since the last change
          specified by the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-63">Consumer</a> in a
          <code>Last-Event-ID</code> header.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-8">
            <div role="heading" class="note-title marker" id=
            "h-note-8" aria-level="6">
              <span>Note</span><span class="issue-label">:
              application/json wrapped in text/event-stream</span>
            </div>
            <p class=""><a href="#dfn-property" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-property-20">Property</a> values are
            serialized in JSON and provided in the
            <code>data</code> field of a Server-Sent Event
            serialized in <code>text/event-stream</code> format.
            The <code>text/event-stream</code> content type used in
            HTTP headers is assumed to be implied by the
            <code>sse</code> subprotocol, and the embedded
            <code>application/json</code> content type is indicated
            in <code>contentType</code> member of the Form (with
            defaults applied).</p>
          </div>
        </section>
        <section id="unobserveproperty">
          <div class="header-wrapper">
            <h5 id="x7-2-1-2-unobserveproperty"><bdi class=
            "secno">7.2.1.2</bdi>
            <code>unobserveproperty</code></h5><a class="self-link"
            href="#unobserveproperty" aria-label=
            "Permalink for Section 7.2.1.2"></a>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-unobserveproperty-1">In
          order to stop observing a <a href="#dfn-property" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-property-21">Property</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-64">Consumer</a> <em class=
          "rfc2119">MUST</em> terminate the corresponding
          Server-Sent Events connection with the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-59">Web Thing</a> as specified
          in the Server-Sent Events specification [<cite><a class=
          "bibref" data-link-type="biblio" href="#bib-eventsource"
          title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-9">
            <div role="heading" class="note-title marker" id=
            "h-note-9" aria-level="6">
              <span>Note</span><span class="issue-label">:
              Terminating a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-65">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be terminated using the
            <code>close()</code> method on an
            <code>EventSource</code> [<cite><a class="bibref"
            data-link-type="biblio" href="#bib-eventsource" title=
            "Server-Sent Events">EVENTSOURCE</a></cite>]
            object.</p>
          </div>
          <div class="example" id="example-29">
            <div class="marker">
              <a class="self-link" href="#example-29">Example
              <bdi>29</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs abnf">levelSource.close()<span class=
            "hljs-comment">;</span></code></pre>
          </div>
        </section>
        <section id="observeallproperties">
          <div class="header-wrapper">
            <h5 id="x7-2-1-3-observeallproperties"><bdi class=
            "secno">7.2.1.3</bdi>
            <code>observeallproperties</code></h5><a class=
            "self-link" href="#observeallproperties" aria-label=
            "Permalink for Section 7.2.1.3"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-1">
            <p>The URL of a properties resource to be used when
            observing changes to all properties of a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-60">Web Thing</a>
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-24">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member of a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-25">Thing
            Description</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>observeallproperties</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>sse</code></li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-2">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the properties resource.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-3">
          In order to observe changes to all <a href=
          "#dfn-property" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-property-22">Properties</a> of a <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-61">Web Thing</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-66">Consumer</a> <em class=
          "rfc2119">MUST</em> follow the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to open a connection with the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-62">Web Thing</a> at the URL of
          the properties resource.</span></p>
          <p>This involves the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-67">Consumer</a> sending an HTTP
          request to the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-63">Web Thing</a> with:</p>
          <ul>
            <li>Method set to <code>GET</code></li>
            <li>URL set to the URL of the properties resource</li>
            <li><code>Accept</code> header set to
            <code>text/event-stream</code></li>
            <li><code>Connection</code> header set to
            <code>keep-alive</code></li>
          </ul>
          <div class="example" id="example-30">
            <div class="marker">
              <a class="self-link" href="#example-30">Example
              <bdi>30</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/properties</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>text/event-stream
<span class="hljs-attribute">Connection</span><span class=
"hljs-punctuation">: </span>keep-alive</code></pre>
          </div>
          <div class="note" role="note" id=
          "issue-container-generatedID-10">
            <div role="heading" class="note-title marker" id=
            "h-note-10" aria-level="6">
              <span>Note</span><span class="issue-label">: Opening
              a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-68">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be initiated using the
            <code>EventSource</code> constructor.</p>
          </div>
          <div class="example" id="example-31">
            <div class="marker">
              <a class="self-link" href="#example-31">Example
              <bdi>31</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs javascript"><span class=
            "hljs-keyword">const</span> lampPropertiesSource = <span class=
            "hljs-keyword">new</span> <span class=
            "hljs-title class_">EventSource</span>(<span class=
            "hljs-string">'/things/lamp/properties'</span>);</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-4">
          If a <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-64">Web
          Thing</a> receives an HTTP request following the format
          above then it <em class="rfc2119">MUST</em> follow the
          Server-Sent Events [<cite><a class="bibref"
          data-link-type="biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to maintain an open connection with the
          <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-69">Consumer</a> and push new
          property values to the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-70">Consumer</a> for all <a href=
          "#dfn-property" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-property-23">Properties</a> for which it
          has permission to observe.</span></p>
          <p>This involves the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-65">Web Thing</a> initially
          sending an HTTP response to the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-71">Consumer</a> with:</p>
          <ul>
            <li>Status code set to <code>200</code></li>
            <li><code>Content-Type</code> header set to
            <code>text/event-stream</code></li>
          </ul>
          <div class="example" id="example-32">
            <div class="marker">
              <a class="self-link" href="#example-32">Example
              <bdi>32</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content-Type</span><span class=
"hljs-punctuation">: </span>text/event-stream</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-5a">
          Whenever a <a href="#dfn-property" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-property-24">Property</a> changes while the
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-66">Web
          Thing</a> has an open connection with a Consumer, the
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-67">Web
          Thing</a> <em class="rfc2119">MUST</em> send the new
          property value to the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-72">Consumer</a> using the event
          stream format in the Server-Sent Events [<cite><a class=
          "bibref" data-link-type="biblio" href="#bib-eventsource"
          title="Server-Sent Events">EVENTSOURCE</a></cite>]
          specification.</span> <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-5b">
          For each message sent, the <a href="#dfn-web-thing"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-68">Web Thing</a> <em class=
          "rfc2119">MUST</em> set the <code>event</code> field to
          the name of the <a href=
          "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
          PropertyAffordance</a> and populate the <code>data</code>
          field with the new property value.</span> <span class=
          "rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-5c">
          The property data <em class="rfc2119">MUST</em> follow
          the data schema specified in the <a href=
          "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
          PropertyAffordance</a> and <em class="rfc2119">MUST</em>
          be serialized in JSON.</span> <span class=
          "rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-5d">
          The <code>id</code> field <em class="rfc2119">SHOULD</em>
          be set to a unique identifier for the event, for use when
          re-establishing a dropped connection (see below).</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-5e">
          It is <em class="rfc2119">RECOMMENDED</em> that the
          identifier is a timestamp representing the time at which
          the <a href="#dfn-property" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-property-25">Property</a> changed</span>
          (see <a href="#date-format">Date Format</a> for date
          format constraints).</p>
          <div class="example" id="example-33">
            <div class="marker">
              <a class="self-link" href="#example-33">Example
              <bdi>33</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-attr">event:</span> <span class=
            "hljs-string">level\n</span>
<span class="hljs-attr">data:</span> <span class=
"hljs-number">42</span><span class="hljs-string">\n</span>
<span class="hljs-attr">id:</span> <span class=
"hljs-number">2021-11-17T15:33:20.827Z</span><span class=
"hljs-string">\n\n</span></code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-6a">
          If the connection between the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-73">Consumer</a> and <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-69">Web Thing</a> drops (except
          as a result of the <code>unobserveallproperties</code>
          operation defined below), the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-74">Consumer</a> <em class=
          "rfc2119">MUST</em> re-establish the connection following
          the steps outlined in the Server-Sent Events
          specification [<cite><a class="bibref" data-link-type=
          "biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-observeallproperties-6b">
          Once the connection is re-established the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-70">Web Thing</a> <em class=
          "rfc2119">SHOULD</em>, if possible, send any missed
          property changes which occurred since the last change
          specified by the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-75">Consumer</a> in a
          <code>Last-Event-ID</code> header.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-11">
            <div role="heading" class="note-title marker" id=
            "h-note-11" aria-level="6">
              <span>Note</span><span class="issue-label">:
              application/json wrapped in text/event-stream</span>
            </div>
            <p class="">Property values are serialized in JSON and
            provided in the <code>data</code> field of a
            Server-Sent Event serialized in
            <code>text/event-stream</code> format. The
            <code>text/event-stream</code> content type used in
            HTTP headers is assumed to be implied by the
            <code>sse</code> subprotocol, and the embedded
            <code>application/json</code> content type is indicated
            in <code>contentType</code> member of the Form (with
            defaults applied).</p>
          </div>
        </section>
        <section id="unobserveallproperties">
          <div class="header-wrapper">
            <h5 id="x7-2-1-4-unobserveallproperties"><bdi class=
            "secno">7.2.1.4</bdi>
            <code>unobserveallproperties</code></h5><a class=
            "self-link" href="#unobserveallproperties" aria-label=
            "Permalink for Section 7.2.1.4"></a>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-unobserveallproperties-1">
          In order to unobserve all properties, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-76">Consumer</a> <em class=
          "rfc2119">MUST</em> terminate the corresponding
          Server-Sent Events connection with the properties
          endpoint of the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-71">Web Thing</a>, following the
          steps specified in the Server-Sent Events specification
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-12">
            <div role="heading" class="note-title marker" id=
            "h-note-12" aria-level="6">
              <span>Note</span><span class="issue-label">:
              Terminating a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-77">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be terminated using the
            <code>close()</code> method on an
            <code>EventSource</code> [<cite><a class="bibref"
            data-link-type="biblio" href="#bib-eventsource" title=
            "Server-Sent Events">EVENTSOURCE</a></cite>]
            object.</p>
          </div>
          <div class="example" id="example-34">
            <div class="marker">
              <a class="self-link" href="#example-34">Example
              <bdi>34</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs abnf">lampPropertiesSource.close()<span class=
            "hljs-comment">;</span></code></pre>
          </div>
        </section>
      </section>
      <section id="http-sse-profile-protocol-binding-events">
        <div class="header-wrapper">
          <h4 id="x7-2-2-events"><bdi class="secno">7.2.2</bdi>
          Events</h4><a class="self-link" href=
          "#http-sse-profile-protocol-binding-events" aria-label=
          "Permalink for Section 7.2.2"></a>
        </div>
        <p>The HTTP SSE Profile uses Server-Sent Events
        [<cite><a class="bibref" data-link-type="biblio" href=
        "#bib-eventsource" title=
        "Server-Sent Events">EVENTSOURCE</a></cite>] as a mechanism
        for <a href="#dfn-consumer" class="internalDFN"
        data-link-type="dfn" id=
        "ref-for-dfn-consumer-78">Consumers</a> to subscribe to
        events emitted by a <a href="#dfn-web-thing" class=
        "internalDFN" data-link-type="dfn" id=
        "ref-for-dfn-web-thing-72">Web Thing</a>.</p>
        <div class="note" role="note" id=
        "issue-container-generatedID-13">
          <div role="heading" class="note-title marker" id=
          "h-note-13" aria-level="5">
            <span>Note</span>
          </div>
          <p class=""><a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-79">Consumers</a> are not required
          to implement the <a href=
          "https://www.w3.org/TR/eventsource/#the-eventsource-interface">
          <code>EventSource</code> JavaScript API</a> from the
          Server-Sent Events specification in order to conform with
          this profile. Any programming language may be used to
          consume an event stream.</p>
        </div>
        <section id=
        "http-sse-profile-protocol-binding-subscribeevent">
          <div class="header-wrapper">
            <h5 id="x7-2-2-1-subscribeevent"><bdi class=
            "secno">7.2.2.1</bdi>
            <code>subscribeevent</code></h5><a class="self-link"
            href=
            "#http-sse-profile-protocol-binding-subscribeevent"
            aria-label="Permalink for Section 7.2.2.1"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-1">
            <p>The URL of an event resource to be used when
            subscribing to an <a href="#dfn-event" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-2">Event</a> <em class=
            "rfc2119">MUST</em> be obtained from a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-26">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
            EventAffordance</a> for which:</p>
            <ul>
              <li>After defaults have been applied, its
              <code>op</code> member contains the value
              <code>subscribeevent</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>sse</code></li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-3">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the event
          resource.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-4">In
          order to subscribe to an <a href="#dfn-event" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-event-3">Event</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-80">Consumer</a> <em class=
          "rfc2119">MUST</em> follow the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to open a connection with the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-73">Web Thing</a> at the URL of
          the event resource.</span></p>
          <p>This involves the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-81">Consumer</a> sending an HTTP
          request to the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-74">Web Thing</a> with:</p>
          <ul>
            <li>Method set to <code>GET</code></li>
            <li>URL set to the URL of the event resource</li>
            <li><code>Accept</code> header set to
            <code>text/event-stream</code></li>
            <li><code>Connection</code> header set to
            <code>keep-alive</code></li>
          </ul>
          <div class="example" id="example-35">
            <div class="marker">
              <a class="self-link" href="#example-35">Example
              <bdi>35</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/events/overheated</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>text/event-stream
<span class="hljs-attribute">Connection</span><span class=
"hljs-punctuation">: </span>keep-alive</code></pre>
          </div>
          <div class="note" role="note" id=
          "issue-container-generatedID-14">
            <div role="heading" class="note-title marker" id=
            "h-note-14" aria-level="6">
              <span>Note</span><span class="issue-label">: Opening
              a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-82">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be initiated using the
            <code>EventSource</code> constructor.</p>
          </div>
          <div class="example" id="example-36">
            <div class="marker">
              <a class="self-link" href="#example-36">Example
              <bdi>36</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs javascript"><span class=
            "hljs-keyword">const</span> overheatedEventSource = <span class=
            "hljs-keyword">new</span> <span class=
            "hljs-title class_">EventSource</span>(<span class=
            "hljs-string">'/things/lamp/events/overheated'</span>);</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-5">If a
          <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-75">Web
          Thing</a> receives an HTTP request following the format
          above and the <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-83">Consumer</a> has permission to
          subscribe to the corresponding <a href="#dfn-event"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-event-4">Event</a>, then it <em class=
          "rfc2119">MUST</em> follow the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to maintain an open connection with the
          <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-84">Consumer</a> and push event
          data to the <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-85">Consumer</a> as events of the
          specified type are emitted.</span></p>
          <p>This involves the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-76">Web Thing</a> initially
          sending an HTTP response to the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-86">Consumer</a> with:</p>
          <ul>
            <li>Status code set to <code>200</code></li>
            <li><code>Content-Type</code> header set to
            <code>text/event-stream</code></li>
          </ul>
          <div class="example" id="example-37">
            <div class="marker">
              <a class="self-link" href="#example-37">Example
              <bdi>37</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content-Type</span><span class=
"hljs-punctuation">: </span>text/event-stream</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-6a">Whenever
          an event of the specified type occurs while the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-77">Web Thing</a> has an open
          connection with a <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-87">Consumer</a>, the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-78">Web Thing</a> <em class=
          "rfc2119">MUST</em> send event data to the <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-88">Consumer</a> using the event
          stream format in the Server-Sent Events [<cite><a class=
          "bibref" data-link-type="biblio" href="#bib-eventsource"
          title="Server-Sent Events">EVENTSOURCE</a></cite>]
          specification.</span> <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-6b">For
          each message sent, the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-79">Web Thing</a> <em class=
          "rfc2119">MUST</em> set the <code>event</code> field to
          the name of the <a href=
          "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
          EventAffordance</a> and populate the <code>data</code>
          field with event data, if any.</span> <span class=
          "rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-6c">The
          event data <em class="rfc2119">MUST</em> follow the data
          schema specified in the <a href=
          "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
          EventAffordance</a> and be serialized in JSON.</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-6d">The
          <code>id</code> field <em class="rfc2119">SHOULD</em> be
          set to a unique identifier for the event, for use when
          re-establishing a dropped connection (see below).</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-6e">It
          is <em class="rfc2119">RECOMMENDED</em> that the
          identifier is a timestamp representing the time at which
          the event occurred</span> (see <a href=
          "#date-format">Date Format</a> for date format
          constraints).</p>
          <div class="example" id="example-38">
            <div class="marker">
              <a class="self-link" href="#example-38">Example
              <bdi>38</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-attr">event:</span> <span class=
            "hljs-string">overheated\n</span>
<span class="hljs-attr">data:</span> <span class=
"hljs-number">90</span><span class="hljs-string">\n</span>
<span class="hljs-attr">id:</span> <span class=
"hljs-number">2021-11-16T16:53:50.817Z</span><span class=
"hljs-string">\n\n</span></code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-7a">If
          the connection between the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-89">Consumer</a> and <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-80">Web Thing</a> drops (except
          as a result of the <code>unsubscribeevent</code>
          operation defined below), the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-90">Consumer</a> <em class=
          "rfc2119">MUST</em> re-establish the connection following
          the steps outlined in the Server-Sent Events
          specification [<cite><a class="bibref" data-link-type=
          "biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeevent-7b">Once
          the connection is re-established the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-81">Web Thing</a> <em class=
          "rfc2119">SHOULD</em>, if possible, send any missed
          events which occurred since the last event specified by
          the <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-91">Consumer</a> in a
          <code>Last-Event-ID</code> header.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-15">
            <div role="heading" class="note-title marker" id=
            "h-note-15" aria-level="6">
              <span>Note</span><span class="issue-label">:
              application/json wrapped in text/event-stream</span>
            </div>
            <p class="">Event payloads are serialized in JSON and
            provided in the <code>data</code> field of a
            Server-Sent Event serialized in
            <code>text/event-stream</code> format. The
            <code>text/event-stream</code> content type used in
            HTTP headers is assumed to be implied by the
            <code>sse</code> subprotocol, and the embedded
            <code>application/json</code> content type is indicated
            in <code>contentType</code> member of the Form (with
            defaults applied).</p>
          </div>
        </section>
        <section id=
        "http-sse-profile-protocol-binding-events-unsubscribeevent">
          <div class="header-wrapper">
            <h5 id="x7-2-2-2-unsubscribeevent"><bdi class=
            "secno">7.2.2.2</bdi>
            <code>unsubscribeevent</code></h5><a class="self-link"
            href=
            "#http-sse-profile-protocol-binding-events-unsubscribeevent"
            aria-label="Permalink for Section 7.2.2.2"></a>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-unsubscribeevent-1">In
          order to unsubscribe from an <a href="#dfn-event" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-event-5">Event</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-92">Consumer</a> <em class=
          "rfc2119">MUST</em> terminate the corresponding
          Server-Sent Events connection with the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-82">Web Thing</a> as specified
          in the Server-Sent Events specification [<cite><a class=
          "bibref" data-link-type="biblio" href="#bib-eventsource"
          title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-16">
            <div role="heading" class="note-title marker" id=
            "h-note-16" aria-level="6">
              <span>Note</span><span class="issue-label">:
              Terminating a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-93">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be terminated using the
            <code>close()</code> method on an
            <code>EventSource</code> [<cite><a class="bibref"
            data-link-type="biblio" href="#bib-eventsource" title=
            "Server-Sent Events">EVENTSOURCE</a></cite>]
            object.</p>
          </div>
          <div class="example" id="example-39">
            <div class="marker">
              <a class="self-link" href="#example-39">Example
              <bdi>39</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs abnf">overheatedEventSource.close()<span class=
            "hljs-comment">;</span></code></pre>
          </div>
        </section>
        <section id=
        "http-sse-profile-protocol-binding-events-subscribeallevents">
          <div class="header-wrapper">
            <h5 id="x7-2-2-3-subscribeallevents"><bdi class=
            "secno">7.2.2.3</bdi>
            <code>subscribeallevents</code></h5><a class=
            "self-link" href=
            "#http-sse-profile-protocol-binding-events-subscribeallevents"
            aria-label="Permalink for Section 7.2.2.3"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-1">
            <p>The URL of an events resource to be used when
            subscribing to all <a href="#dfn-event" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-6">Events</a> emitted by a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-83">Web Thing</a>
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-27">Thing
            Description</a> by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member of a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-28">Thing
            Description</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>subscribeallevents</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>sse</code></li>
              <li>After defaults have been applied, the value of
              its <code>contentType</code> member is
              <code>application/json</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-3b">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the events resource.</span></p>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-4">In
          order to subscribe to all <a href="#dfn-event" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-event-7">Events</a> emitted by a <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-84">Web Thing</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-94">Consumer</a> <em class=
          "rfc2119">MUST</em> follow the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to open a connection with the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-85">Web Thing</a> at the URL of
          the events resource.</span></p>
          <p>This involves the <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-95">Consumer</a> sending an HTTP
          request to the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-86">Web Thing</a> with:</p>
          <ul>
            <li>Method set to <code>GET</code></li>
            <li>URL set to the URL of the events resource</li>
            <li><code>Accept</code> header set to
            <code>text/event-stream</code></li>
            <li><code>Connection</code> header set to
            <code>keep-alive</code></li>
          </ul>
          <div class="example" id="example-40">
            <div class="marker">
              <a class="self-link" href="#example-40">Example
              <bdi>40</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-keyword">GET</span> <span class=
            "hljs-string">/things/lamp/events</span> <span class=
            "hljs-meta">HTTP/1.1</span>
<span class="hljs-attribute">Host</span><span class=
"hljs-punctuation">: </span>mythingserver.com
<span class="hljs-attribute">Accept</span><span class=
"hljs-punctuation">: </span>text/event-stream
<span class="hljs-attribute">Connection</span><span class=
"hljs-punctuation">: </span>keep-alive</code></pre>
          </div>
          <div class="note" role="note" id=
          "issue-container-generatedID-17">
            <div role="heading" class="note-title marker" id=
            "h-note-17" aria-level="6">
              <span>Note</span><span class="issue-label">: Opening
              a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-96">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be initiated using the
            <code>EventSource</code> constructor.</p>
          </div>
          <div class="example" id="example-41">
            <div class="marker">
              <a class="self-link" href="#example-41">Example
              <bdi>41</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs javascript"><span class=
            "hljs-keyword">const</span> lampEventsSource = <span class=
            "hljs-keyword">new</span> <span class=
            "hljs-title class_">EventSource</span>(<span class=
            "hljs-string">'/things/lamp/events'</span>);</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-3">If
          a <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-87">Web
          Thing</a> receives an HTTP request following the format
          above then it <em class="rfc2119">MUST</em> follow the
          Server-Sent Events [<cite><a class="bibref"
          data-link-type="biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification to maintain an open connection with the
          <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-97">Consumer</a> and push event
          data to the <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-98">Consumer</a> for all event
          types for which it has permission to
          subscribe.</span></p>
          <p>This involves the <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-88">Web Thing</a> initially
          sending an HTTP response to the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-99">Consumer</a> with:</p>
          <ul>
            <li>Status code set to <code>200</code></li>
            <li><code>Content-Type</code> header set to
            <code>text/event-stream</code></li>
          </ul>
          <div class="example" id="example-42">
            <div class="marker">
              <a class="self-link" href="#example-42">Example
              <bdi>42</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK
<span class="hljs-attribute">Content-Type</span><span class=
"hljs-punctuation">: </span>text/event-stream</code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-4a">
          Whenever an event occurs while the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-89">Web Thing</a> has an open
          connection with a <a href="#dfn-consumer" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-100">Consumer</a>, the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-90">Web Thing</a> <em class=
          "rfc2119">MUST</em> send event data to the <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-101">Consumer</a> using the
          event stream format in the Server-Sent Events
          [<cite><a class="bibref" data-link-type="biblio" href=
          "#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>]
          specification.</span> <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-4b">
          For each message sent, the <a href="#dfn-web-thing"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-91">Web Thing</a> <em class=
          "rfc2119">MUST</em> set the <code>event</code> field to
          the name of the <a href=
          "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
          EventAffordance</a> and populate the <code>data</code>
          field with event data, if any.</span> <span class=
          "rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-4c">
          The event data <em class="rfc2119">MUST</em> follow the
          data schema specified in the <a href=
          "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
          EventAffordance</a> and be serialized in JSON.</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-4d">
          The <code>id</code> field <em class="rfc2119">SHOULD</em>
          be set to a unique identifier for the event, for use when
          re-establishing a dropped connection (see below).</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-4e">
          It is <em class="rfc2119">RECOMMENDED</em> that the
          identifier is a timestamp representing the time at which
          the event occurred</span> (see <a href=
          "#date-format">Date Format</a> for date format
          constraints).</p>
          <div class="example" id="example-43">
            <div class="marker">
              <a class="self-link" href="#example-43">Example
              <bdi>43</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-attr">event:</span> <span class=
            "hljs-string">overheated\n</span>
<span class="hljs-attr">data:</span> <span class=
"hljs-number">90</span><span class="hljs-string">\n</span>
<span class="hljs-attr">id:</span> <span class=
"hljs-number">2021-11-16T16:53:50.817Z</span><span class=
"hljs-string">\n\n</span></code></pre>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-5a">
          If the connection between the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-102">Consumer</a> and <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-92">Web Thing</a> drops (except
          as a result of the <code>unsubscribeallevents</code>
          operation defined below), the <a href="#dfn-consumer"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-consumer-103">Consumer</a> <em class=
          "rfc2119">MUST</em> re-establish the connection following
          the steps outlined in the Server-Sent Events
          specification [<cite><a class="bibref" data-link-type=
          "biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span>
          <span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-subscribeallevents-5b">
          Once the connection is re-established the <a href=
          "#dfn-web-thing" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-web-thing-93">Web Thing</a> <em class=
          "rfc2119">SHOULD</em>, if possible, send any missed
          events which occurred since the last event specified by
          the <a href="#dfn-consumer" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-consumer-104">Consumer</a> in a
          <code>Last-Event-ID</code> header.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-18">
            <div role="heading" class="note-title marker" id=
            "h-note-18" aria-level="6">
              <span>Note</span><span class="issue-label">:
              application/json wrapped in text/event-stream</span>
            </div>
            <p class="">Event payloads are serialized in JSON and
            provided in the <code>data</code> field of a
            Server-Sent Event serialized in
            <code>text/event-stream</code> format. The
            <code>text/event-stream</code> content type used in
            HTTP headers is assumed to be implied by the
            <code>sse</code> subprotocol, and the embedded
            <code>application/json</code> content type is indicated
            in <code>contentType</code> member of the Form (with
            defaults applied).</p>
          </div>
        </section>
        <section id=
        "http-sse-profile-protocol-binding-events-unsubscribeallevents">
          <div class="header-wrapper">
            <h5 id="x7-2-2-4-unsubscribeallevents"><bdi class=
            "secno">7.2.2.4</bdi>
            <code>unsubscribeallevents</code></h5><a class=
            "self-link" href=
            "#http-sse-profile-protocol-binding-events-unsubscribeallevents"
            aria-label="Permalink for Section 7.2.2.4"></a>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-sse-profile-protocol-binding-unsubscribeallevents-1">
          In order to unsubscribe from all <a href="#dfn-event"
          class="internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-event-8">Events</a>, a <a href=
          "#dfn-consumer" class="internalDFN" data-link-type="dfn"
          id="ref-for-dfn-consumer-105">Consumer</a> <em class=
          "rfc2119">MUST</em> terminate the corresponding
          Server-Sent Events connection with the events endpoint of
          the <a href="#dfn-web-thing" class="internalDFN"
          data-link-type="dfn" id="ref-for-dfn-web-thing-94">Web
          Thing</a>, following the steps specified in the
          Server-Sent Events specification [<cite><a class="bibref"
          data-link-type="biblio" href="#bib-eventsource" title=
          "Server-Sent Events">EVENTSOURCE</a></cite>].</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-19">
            <div role="heading" class="note-title marker" id=
            "h-note-19" aria-level="6">
              <span>Note</span><span class="issue-label">:
              Terminating a connection using JavaScript</span>
            </div>
            <p class="">For <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-106">Consumers</a> implemented in
            JavaScript [<cite><a class="bibref" data-link-type=
            "biblio" href="#bib-ecmascript" title=
            "ECMAScript Language Specification">ECMASCRIPT</a></cite>]
            and executed in a runtime which exposes the <a href=
            "https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">
            <code>EventSource</code></a> interface, a Server-Sent
            Events connection can be terminated using the
            <code>close()</code> method on an
            <code>EventSource</code> [<cite><a class="bibref"
            data-link-type="biblio" href="#bib-eventsource" title=
            "Server-Sent Events">EVENTSOURCE</a></cite>]
            object.</p>
          </div>
          <div class="example" id="example-44">
            <div class="marker">
              <a class="self-link" href="#example-44">Example
              <bdi>44</bdi></a>
            </div>
            <pre aria-busy="false"><code class=
            "hljs abnf">lampEventsSource.close()<span class=
            "hljs-comment">;</span></code></pre>
          </div>
        </section>
      </section>
    </section>
  </section>
  <section id="http-webhook-profile">
    <div class="header-wrapper">
      <h2 id="x8-http-webhook-profile"><bdi class="secno">8.</bdi>
      HTTP Webhook Profile</h2><a class="self-link" href=
      "#http-webhook-profile" aria-label=
      "Permalink for Section 8."></a>
    </div>
    <p>This section defines the HTTP Webhook Profile, including a
    <a href="#http-webhook-profile-protocol-binding">Protocol
    Binding</a> for observing <a href="#dfn-property" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-property-26">Properties</a> and listening for
    <a href="#dfn-event" class="internalDFN" data-link-type="dfn"
    id="ref-for-dfn-event-9">Events</a> using <a href=
    "https://en.wikipedia.org/wiki/Webhook">Webhooks</a>.</p>
    <p><span class="rfc2119-assertion" id=
    "http-webhook-profile-protocol-binding-general-1">The HTTP
    Webhook profile <em class="rfc2119">MAY</em> be used in
    conjunction with the <a href="#http-basic-profile">HTTP Basic
    Profile</a> in order to provide operations to read and write
    properties and invoke, query and cancel actions.</span></p>
    <p><span class="rfc2119-assertion" id=
    "http-webhook-profile-protocol-binding-general-2">The HTTP
    Webhook profile <em class="rfc2119">MAY</em> be used as an
    alternative event mechanism to the <a href=
    "#http-sse-profile">HTTP SSE Profile</a>.</span></p>
    <p><span class="rfc2119-assertion" id=
    "http-webhook-profile-protocol-binding-general-3">In order to
    conform with the HTTP Webhook Profile, <a href="#dfn-web-thing"
    class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-web-thing-95">Web Things</a> and <a href=
    "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-consumer-107">Consumers</a> <em class=
    "rfc2119">MUST</em> also conform with all of the assertions in
    the <a href="#common-constraints">Common Constraints</a>
    section.</span></p>
    <div class="note" role="note" id=
    "issue-container-generatedID-20">
      <div role="heading" class="note-title marker" id="h-note-20"
      aria-level="3">
        <span>Note</span><span class="issue-label">: HTTP client
        and server roles</span>
      </div>
      <p class="">In order to implement the HTTP Webhook profile it
      must be possible for both the <a href="#dfn-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-17">Thing</a> and <a href="#dfn-consumer"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-108">Consumer</a> to act as both an
      HTTP client and HTTP server, accessible by each other over a
      network. This may not be possible in all deployment
      scenarios.</p>
    </div>
    <section id="http-webhook-profile-identifier">
      <div class="header-wrapper">
        <h3 id="x8-1-identifier"><bdi class="secno">8.1</bdi>
        Identifier</h3><a class="self-link" href=
        "#http-webhook-profile-identifier" aria-label=
        "Permalink for Section 8.1"></a>
      </div>
      <p><span class="rfc2119-assertion" id=
      "http-webhook-profile-1">In order to denote that a given
      <a href="#dfn-web-thing" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-web-thing-96">Web Thing</a> conforms to
      the HTTP Webhook Profile, its <a href=
      "#dfn-thing-description" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-thing-description-29">Thing
      Description</a> <em class="rfc2119">MUST</em> have a <a href=
      "https://www.w3.org/TR/wot-thing-description/#thing"><code>profile</code></a>
      member [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
      with a value of
      <code>https://www.w3.org/2022/wot/profile/http-webhook/v1</code>.</span></p>
      <div class="note" role="note" id=
      "issue-container-generatedID-21">
        <div role="heading" class="note-title marker" id=
        "h-note-21" aria-level="4">
          <span>Note</span>
        </div>
        <section class="">
          <p>Note that the <code>profile</code> member is an array
          that may contain multiple profile entries, which
          indicates that a <a href="#dfn-web-thing" class=
          "internalDFN" data-link-type="dfn" id=
          "ref-for-dfn-web-thing-97">Web Thing</a> conforms to all
          of the <a href="#dfn-profile" class="internalDFN"
          data-link-type="dfn" id=
          "ref-for-dfn-profile-28">Profiles</a> in that array.</p>
        </section>
      </div>
    </section>
    <section id="http-webhook-profile-protocol-binding">
      <div class="header-wrapper">
        <h3 id="x8-2-protocol-binding"><bdi class="secno">8.2</bdi>
        Protocol Binding</h3><a class="self-link" href=
        "#http-webhook-profile-protocol-binding" aria-label=
        "Permalink for Section 8.2"></a>
      </div>
      <p>This section defines a <a href="#dfn-protocol-binding"
      class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-protocol-binding-3">Protocol Binding</a> which
      describes how a <a href="#dfn-consumer" class="internalDFN"
      data-link-type="dfn" id=
      "ref-for-dfn-consumer-109">Consumer</a> and a <a href=
      "#dfn-web-thing" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-98">Web Thing</a> communicate using
      Webhooks.</p>
      <p><span class="rfc2119-assertion" id=
      "http-webhook-profile-protocol-binding-1">A <a href=
      "#dfn-consumer" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-consumer-110">Consumer</a> or <a href=
      "#dfn-web-thing" class="internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-99">Web Thing</a> conforming to the
      HTTP Webhook Profile <em class="rfc2119">MUST</em> implement
      this protocol binding.</span></p>
      <p>The examples provided throughout this section describe how
      a <a href="#dfn-consumer" class="internalDFN" data-link-type=
      "dfn" id="ref-for-dfn-consumer-111">Consumer</a> would
      communicate with a <a href="#dfn-web-thing" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-web-thing-100">Web Thing</a> which produces the
      following <a href="#dfn-thing-description" class=
      "internalDFN" data-link-type="dfn" id=
      "ref-for-dfn-thing-description-30">Thing Description</a>
      [<cite><a class="bibref" data-link-type="biblio" href=
      "#bib-wot-thing-description11" title=
      "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]:</p>
      <div class="example" id=
      "example-http-webhook-profile-example-thing-description">
        <div class="marker">
          <a class="self-link" href=
          "#example-http-webhook-profile-example-thing-description">
          Example <bdi>45</bdi></a><span class="example-title">:
          HTTP Webhook Profile Example Thing Description</span>
        </div>
        <pre aria-busy="false"><code class="hljs json"><span class=
        "hljs-punctuation">{</span>
  <span class="hljs-attr">"@context"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://www.w3.org/2022/wot/td/v1.1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/things/lamp"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"profile"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class=
"hljs-string">"https://www.w3.org/2022/wot/profile/http-webhook/v1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">]</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"base"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/things/lamp/"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"My Lamp"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"A web connected lamp"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"securityDefinitions"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"oauth2"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"scheme"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"oauth2"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"flow"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"code"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"authorization"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/oauth/authorize"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"token"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"https://mywebthingserver.com/oauth/token"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"security"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"oauth2"</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"properties"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"on"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"boolean"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"On/Off"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Whether the lamp is turned on"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"observeproperty"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/on"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"contentType"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"application/json"</span><span class=
"hljs-punctuation">,</span>
          <span class=
"hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"POST"</span>
        <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"unobserveproperty"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/on/{subscriptionID}"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
          <span class=
"hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"DELETE"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-attr">"level"</span> <span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"integer"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Brightness"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"The level of light from 0-100"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"percent"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"minimum"</span> <span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"maximum"</span> <span class=
"hljs-punctuation">:</span> <span class=
"hljs-number">100</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"observeproperty"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/level"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"contentType"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"application/json"</span><span class=
"hljs-punctuation">,</span>
          <span class=
"hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"POST"</span>
        <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"unobserveproperty"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/level/{subscriptionID}"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
          <span class=
"hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"DELETE"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"events"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"overheated"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"title"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"Overheated"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"data"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"number"</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-attr">"unit"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"degree celsius"</span>
      <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"The lamp has exceeded its safe operating temperature"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"subscription"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"object"</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-attr">"properties"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"callbackURL"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"type"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"string"</span><span class=
"hljs-punctuation">,</span>
            <span class="hljs-attr">"format"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"uri"</span><span class="hljs-punctuation">,</span>
            <span class=
"hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Callback URL provided by subscriber for Webhook notifications."</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
      <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"subscribeevent"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"events/overheated"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"contentType"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"application/json"</span><span class=
"hljs-punctuation">,</span>
          <span class=
"hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"POST"</span>
        <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"unsubscribeevent"</span><span class=
"hljs-punctuation">,</span>
          <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"events/overheated/{subscriptionID}"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
          <span class=
"hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"DELETE"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
  <span class="hljs-attr">"forms"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"observeallproperties"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"POST"</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"unobserveallproperties"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"properties/{subscriptionID}"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"suprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"DELETE"</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"subscribeallevents"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"events"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"subprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class="hljs-string">"POST"</span>
    <span class="hljs-punctuation">}</span><span class=
"hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"op"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"unsubscribeallevents"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"href"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"events/{subscriptionID}"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"suprotocol"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"webhook"</span><span class=
"hljs-punctuation">,</span>
      <span class="hljs-attr">"htv:methodName"</span><span class=
"hljs-punctuation">:</span> <span class=
"hljs-string">"DELETE"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span></code></pre>
      </div>
      <section id=
      "http-webhook-profile-protocol-binding-properties">
        <div class="header-wrapper">
          <h4 id="x8-2-1-properties"><bdi class="secno">8.2.1</bdi>
          Properties</h4><a class="self-link" href=
          "#http-webhook-profile-protocol-binding-properties"
          aria-label="Permalink for Section 8.2.1"></a>
        </div>
        <section id=
        "http-webhook-profile-protocol-binding-observeproperty">
          <div class="header-wrapper">
            <h5 id="x8-2-1-1-observeproperty"><bdi class=
            "secno">8.2.1.1</bdi>
            <code>observeproperty</code></h5><a class="self-link"
            href=
            "#http-webhook-profile-protocol-binding-observeproperty"
            aria-label="Permalink for Section 8.2.1.1"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeproperty-1">
            <p>The URL of a property resource to be used when
            observing the value of a <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-27">Property</a> <em class=
            "rfc2119">MUST</em> be obtained from a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-31">Thing
            Description</a> [<cite><a class="bibref"
            data-link-type="biblio" href=
            "#bib-wot-thing-description11" title=
            "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
            by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
            PropertyAffordance</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>observeproperty</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Once defaults have been applied, its
              <code>contentType</code> member has a value of
              <code>application/json</code></li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>webhook</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeproperty-2">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the property resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeproperty-3">
            <p>In order to observe a <a href="#dfn-property" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-28">Property</a>, a <a href=
            "#dfn-consumer" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-consumer-112">Consumer</a>
            <em class="rfc2119">MUST</em> send an HTTP request to
            the <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-101">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the URL of the property resource</li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body containing a JSON object with the
              following members:
                <ul>
                  <li>A <code>callbackURL</code> member set to a
                  callback URL the <a href="#dfn-thing" class=
                  "internalDFN" data-link-type="dfn" id=
                  "ref-for-dfn-thing-18">Thing</a> should use to
                  send property change notifications to the
                    <a href="#dfn-consumer" class="internalDFN"
                    data-link-type="dfn" id=
                    "ref-for-dfn-consumer-113">Consumer</a>.
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-observe-property-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-observe-property-request">Example
              <bdi>46</bdi></a><span class="example-title">:
              Observe property request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">POST /things/lamp/properties/level HTTP/<span class=
            "hljs-number">1.1</span>
Host: mythingserver.com
Content-Type: application/json
{
  callbackURL: <span class=
"hljs-string">"https://myconsumer.com/listeners/d629c54e-a919-463b-8680-602a21f91fe9"</span>
}</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeproperty-5">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-102">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-114">Consumer</a> has permission
            to observe the corresponding <a href="#dfn-property"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-29">Property</a>, then upon
            successfully registering a callback URL it <em class=
            "rfc2119">MUST</em> send an HTTP response to the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-115">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>201 Created</code></li>
              <li>
                <code>Location</code> header set to a unique URL
                representing the individual property observation
                subscription, for use by the <a href=
                "#dfn-consumer" class="internalDFN" data-link-type=
                "dfn" id="ref-for-dfn-consumer-116">Consumer</a>
                when later cancelling the observation of the
                <a href="#dfn-property" class="internalDFN"
                data-link-type="dfn" id=
                "ref-for-dfn-property-30">Property</a>.
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-observe-property-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-observe-property-response">Example
              <bdi>47</bdi></a><span class="example-title">:
              Observe property response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">201</span> Created
<span class="hljs-attribute">Location</span><span class=
"hljs-punctuation">: </span>/things/properties/level/74353483-3997-437a-a4f5-84d03784e517</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeproperty-6">
            <p>Whilst the property observation subscription is
            registered, whenever a change in the value of the
            observed <a href="#dfn-property" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-property-31">Property</a> occurs, the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-103">Web
            Thing</a> <em class="rfc2119">MUST</em> send an HTTP
            request to the observing <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-117">Consumer</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the callback URL provided by the
              <a href="#dfn-consumer" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-consumer-118">Consumer</a> when
              registering the observation
              </li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A <code>Link</code> header with the URL set to
              the URL of the corresponding property resource, and
              <code>rel</code> set to <code>self</code></li>
              <li>A <code>Date</code> header automatically set to
              the time of the property change by the user agent,
              using the HTTP <a href=
              "https://httpwg.org/specs/rfc9110.html#rfc.section.6.6.1">
                Date</a> format from [<cite><a class="bibref"
                data-link-type="biblio" href="#bib-rfc9110" title=
                "HTTP Semantics">rfc9110</a></cite>]
              </li>
              <li>A body containing the new value of the <a href=
              "#dfn-property" class="internalDFN" data-link-type=
              "dfn" id="ref-for-dfn-property-32">Property</a>,
              serialized in JSON and conforming to the data schema
              of the <a href=
              "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
                </a>Property Affordance
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-property-change-notification-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-property-change-notification-request">Example
              <bdi>48</bdi></a><span class="example-title">:
              Property change notification request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">POST</span> <span class=
            "hljs-string">/listeners/d629c54e-a919-463b-8680-602a21f91fe9</span> <span class="hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">myconsumer.com</span>
<span class="hljs-attr">Date:</span> <span class=
"hljs-string">Fri,</span> <span class=
"hljs-number">4</span> <span class=
"hljs-string">Jul</span> <span class=
"hljs-number">2025 12:48:00 </span><span class=
"hljs-string">GMT</span>
<span class="hljs-attr">Content-type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-attr">Link:</span> <span class=
"hljs-string">&lt;https://mythingserver.com/things/mylamp1/properties/level&gt;;</span> <span class="hljs-string">rel="self"</span>
<span class="hljs-number">90</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeproperty-7">
            <p>When a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-119">Consumer</a> receives an
            HTTP request following the format above to a valid
            callback URL, it <em class="rfc2119">MUST</em> send an
            HTTP response to the <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-104">Web Thing</a> with:</p>
            <ul>
              <li>Status code set to <code>200 OK</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-property-change-notification-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-property-change-notification-response">Example
              <bdi>49</bdi></a><span class="example-title">:
              Property change notification response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK</code></pre>
          </div>
        </section>
        <section id=
        "http-webhook-profile-protocol-binding-unobserveproperty">
          <div class="header-wrapper">
            <h5 id="x8-2-1-2-unobserveproperty"><bdi class=
            "secno">8.2.1.2</bdi>
            <code>unobserveproperty</code></h5><a class="self-link"
            href=
            "#http-webhook-profile-protocol-binding-unobserveproperty"
            aria-label="Permalink for Section 8.2.1.2"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unobserveproperty-1">
            <p>In order to cancel the observation subscription of a
            property, a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-120">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-105">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>DELETE</code></li>
              <li>URL set to the subscription URL provided in the
              <code>Location</code> header of the HTTP response
              during the <code>observeproperty</code>
              operation</li>
            </ul>
          </div>
          <div class="example" id=
          "example-unobserve-property-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-unobserve-property-request">Example
              <bdi>50</bdi></a><span class="example-title">:
              Unobserve property request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">DELETE</span> <span class=
            "hljs-string">/things/properties/level/74353483-3997-437a-a4f5-84d03784e517</span> <span class="hljs-string">HTTP/1.1</span> 
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unobserveproperty-2">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-106">Web
            Thing</a> receives an HTTP request following the format
            above, and a property observation subscription exists
            with the provided URL, then upon successfully
            cancelling the subscription the <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-107">Web Thing</a>
            <em class="rfc2119">MUST</em> send an HTTP response to
            the <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-121">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>204 No
              Content</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-unobserve-property-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-unobserve-property-response">Example
              <bdi>51</bdi></a><span class="example-title">:
              Unobserve property response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
        <section id=
        "http-webhook-profile-protocol-binding-events-observeallproperties">
          <div class="header-wrapper">
            <h5 id="x8-2-1-3-observeallproperties"><bdi class=
            "secno">8.2.1.3</bdi>
            <code>observeallproperties</code></h5><a class=
            "self-link" href=
            "#http-webhook-profile-protocol-binding-events-observeallproperties"
            aria-label="Permalink for Section 8.2.1.3"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeallproperties-1">
            <p>The URL of a properties resource to be used when
            observing the values of all <a href="#dfn-property"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-property-33">Properties</a> of a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-108">Web Thing</a>
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-32">Thing
            Description</a> [<cite><a class="bibref"
            data-link-type="biblio" href=
            "#bib-wot-thing-description11" title=
            "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
            by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member of a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-33">Thing
            Description</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>observeallproperties</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Once defaults have been applied, its
              <code>contentType</code> member has a value of
              <code>application/json</code></li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>webhook</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeallproperties-2">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the properties resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeallproperties-3">
            <p>In order to observe changes to all <a href=
            "#dfn-property" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-property-34">Properties</a> of a
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-109">Web
            Thing</a>, a <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-122">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-110">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the URL of the properties
              resource</li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body containing a JSON object with the
              following members:
                <ul>
                  <li>A <code>callbackURL</code> member set to a
                  callback URL the <a href="#dfn-thing" class=
                  "internalDFN" data-link-type="dfn" id=
                  "ref-for-dfn-thing-19">Thing</a> should use to
                  send property change notifications to the
                    <a href="#dfn-consumer" class="internalDFN"
                    data-link-type="dfn" id=
                    "ref-for-dfn-consumer-123">Consumer</a>.
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-observe-all-properties-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-observe-all-properties-request">Example
              <bdi>52</bdi></a><span class="example-title">:
              Observe all properties request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">POST /things/lamp/properties HTTP/<span class=
            "hljs-number">1.1</span>
Host: mythingserver.com
Content-Type: application/json
{
  callbackURL: <span class=
"hljs-string">"https://myconsumer.com/listeners/aa2d8e1f-dc6a-4fe0-a5c0-a42d9f532699"</span>
}</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeallproperties-4">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-111">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-124">Consumer</a> has permission
            to observe <a href="#dfn-property" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-property-35">Properties</a> of the
            <a href="#dfn-thing" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-20">Thing</a>, then upon
            successfully registering a callback URL it <em class=
            "rfc2119">MUST</em> send an HTTP response to the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-125">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>201 Created</code></li>
              <li>
                <code>Location</code> header set to a unique URL
                representing the individual observation
                subscription, for use by the <a href=
                "#dfn-consumer" class="internalDFN" data-link-type=
                "dfn" id="ref-for-dfn-consumer-126">Consumer</a>
                when later cancelling the observation of all
                <a href="#dfn-property" class="internalDFN"
                data-link-type="dfn" id=
                "ref-for-dfn-property-36">Properties</a>.
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-observe-all-properties-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-observe-all-properties-response">Example
              <bdi>53</bdi></a><span class="example-title">:
              Observe all properties response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">201</span> Created
<span class="hljs-attribute">Location</span><span class=
"hljs-punctuation">: </span>/things/properties/a84fc5df-2667-4db2-a767-feb4640f2cf7</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeallproperties-5">
            <p>Whilst the properties observation subscription is
            registered, whenever a change in the value of any
            observable <a href="#dfn-property" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-property-37">Property</a> occurs, the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-112">Web
            Thing</a> <em class="rfc2119">MUST</em> send an HTTP
            request to the observing <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-127">Consumer</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the callback URL provided by the
              <a href="#dfn-consumer" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-consumer-128">Consumer</a> when
              registering the observation subscription
              </li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A <code>Link</code> header with the URL set to
              the URL of the corresponding <a href=
              "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
                PropertyAffordance</a>, and <code>rel</code> set to
                <code>self</code>
              </li>
              <li>A <code>Date</code> header automatically set to
              the time of the property change by the user agent,
              using the HTTP <a href=
              "https://httpwg.org/specs/rfc9110.html#rfc.section.6.6.1">
                Date</a> format from [<cite><a class="bibref"
                data-link-type="biblio" href="#bib-rfc9110" title=
                "HTTP Semantics">rfc9110</a></cite>]
              </li>
              <li>A body containing the new value of the <a href=
              "#dfn-property" class="internalDFN" data-link-type=
              "dfn" id="ref-for-dfn-property-38">Property</a>,
              serialized in JSON and conforming to the data schema
              of the <a href=
              "https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
                PropertyAffordance</a>
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-property-change-notification-request-0">
            <div class="marker">
              <a class="self-link" href=
              "#example-property-change-notification-request-0">Example
              <bdi>54</bdi></a><span class="example-title">:
              Property change notification request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">POST</span> <span class=
            "hljs-string">/listeners/aa2d8e1f-dc6a-4fe0-a5c0-a42d9f532699</span> <span class="hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">myconsumer.com</span>
<span class="hljs-attr">Date:</span> <span class=
"hljs-string">Fri,</span> <span class=
"hljs-number">4</span> <span class=
"hljs-string">Jul</span> <span class=
"hljs-number">2025 12:56:00 </span><span class=
"hljs-string">GMT</span>
<span class="hljs-attr">Content-type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-attr">Link:</span> <span class=
"hljs-string">&lt;https://mythingserver.com/things/mylamp1/properties/level&gt;;</span> <span class="hljs-string">rel="self"</span>
<span class="hljs-number">86</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-observeallproperties-6">
            <p>When a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-129">Consumer</a> receives an
            HTTP request following the format above to a valid
            callback URL, it <em class="rfc2119">MUST</em> send an
            HTTP response to the <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-113">Web Thing</a> with:</p>
            <ul>
              <li>Status code set to <code>200 OK</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-property-change-notification-response-0">
            <div class="marker">
              <a class="self-link" href=
              "#example-property-change-notification-response-0">Example
              <bdi>55</bdi></a><span class="example-title">:
              Property change notification response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK</code></pre>
          </div>
        </section>
        <section id=
        "http-webhook-profile-protocol-binding-unobserveallproperties">
          <div class="header-wrapper">
            <h5 id="x8-2-1-4-unobserveallproperties"><bdi class=
            "secno">8.2.1.4</bdi>
            <code>unobserveallproperties</code></h5><a class=
            "self-link" href=
            "#http-webhook-profile-protocol-binding-unobserveallproperties"
            aria-label="Permalink for Section 8.2.1.4"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unobserveallproperties-1">
            <p>In order to cancel the observation of all <a href=
            "#dfn-property" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-property-39">Properties</a>, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-130">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-114">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>DELETE</code></li>
              <li>URL set to the subscription URL provided in the
              <code>Location</code> header of the HTTP response
              during the <code>observeallproperties</code>
              operation</li>
            </ul>
          </div>
          <div class="example" id=
          "example-unobserve-all-properties-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-unobserve-all-properties-request">Example
              <bdi>56</bdi></a><span class="example-title">:
              Unobserve all properties request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">DELETE</span> <span class=
            "hljs-string">/things/properties/a84fc5df-2667-4db2-a767-feb4640f2cf7</span> <span class="hljs-string">HTTP/1.1</span> 
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unobserveallproperties-2">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-115">Web
            Thing</a> receives an HTTP request following the format
            above, and a properties observation subscription exists
            with the provided URL, then upon successfully
            cancelling the observation subscription the <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-116">Web Thing</a>
            <em class="rfc2119">MUST</em> send an HTTP response to
            the <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-131">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>204 No
              Content</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-unobserve-all-properties-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-unobserve-all-properties-response">Example
              <bdi>57</bdi></a><span class="example-title">:
              Unobserve all properties response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
      </section>
      <section id="http-webhook-profile-protocol-binding-events">
        <div class="header-wrapper">
          <h4 id="x8-2-2-events"><bdi class="secno">8.2.2</bdi>
          Events</h4><a class="self-link" href=
          "#http-webhook-profile-protocol-binding-events"
          aria-label="Permalink for Section 8.2.2"></a>
        </div>
        <section id=
        "http-webhook-profile-protocol-binding-subscribeevent">
          <div class="header-wrapper">
            <h5 id="x8-2-2-1-subscribeevent"><bdi class=
            "secno">8.2.2.1</bdi>
            <code>subscribeevent</code></h5><a class="self-link"
            href=
            "#http-webhook-profile-protocol-binding-subscribeevent"
            aria-label="Permalink for Section 8.2.2.1"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-1">
            <p>The URL of an event resource to be used when
            subscribing to an <a href="#dfn-event" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-10">Event</a> <em class=
            "rfc2119">MUST</em> be obtained from a <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-34">Thing
            Description</a> [<cite><a class="bibref"
            data-link-type="biblio" href=
            "#bib-wot-thing-description11" title=
            "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
            by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the corresponding <a href=
            "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
            EventAffordance</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>subscribeevent</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Once defaults have been applied, its
              <code>contentType</code> member has a value of
              <code>application/json</code></li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>webhook</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-2">The
          resolved value of the <code>href</code> member <em class=
          "rfc2119">MUST</em> then be used as the URL of the event
          resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-3">
            <p>In order to subscribe to an <a href="#dfn-event"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-11">Event</a>, a <a href=
            "#dfn-consumer" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-consumer-132">Consumer</a>
            <em class="rfc2119">MUST</em> send an HTTP request to
            the <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-117">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the URL of the event resource</li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body containing a JSON object with the
              following members:
                <ul>
                  <li>A <code>callbackURL</code> member set to a
                  callback URL the <a href="#dfn-thing" class=
                  "internalDFN" data-link-type="dfn" id=
                  "ref-for-dfn-thing-21">Thing</a> should use to
                  send event notifications to the <a href=
                  "#dfn-consumer" class="internalDFN"
                  data-link-type="dfn" id=
                  "ref-for-dfn-consumer-133">Consumer</a>.
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-subscribe-event-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-subscribe-event-request">Example
              <bdi>58</bdi></a><span class="example-title">:
              Subscribe event request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">POST /things/lamp/events/overheated HTTP/<span class=
            "hljs-number">1.1</span>
Host: mythingserver.com
Content-Type: application/json
{
  callbackURL: <span class=
"hljs-string">"https://myconsumer.com/listeners/e79dd0a5-4537-4ded-a10f-bb4eb2aca28d"</span>
}</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-5">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-118">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-134">Consumer</a> has permission
            to subscribe to the corresponding <a href="#dfn-event"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-12">Event</a>, then upon
            successfully registering a callback URL it <em class=
            "rfc2119">MUST</em> send an HTTP response to the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-135">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>201 Created</code></li>
              <li>
                <code>Location</code> header set to a unique URL
                representing the individual event subscription, for
                use by the <a href="#dfn-consumer" class=
                "internalDFN" data-link-type="dfn" id=
                "ref-for-dfn-consumer-136">Consumer</a> when later
                cancelling the subscription.
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-subscribe-event-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-subscribe-event-response">Example
              <bdi>59</bdi></a><span class="example-title">:
              Subscribe event response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">201</span> Created
<span class="hljs-attribute">Location</span><span class=
"hljs-punctuation">: </span>/things/events/overheated/ce527faa-a5ab-4f03-8f85-e4411d13edb5</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-6">
            <p>Whilst the event subscription is registered,
            whenever an instance of the monitored <a href=
            "#dfn-event" class="internalDFN" data-link-type="dfn"
            id="ref-for-dfn-event-13">Event</a> occurs, the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-119">Web
            Thing</a> <em class="rfc2119">MUST</em> send an HTTP
            request to the subscribed <a href="#dfn-consumer"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-137">Consumer</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the callback URL provided by the
              <a href="#dfn-consumer" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-consumer-138">Consumer</a> when
              subscribing to the <a href="#dfn-event" class=
              "internalDFN" data-link-type="dfn" id=
              "ref-for-dfn-event-14">Event</a>
              </li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code> (only if the event has
              a data payload)</li>
              <li>A <code>Link</code> header with the URL set to
              the URL of the corresponding event resource, and
              <code>rel</code> set to <code>self</code></li>
              <li>A <code>Date</code> header automatically set to
              the time the event occurred by the user agent, using
              the HTTP <a href=
              "https://httpwg.org/specs/rfc9110.html#rfc.section.6.6.1">
                Date</a> format from [<cite><a class="bibref"
                data-link-type="biblio" href="#bib-rfc9110" title=
                "HTTP Semantics">rfc9110</a></cite>]
              </li>
              <li>A body containing the data payload of the event,
              if any, serialized in JSON and conforming to the data
              schema of the <a href=
              "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
                EventAffordance</a>
              </li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-6.5">
          If the event does not include a data payload then the
          <code>Content-Type</code> header of the request
          <em class="rfc2119">SHOULD NOT</em> be set, and the body
          should be empty.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-22">
            <div role="heading" class="note-title marker" id=
            "h-note-22" aria-level="6">
              <span>Note</span>
            </div>
            <p class="">A valid JSON value — such as
            <code>null</code>, empty quotation marks
            (<code>""</code>), or empty braces (<code>{}</code>) —
            could be a valid data payload and is not considered to
            be an "empty" body.</p>
          </div>
          <div class="example" id=
          "example-event-notification-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-event-notification-request">Example
              <bdi>60</bdi></a><span class="example-title">: Event
              notification request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">POST</span> <span class=
            "hljs-string">/listeners/e79dd0a5-4537-4ded-a10f-bb4eb2aca28d</span> <span class="hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">myconsumer.com</span>
<span class="hljs-attr">Date:</span> <span class=
"hljs-string">Fri,</span> <span class=
"hljs-number">4</span> <span class=
"hljs-string">Jul</span> <span class=
"hljs-number">2025 16:46:00 </span><span class=
"hljs-string">GMT</span>
<span class="hljs-attr">Content-type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-attr">Link:</span> <span class=
"hljs-string">&lt;https://mythingserver.com/things/mylamp1/events/overheated&gt;;</span> <span class="hljs-string">rel="self"</span>
<span class="hljs-number">90</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeevent-7">
            <p>When a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-139">Consumer</a> receives an
            HTTP request following the format above to a valid
            callback URL, it <em class="rfc2119">MUST</em> send an
            HTTP response to the <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-120">Web Thing</a> with:</p>
            <ul>
              <li>Status code set to <code>200 OK</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-event-notification-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-event-notification-response">Example
              <bdi>61</bdi></a><span class="example-title">: Event
              notification response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK</code></pre>
          </div>
        </section>
        <section id=
        "http-webhook-profile-protocol-binding-unsubscribeevent">
          <div class="header-wrapper">
            <h5 id="x8-2-2-2-unsubscribeevent"><bdi class=
            "secno">8.2.2.2</bdi>
            <code>unsubscribeevent</code></h5><a class="self-link"
            href=
            "#http-webhook-profile-protocol-binding-unsubscribeevent"
            aria-label="Permalink for Section 8.2.2.2"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unsubscribeevent-1">
            <p>In order to cancel the subscription to an <a href=
            "#dfn-event" class="internalDFN" data-link-type="dfn"
            id="ref-for-dfn-event-15">Event</a>, a <a href=
            "#dfn-consumer" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-consumer-140">Consumer</a>
            <em class="rfc2119">MUST</em> send an HTTP request to
            the <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-121">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>DELETE</code></li>
              <li>URL set to the subscription URL provided in the
              <code>Location</code> header of the HTTP response
              during the <code>subscribeevent</code> operation</li>
            </ul>
          </div>
          <div class="example" id=
          "example-unsubscribe-event-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-unsubscribe-event-request">Example
              <bdi>62</bdi></a><span class="example-title">:
              Unsubscribe event request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">DELETE</span> <span class=
            "hljs-string">/things/events/overheated/ce527faa-a5ab-4f03-8f85-e4411d13edb5</span> <span class="hljs-string">HTTP/1.1</span> 
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unsubscribeevent-2">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-122">Web
            Thing</a> receives an HTTP request following the format
            above, and an event subscription exists with the
            provided URL, then upon successfully cancelling the
            subscription the <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-123">Web Thing</a> <em class=
            "rfc2119">MUST</em> send an HTTP response to the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-141">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>204 No
              Content</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-unsubscribe-event-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-unsubscribe-event-response">Example
              <bdi>63</bdi></a><span class="example-title">:
              Unsubscribe event response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
        <section id=
        "http-webhook-profile-protocol-binding-events-subscribeallevents">
          <div class="header-wrapper">
            <h5 id="x8-2-2-3-subscribeallevents"><bdi class=
            "secno">8.2.2.3</bdi>
            <code>subscribeallevents</code></h5><a class=
            "self-link" href=
            "#http-webhook-profile-protocol-binding-events-subscribeallevents"
            aria-label="Permalink for Section 8.2.2.3"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-1">
            <p>The URL of an events resource to be used when
            subscribing to all <a href="#dfn-event" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-16">Events</a> of a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-124">Web Thing</a>
            <em class="rfc2119">MUST</em> be obtained from a
            <a href="#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-35">Thing
            Description</a> [<cite><a class="bibref"
            data-link-type="biblio" href=
            "#bib-wot-thing-description11" title=
            "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
            by locating a <a href=
            "https://www.w3.org/TR/wot-thing-description/#form">Form</a>
            inside the top level <a href=
            "https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member of the <a href=
            "#dfn-thing-description" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-thing-description-36">Thing
            Description</a> for which:</p>
            <ul>
              <li>Its <code>op</code> member contains the value
              <code>subscribeallevents</code></li>
              <li>After being resolved against a base URL where
              applicable, the <a href=
              "https://tools.ietf.org/html/rfc3986#section-3.1">URI
              scheme</a> [<cite><a class="bibref" data-link-type=
              "biblio" href="#bib-rfc3986" title=
              "Uniform Resource Identifier (URI): Generic Syntax">RFC3986</a></cite>]
              of the value of its <code>href</code> member is
              <code>http</code> or <code>https</code>
              </li>
              <li>Once defaults have been applied, its
              <code>contentType</code> member has a value of
              <code>application/json</code></li>
              <li>Its <code>subprotocol</code> member has a value
              of <code>webhook</code></li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-2">
          The resolved value of the <code>href</code> member
          <em class="rfc2119">MUST</em> then be used as the URL of
          the events resource.</span></p>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-3">
            <p>In order to subscribe to all <a href="#dfn-event"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-17">Events</a> of a <a href=
            "#dfn-web-thing" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-web-thing-125">Web Thing</a>, a
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-142">Consumer</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to the
            <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-126">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the URL of the events resource</li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code></li>
              <li>A body containing a JSON object with the
              following members:
                <ul>
                  <li>A <code>callbackURL</code> member set to a
                  callback URL the <a href="#dfn-thing" class=
                  "internalDFN" data-link-type="dfn" id=
                  "ref-for-dfn-thing-22">Thing</a> should use to
                  send event notifications to the <a href=
                  "#dfn-consumer" class="internalDFN"
                  data-link-type="dfn" id=
                  "ref-for-dfn-consumer-143">Consumer</a>.
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-subscribe-all-events-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-subscribe-all-events-request">Example
              <bdi>64</bdi></a><span class="example-title">:
              Subscribe all events request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs css">POST /things/lamp/events HTTP/<span class=
            "hljs-number">1.1</span>
Host: mythingserver.com
Content-Type: application/json
{
  callbackURL: <span class=
"hljs-string">"https://myconsumer.com/listeners/bdd2aa13-387b-4c97-9725-52294a9fa5a9"</span>
}</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-4">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-127">Web
            Thing</a> receives an HTTP request following the format
            above and the <a href="#dfn-consumer" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-consumer-144">Consumer</a> has permission
            to subscribe to <a href="#dfn-event" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-event-18">Events</a> of the <a href=
            "#dfn-thing" class="internalDFN" data-link-type="dfn"
            id="ref-for-dfn-thing-23">Thing</a>, then upon
            successfully registering a callback URL it <em class=
            "rfc2119">MUST</em> send an HTTP response to the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-145">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>201 Created</code></li>
              <li>
                <code>Location</code> header set to a unique URL
                representing the individual event subscription, for
                use by the <a href="#dfn-consumer" class=
                "internalDFN" data-link-type="dfn" id=
                "ref-for-dfn-consumer-146">Consumer</a> when later
                cancelling the subscription.
              </li>
            </ul>
          </div>
          <div class="example" id=
          "example-subscribe-all-events-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-subscribe-all-events-response">Example
              <bdi>65</bdi></a><span class="example-title">:
              Subscribe all events response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">201</span> Created
<span class="hljs-attribute">Location</span><span class=
"hljs-punctuation">: </span>/things/events/929dbb69-eb66-46df-a0fe-93701d82e7ea</code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-5">
            <p>Whilst the events subscription is registered,
            whenever an event occurs, the <a href="#dfn-web-thing"
            class="internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-128">Web Thing</a> <em class=
            "rfc2119">MUST</em> send an HTTP request to the
            subscribed Consumer with:</p>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the callback URL provided by the
              <a href="#dfn-consumer" class="internalDFN"
              data-link-type="dfn" id=
              "ref-for-dfn-consumer-147">Consumer</a> when
              registering the subscription
              </li>
              <li><code>Content-Type</code> header set to
              <code>application/json</code> (only if the event
              contains a data payload)</li>
              <li>A <code>Link</code> header with the URL set to
              the URL of the corresponding event resource, and
              <code>rel</code> set to <code>self</code></li>
              <li>A <code>Date</code> header automatically set to
              the time the event occurred by the user agent, using
              the HTTP <a href=
              "https://httpwg.org/specs/rfc9110.html#rfc.section.6.6.1">
                Date</a> format from [<cite><a class="bibref"
                data-link-type="biblio" href="#bib-rfc9110" title=
                "HTTP Semantics">rfc9110</a></cite>]
              </li>
              <li>A body containing the event data payload, if any,
              serialized in JSON and conforming to the data schema
              of the <a href=
              "https://www.w3.org/TR/wot-thing-description/#eventaffordance">
                EventAffordance</a>
              </li>
            </ul>
          </div>
          <p><span class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-5.5">
          If the event does not include a data payload then the
          <code>Content-type</code> header of the request
          <em class="rfc2119">SHOULD NOT</em> be set, and the body
          should be empty.</span></p>
          <div class="note" role="note" id=
          "issue-container-generatedID-23">
            <div role="heading" class="note-title marker" id=
            "h-note-23" aria-level="6">
              <span>Note</span>
            </div>
            <p class="">A valid JSON value — such as
            <code>null</code>, empty quotation marks
            (<code>""</code>), or empty braces (<code>{}</code>) —
            could be a valid data payload and is not considered to
            be an "empty" body.</p>
          </div>
          <div class="example" id=
          "example-event-notification-request-0">
            <div class="marker">
              <a class="self-link" href=
              "#example-event-notification-request-0">Example
              <bdi>66</bdi></a><span class="example-title">: Event
              notification request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">POST</span> <span class=
            "hljs-string">/listeners/bdd2aa13-387b-4c97-9725-52294a9fa5a9</span> <span class="hljs-string">HTTP/1.1</span>
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">myconsumer.com</span>
<span class="hljs-attr">Date:</span> <span class=
"hljs-string">Fri,</span> <span class=
"hljs-number">4</span> <span class=
"hljs-string">Jul</span> <span class=
"hljs-number">2025 17:04:00 </span><span class=
"hljs-string">GMT</span>
<span class="hljs-attr">Content-type:</span> <span class=
"hljs-string">application/json</span>
<span class="hljs-attr">Link:</span> <span class=
"hljs-string">&lt;https://mythingserver.com/things/mylamp1/events/overheated&gt;;</span> <span class="hljs-string">rel="self"</span>
<span class="hljs-number">86</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-subscribeallevents-6">
            <p>When a <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-148">Consumer</a> receives an
            HTTP request following the format above to a valid
            callback URL, it <em class="rfc2119">MUST</em> send an
            HTTP response to the <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-129">Web Thing</a> with:</p>
            <ul>
              <li>Status code set to <code>200 OK</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-event-notification-response-0">
            <div class="marker">
              <a class="self-link" href=
              "#example-event-notification-response-0">Example
              <bdi>67</bdi></a><span class="example-title">: Event
              notification response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">200</span> OK</code></pre>
          </div>
        </section>
        <section id=
        "http-webhook-profile-protocol-binding-unsubscribeallevents">
          <div class="header-wrapper">
            <h5 id="x8-2-2-4-unsubscribeallevents"><bdi class=
            "secno">8.2.2.4</bdi>
            <code>unsubscribeallevents</code></h5><a class=
            "self-link" href=
            "#http-webhook-profile-protocol-binding-unsubscribeallevents"
            aria-label="Permalink for Section 8.2.2.4"></a>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unsubscribeallevents-1">
            <p>In order to cancel the subscription to all <a href=
            "#dfn-event" class="internalDFN" data-link-type="dfn"
            id="ref-for-dfn-event-19">Events</a>, a <a href=
            "#dfn-consumer" class="internalDFN" data-link-type=
            "dfn" id="ref-for-dfn-consumer-149">Consumer</a>
            <em class="rfc2119">MUST</em> send an HTTP request to
            the <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-130">Web
            Thing</a> with:</p>
            <ul>
              <li>Method set to <code>DELETE</code></li>
              <li>URL set to the subscription URL provided in the
              <code>Location</code> header of the HTTP response
              during the <code>subscribeallevents</code>
              operation</li>
            </ul>
          </div>
          <div class="example" id=
          "example-unsubscribe-all-events-request">
            <div class="marker">
              <a class="self-link" href=
              "#example-unsubscribe-all-events-request">Example
              <bdi>68</bdi></a><span class="example-title">:
              Unsubscribe all events request</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs yaml"><span class=
            "hljs-string">DELETE</span> <span class=
            "hljs-string">/things/events/929dbb69-eb66-46df-a0fe-93701d82e7ea</span> <span class="hljs-string">HTTP/1.1</span> 
<span class="hljs-attr">Host:</span> <span class=
"hljs-string">mythingserver.com</span></code></pre>
          </div>
          <div class="rfc2119-assertion" id=
          "http-webhook-profile-protocol-binding-unsubscribeallevents-2">
            <p>If a <a href="#dfn-web-thing" class="internalDFN"
            data-link-type="dfn" id="ref-for-dfn-web-thing-131">Web
            Thing</a> receives an HTTP request following the format
            above, and an events subscription exists with the
            provided URL, then upon successfully cancelling the
            events subscription the <a href="#dfn-web-thing" class=
            "internalDFN" data-link-type="dfn" id=
            "ref-for-dfn-web-thing-132">Web Thing</a> <em class=
            "rfc2119">MUST</em> send an HTTP response to the
            <a href="#dfn-consumer" class="internalDFN"
            data-link-type="dfn" id=
            "ref-for-dfn-consumer-150">Consumer</a> with:</p>
            <ul>
              <li>Status code set to <code>204 No
              Content</code></li>
            </ul>
          </div>
          <div class="example" id=
          "example-unsubscribe-all-events-response">
            <div class="marker">
              <a class="self-link" href=
              "#example-unsubscribe-all-events-response">Example
              <bdi>69</bdi></a><span class="example-title">:
              Unsubscribe all events response</span>
            </div>
            <pre aria-busy="false"><code class=
            "hljs http"><span class=
            "hljs-meta">HTTP/1.1</span> <span class=
            "hljs-number">204</span> No Content</code></pre>
          </div>
        </section>
      </section>
    </section>
  </section>
  <section id="privacy-considerations">
    <div class="header-wrapper">
      <h2 id="x9-privacy-considerations"><bdi class=
      "secno">9.</bdi> Privacy Considerations</h2><a class=
      "self-link" href="#privacy-considerations" aria-label=
      "Permalink for Section 9."></a>
    </div>
    <p><span class="rfc2119-assertion" id=
    "privacy-considerations-1">The privacy considerations of the
    <a href=
    "https://www.w3.org/TR/wot-architecture/#sec-privacy-considerations">
    WoT Architecture</a> [<cite><a class="bibref" data-link-type=
    "biblio" href="#bib-wot-architecture11" title=
    "Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>]
    and <a href=
    "https://www.w3.org/TR/wot-thing-description/#sec-privacy-consideration">
    WoT Thing Description</a> [<cite><a class="bibref"
    data-link-type="biblio" href="#bib-wot-thing-description11"
    title=
    "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
    specifications <em class="rfc2119">SHOULD</em> be taken into
    account.</span></p>
    <div class="note" role="note" id=
    "issue-container-generatedID-24">
      <div role="heading" class="note-title marker" id="h-note-24"
      aria-level="3">
        <span>Note</span>
      </div>
      <p class="">Please also see WoT Security and Privacy
      Guidelines [<cite><a class="bibref" data-link-type="biblio"
      href="#bib-wot-security" title=
      "Web of Things (WoT) Security and Privacy Guidelines">wot-security</a></cite>]
      for implementation advice.</p>
    </div>
  </section>
  <section id="security-considerations">
    <div class="header-wrapper">
      <h2 id="x10-security-considerations"><bdi class=
      "secno">10.</bdi> Security Considerations</h2><a class=
      "self-link" href="#security-considerations" aria-label=
      "Permalink for Section 10."></a>
    </div>
    <p><span class="rfc2119-assertion" id=
    "security-considerations-1">The security considerations of the
    <a href=
    "https://www.w3.org/TR/wot-architecture/#sec-security-considerations">
    WoT Architecture</a> [<cite><a class="bibref" data-link-type=
    "biblio" href="#bib-wot-architecture11" title=
    "Web of Things (WoT) Architecture 1.1">wot-architecture11</a></cite>]
    and <a href=
    "https://www.w3.org/TR/wot-thing-description/#sec-security-consideration">
    WoT Thing Description</a> [<cite><a class="bibref"
    data-link-type="biblio" href="#bib-wot-thing-description11"
    title=
    "Web of Things (WoT) Thing Description 1.1">wot-thing-description11</a></cite>]
    specifications <em class="rfc2119">SHOULD</em> be taken into
    account.</span></p>
    <div class="note" role="note" id=
    "issue-container-generatedID-25">
      <div role="heading" class="note-title marker" id="h-note-25"
      aria-level="3">
        <span>Note</span>
      </div>
      <p class="">Please also see WoT Security and Privacy
      Guidelines [<cite><a class="bibref" data-link-type="biblio"
      href="#bib-wot-security" title=
      "Web of Things (WoT) Security and Privacy Guidelines">wot-security</a></cite>]
      for implementation advice.</p>
    </div>
  </section>
  <section id="accessibility-considerations">
    <div class="header-wrapper">
      <h2 id="x11-accessibility-considerations"><bdi class=
      "secno">11.</bdi> Accessibility Considerations</h2><a class=
      "self-link" href="#accessibility-considerations" aria-label=
      "Permalink for Section 11."></a>
    </div>
    <p><span class="rfc2119-assertion" id=
    "accessibility-considerations-1">The values of
    <code>title</code> and <code>description</code> members at all
    levels of a <a href="#dfn-thing-description" class=
    "internalDFN" data-link-type="dfn" id=
    "ref-for-dfn-thing-description-37">Thing Description</a> may be
    used to generate a user interface and <em class=
    "rfc2119">SHOULD</em> therefore be human readable strings which
    can also be rendered by assistive technologies when
    necessary.</span></p>
  </section>
  <section id="changes" class="appendix">
    <div class="header-wrapper">
      <h2 id="a-recent-specification-changes"><bdi class=
      "secno">A.</bdi> Recent Specification Changes</h2><a class=
      "self-link" href="#changes" aria-label=
      "Permalink for Appendix A."></a>
    </div>
    <section id="changes-from-the-wd-published-18-january-2023">
      <div class="header-wrapper">
        <h3 id="changes-from-wd"><bdi class="secno">A.1</bdi>
        Changes from the WD published 18 January 2023</h3><a class=
        "self-link" href="#changes-from-wd" aria-label=
        "Permalink for Appendix A.1"></a>
      </div>
      <ul>
        <li>Specification renamed from "Web of Things (WoT)
        Profile" to "Web of Things (WoT) Profiles"</li>
        <li>Revised Abstract</li>
        <li>A more concise introduction section including an
        explanation of the motivation for the specification</li>
        <li>Profile Requirements section split out into a separate
        document</li>
        <li>Clean up of terminology definitions</li>
        <li>Clarifications to the profiling mechanism</li>
        <li>Accessibility Constraints replaced with Accessibility
        Considerations</li>
        <li>Updated Security Constraints section</li>
        <li>Updated Links Constraints section</li>
        <li>Errors section moved inside Common Constraints
        section</li>
        <li>Default Language section removed</li>
        <li>Small clarifications in the HTTP Basic Profile</li>
        <li>Re-work of the HTTP Webhook Profile</li>
        <li>Updated Privacy & Security Considerations</li>
        <li>References updated to final published versions of
        specifications</li>
      </ul>
    </section>
    <section id="changes-from-the-fpwd-published-24-november-2020">
      <div class="header-wrapper">
        <h3 id="changes-from-fpwd"><bdi class="secno">A.2</bdi>
        Changes from the FPWD published 24 November
        2020</h3><a class="self-link" href="#changes-from-fpwd"
        aria-label="Permalink for Appendix A.2"></a>
      </div>
      <ul>
        <li>Constrain allowed OAuth2 flows.</li>
        <li>Define webhook subscription mechanism.</li>
        <li>Add common constraints for accessibility.</li>
        <li>Define allowed link relation types.</li>
        <li>Allow only a subset of the security schemes defined in
        the TD specification.</li>
        <li>Add Ben Francis as co-editor.</li>
        <li>Make security bootstrapping mandatory for
        Discovery.</li>
        <li>Allow security metadata on Forms.</li>
        <li>Remove empty Semantic Annotations section.</li>
        <li>Use RFC3339 for date-time references.</li>
        <li>Make hreflang optional.</li>
        <li>Define behavior and payloads of asynchronous and
        synchronous actions.</li>
        <li>Add example TDs for event mechanisms.</li>
        <li>Define sub-profiles (extending HTTP Basic Profile) for
        SSE and Webhook event mechanisms.</li>
        <li>Constrain initial profile to HTTP and use term "HTTP
        Basic Profile".</li>
        <li>Define error reporting and behavior.</li>
        <li>Update to use TD v1.1; update context references in
        examples.</li>
        <li>Define subprotocol usages: observeallproperties,
        unobserveallproperties, queryallactions.</li>
        <li>Require specification of a default language.</li>
        <li>Define protocol binding for observing properties.</li>
        <li>Refine definition of out-of-the-box interoperability
        and profile purpose.</li>
        <li>Specify JSON serialization of Problem Details
        format.</li>
        <li>Reorganize security and privacy considerations
        sections.</li>
        <li>Add discovery section to baseline (HTTP Basic)
        profile.</li>
        <li>Add identifier section to baseline (HTTP Basic)
        profile.</li>
        <li>Remove Canonical TD dependency.</li>
        <li>Revise terminology.</li>
      </ul>
    </section>
  </section>
  <section id="references" class="appendix">
    <div class="header-wrapper">
      <h2 id="b-references"><bdi class="secno">B.</bdi>
      References</h2><a class="self-link" href="#references"
      aria-label="Permalink for Appendix B."></a>
    </div>
    <section id="normative-references">
      <div class="header-wrapper">
        <h3 id="b-1-normative-references"><bdi class=
        "secno">B.1</bdi> Normative references</h3><a class=
        "self-link" href="#normative-references" aria-label=
        "Permalink for Appendix B.1"></a>
      </div>
      <dl class="bibliography">
        <dt id="bib-eventsource">[EVENTSOURCE]</dt>
        <dd>
          <a href=
          "https://www.w3.org/TR/eventsource/"><cite>Server-Sent
          Events</cite></a>. Ian Hickson. W3C. 28 January 2021. W3C
          Recommendation. URL: <a href=
          "https://www.w3.org/TR/eventsource/">https://www.w3.org/TR/eventsource/</a>
        </dd>
        <dt id="bib-json">[JSON]</dt>
        <dd>
          <a href=
          "https://www.rfc-editor.org/rfc/rfc8259"><cite>The
          JavaScript Object Notation (JSON) Data Interchange
          Format</cite></a>. T. Bray, Ed. IETF. December 2017.
          Internet Standard. URL: <a href=
          "https://www.rfc-editor.org/rfc/rfc8259">https://www.rfc-editor.org/rfc/rfc8259</a>
        </dd>
        <dt id="bib-rfc2119">[RFC2119]</dt>
        <dd>
          <a href=
          "https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words
          for use in RFCs to Indicate Requirement
          Levels</cite></a>. S. Bradner. IETF. March 1997. Best
          Current Practice. URL: <a href=
          "https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>
        </dd>
        <dt id="bib-rfc3339">[RFC3339]</dt>
        <dd>
          <a href=
          "https://www.rfc-editor.org/rfc/rfc3339"><cite>Date and
          Time on the Internet: Timestamps</cite></a>. G. Klyne; C.
          Newman. IETF. July 2002. Proposed Standard. URL: <a href=
          "https://www.rfc-editor.org/rfc/rfc3339">https://www.rfc-editor.org/rfc/rfc3339</a>
        </dd>
        <dt id="bib-rfc3986">[RFC3986]</dt>
        <dd>
          <a href=
          "https://www.rfc-editor.org/rfc/rfc3986"><cite>Uniform
          Resource Identifier (URI): Generic Syntax</cite></a>. T.
          Berners-Lee; R. Fielding; L. Masinter. IETF. January
          2005. Internet Standard. URL: <a href=
          "https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>
        </dd>
        <dt id="bib-rfc7807">[RFC7807]</dt>
        <dd>
          <a href=
          "https://www.rfc-editor.org/rfc/rfc7807"><cite>Problem
          Details for HTTP APIs</cite></a>. M. Nottingham; E.
          Wilde. IETF. March 2016. Proposed Standard. URL: <a href=
          "https://www.rfc-editor.org/rfc/rfc7807">https://www.rfc-editor.org/rfc/rfc7807</a>
        </dd>
        <dt id="bib-rfc8174">[RFC8174]</dt>
        <dd>
          <a href=
          "https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity
          of Uppercase vs Lowercase in RFC 2119 Key
          Words</cite></a>. B. Leiba. IETF. May 2017. Best Current
          Practice. URL: <a href=
          "https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>
        </dd>
        <dt id="bib-rfc9110">[RFC9110]</dt>
        <dd>
          <a href=
          "https://httpwg.org/specs/rfc9110.html"><cite>HTTP
          Semantics</cite></a>. R. Fielding, Ed.; M. Nottingham,
          Ed.; J. Reschke, Ed. IETF. June 2022. Internet Standard.
          URL: <a href=
          "https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
        </dd>
        <dt id="bib-rfc9112">[RFC9112]</dt>
        <dd>
          <a href=
          "https://httpwg.org/specs/rfc9112.html"><cite>HTTP/1.1</cite></a>.
          R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.
          IETF. June 2022. Internet Standard. URL: <a href=
          "https://httpwg.org/specs/rfc9112.html">https://httpwg.org/specs/rfc9112.html</a>
        </dd>
        <dt id="bib-url">[URL]</dt>
        <dd>
          <a href="https://url.spec.whatwg.org/"><cite>URL
          Standard</cite></a>. Anne van Kesteren. WHATWG. Living
          Standard. URL: <a href=
          "https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
        </dd>
        <dt id="bib-wot-architecture11">[wot-architecture11]</dt>
        <dd>
          <a href=
          "https://www.w3.org/TR/wot-architecture11/"><cite>Web of
          Things (WoT) Architecture 1.1</cite></a>. Michael
          Lagally; Ryuichi Matsukura; Kunihiko Toumura; Michael
          McCool. W3C. 5 December 2023. W3C Recommendation. URL:
          <a href=
          "https://www.w3.org/TR/wot-architecture11/">https://www.w3.org/TR/wot-architecture11/</a>
        </dd>
        <dt id="bib-wot-binding-templates">
        [wot-binding-templates]</dt>
        <dd>
          <a href=
          "https://www.w3.org/TR/wot-binding-templates/"><cite>Web
          of Things (WoT) Binding Templates</cite></a>. Michael
          Koster; Ege Korkan. W3C. 28 May 2024. W3C Working Group
          Note. URL: <a href=
          "https://www.w3.org/TR/wot-binding-templates/">https://www.w3.org/TR/wot-binding-templates/</a>
        </dd>
        <dt id="bib-wot-discovery">[wot-discovery]</dt>
        <dd>
          <a href="https://www.w3.org/TR/wot-discovery/"><cite>Web
          of Things (WoT) Discovery</cite></a>. Kunihiko Toumura;
          Michael McCool; Andrea Cimmino; Farshid Tavakolizadeh.
          W3C. 5 December 2023. W3C Recommendation. URL: <a href=
          "https://www.w3.org/TR/wot-discovery/">https://www.w3.org/TR/wot-discovery/</a>
        </dd>
        <dt id="bib-wot-thing-description11">
        [wot-thing-description11]</dt>
        <dd>
          <a href=
          "https://www.w3.org/TR/wot-thing-description11/"><cite>Web
          of Things (WoT) Thing Description 1.1</cite></a>.
          Sebastian Käbisch; Michael McCool; Ege Korkan. W3C. 5
          December 2023. W3C Recommendation. URL: <a href=
          "https://www.w3.org/TR/wot-thing-description11/">https://www.w3.org/TR/wot-thing-description11/</a>
        </dd>
        <dt id="bib-wot-usecases">[wot-usecases]</dt>
        <dd>
          <a href="https://www.w3.org/TR/wot-usecases/"><cite>Web
          of Things (WoT): Use Cases and Requirements</cite></a>.
          Michael Lagally; Michael McCool; Ryuichi Matsukura;
          Tomoaki Mizushima. W3C. 7 March 2022. W3C Working Group
          Note. URL: <a href=
          "https://www.w3.org/TR/wot-usecases/">https://www.w3.org/TR/wot-usecases/</a>
        </dd>
      </dl>
    </section>
    <section id="informative-references">
      <div class="header-wrapper">
        <h3 id="b-2-informative-references"><bdi class=
        "secno">B.2</bdi> Informative references</h3><a class=
        "self-link" href="#informative-references" aria-label=
        "Permalink for Appendix B.2"></a>
      </div>
      <dl class="bibliography">
        <dt id="bib-ecmascript">[ECMASCRIPT]</dt>
        <dd>
          <a href=
          "https://tc39.es/ecma262/multipage/"><cite>ECMAScript
          Language Specification</cite></a>. Ecma International.
          URL: <a href=
          "https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
        </dd>
        <dt id="bib-h2020-create-iot">[H2020-CREATE-IoT]</dt>
        <dd>
          <a href=
          "https://european-iot-pilots.eu/wp-content/uploads/2018/11/D06_02_WP06_H2020_CREATE-IoT_Final.pdf">
          <cite>H2020 - CREATE-IoT Project - Recommendations for
          commonalities and interoperability profiles of IoT
          platforms</cite></a>. IoT European Large-Scale Pilots
          Programme. 2018-11. Published. URL: <a href=
          "https://european-iot-pilots.eu/wp-content/uploads/2018/11/D06_02_WP06_H2020_CREATE-IoT_Final.pdf">
          https://european-iot-pilots.eu/wp-content/uploads/2018/11/D06_02_WP06_H2020_CREATE-IoT_Final.pdf</a>
        </dd>
        <dt id="bib-wot-security">[wot-security]</dt>
        <dd>
          <a href="https://www.w3.org/TR/wot-security/"><cite>Web
          of Things (WoT) Security and Privacy
          Guidelines</cite></a>. Elena Reshetova; Michael McCool.
          W3C. 6 November 2019. W3C Working Group Note. URL:
          <a href=
          "https://www.w3.org/TR/wot-security/">https://www.w3.org/TR/wot-security/</a>
        </dd>
      </dl>
    </section>
  </section>
  <p role="navigation" id="back-to-top"><a href=
  "#title"><abbr title="Back to Top">↑</abbr></a></p>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-web-thing" aria-label=
  "Links in this document to definition: Web Thing">
    <div>
      <a class="self-link" href="#dfn-web-thing" aria-label=
      "Permalink for definition: Web Thing. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-web-thing-1" title="§ Abstract">§
        Abstract</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-2" title=
        "§ 1.1 Motivation">§ 1.1 Motivation</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-3" title=
        "§ 4. Profiling Mechanism">§ 4. Profiling Mechanism</a>
        <a href="#ref-for-dfn-web-thing-4" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-5"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-6" title="§ 5.3 Security">§
        5.3 Security</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-7" title=
        "§ 5.4 Discovery">§ 5.4 Discovery</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-8" title="§ 5.6 Errors">§
        5.6 Errors</a> <a href="#ref-for-dfn-web-thing-9" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-10"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-11" title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-12" title=
        "§ 6.1 Identifier">§ 6.1 Identifier</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-13" title=
        "§ 6.2 Protocol Binding">§ 6.2 Protocol Binding</a>
        <a href="#ref-for-dfn-web-thing-14" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-15"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-16" title=
        "§ 6.2.1.1 readproperty">§ 6.2.1.1 readproperty</a>
        <a href="#ref-for-dfn-web-thing-17" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-18" title=
        "§ 6.2.1.2 writeproperty">§ 6.2.1.2 writeproperty</a>
        <a href="#ref-for-dfn-web-thing-19" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-20" title=
        "§ 6.2.1.3 readallproperties">§ 6.2.1.3
        readallproperties</a> <a href="#ref-for-dfn-web-thing-21"
        title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-22" title=
        "§ 6.2.1.4 writemultipleproperties">§ 6.2.1.4
        writemultipleproperties</a> <a href=
        "#ref-for-dfn-web-thing-23" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-24" title=
        "§ 6.2.2.1 invokeaction">§ 6.2.2.1 invokeaction</a>
        <a href="#ref-for-dfn-web-thing-25" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-26"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-27" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-web-thing-28" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-web-thing-29"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-web-thing-30" title="Reference 7">(7)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-31" title=
        "§ 6.2.2.1.2 Synchronous Action Response">§ 6.2.2.1.2
        Synchronous Action Response</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-32" title=
        "§ 6.2.2.1.3 Asynchronous Action Response">§ 6.2.2.1.3
        Asynchronous Action Response</a> <a href=
        "#ref-for-dfn-web-thing-33" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-34" title=
        "§ 6.2.2.2 queryaction">§ 6.2.2.2 queryaction</a> <a href=
        "#ref-for-dfn-web-thing-35" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-web-thing-36" title=
        "Reference 3">(3)</a> <a href="#ref-for-dfn-web-thing-37"
        title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-38" title=
        "§ 6.2.2.3 cancelaction">§ 6.2.2.3 cancelaction</a>
        <a href="#ref-for-dfn-web-thing-39" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-40"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-41" title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-42" title=
        "§ 6.2.2.4 queryallactions">§ 6.2.2.4 queryallactions</a>
        <a href="#ref-for-dfn-web-thing-43" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-44"></a> <a href=
        "#ref-for-dfn-web-thing-97" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-45" title=
        "§ 7. HTTP SSE Profile">§ 7. HTTP SSE Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-46" title=
        "§ 7.1 Identifier">§ 7.1 Identifier</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-47" title=
        "§ 7.2 Protocol Binding">§ 7.2 Protocol Binding</a>
        <a href="#ref-for-dfn-web-thing-48" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-49"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-50" title=
        "§ 7.2.1.1 observeproperty">§ 7.2.1.1 observeproperty</a>
        <a href="#ref-for-dfn-web-thing-51" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-52"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-53" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-web-thing-54" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-web-thing-55"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-web-thing-56" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-web-thing-57" title=
        "Reference 8">(8)</a> <a href="#ref-for-dfn-web-thing-58"
        title="Reference 9">(9)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-59" title=
        "§ 7.2.1.2 unobserveproperty">§ 7.2.1.2
        unobserveproperty</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-60" title=
        "§ 7.2.1.3 observeallproperties">§ 7.2.1.3
        observeallproperties</a> <a href=
        "#ref-for-dfn-web-thing-61" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-web-thing-62" title=
        "Reference 3">(3)</a> <a href="#ref-for-dfn-web-thing-63"
        title="Reference 4">(4)</a> <a href=
        "#ref-for-dfn-web-thing-64" title="Reference 5">(5)</a>
        <a href="#ref-for-dfn-web-thing-65" title=
        "Reference 6">(6)</a> <a href="#ref-for-dfn-web-thing-66"
        title="Reference 7">(7)</a> <a href=
        "#ref-for-dfn-web-thing-67" title="Reference 8">(8)</a>
        <a href="#ref-for-dfn-web-thing-68" title=
        "Reference 9">(9)</a> <a href="#ref-for-dfn-web-thing-69"
        title="Reference 10">(10)</a> <a href=
        "#ref-for-dfn-web-thing-70" title="Reference 11">(11)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-71" title=
        "§ 7.2.1.4 unobserveallproperties">§ 7.2.1.4
        unobserveallproperties</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-72" title=
        "§ 7.2.2 Events">§ 7.2.2 Events</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-73" title=
        "§ 7.2.2.1 subscribeevent">§ 7.2.2.1 subscribeevent</a>
        <a href="#ref-for-dfn-web-thing-74" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-75"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-76" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-web-thing-77" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-web-thing-78"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-web-thing-79" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-web-thing-80" title=
        "Reference 8">(8)</a> <a href="#ref-for-dfn-web-thing-81"
        title="Reference 9">(9)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-82" title=
        "§ 7.2.2.2 unsubscribeevent">§ 7.2.2.2 unsubscribeevent</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-83" title=
        "§ 7.2.2.3 subscribeallevents">§ 7.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-web-thing-84"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-web-thing-85" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-web-thing-86" title=
        "Reference 4">(4)</a> <a href="#ref-for-dfn-web-thing-87"
        title="Reference 5">(5)</a> <a href=
        "#ref-for-dfn-web-thing-88" title="Reference 6">(6)</a>
        <a href="#ref-for-dfn-web-thing-89" title=
        "Reference 7">(7)</a> <a href="#ref-for-dfn-web-thing-90"
        title="Reference 8">(8)</a> <a href=
        "#ref-for-dfn-web-thing-91" title="Reference 9">(9)</a>
        <a href="#ref-for-dfn-web-thing-92" title=
        "Reference 10">(10)</a> <a href="#ref-for-dfn-web-thing-93"
        title="Reference 11">(11)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-94" title=
        "§ 7.2.2.4 unsubscribeallevents">§ 7.2.2.4
        unsubscribeallevents</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-95" title=
        "§ 8. HTTP Webhook Profile">§ 8. HTTP Webhook Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-96" title=
        "§ 8.1 Identifier">§ 8.1 Identifier</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-98" title=
        "§ 8.2 Protocol Binding">§ 8.2 Protocol Binding</a>
        <a href="#ref-for-dfn-web-thing-99" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-100"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-101" title=
        "§ 8.2.1.1 observeproperty">§ 8.2.1.1 observeproperty</a>
        <a href="#ref-for-dfn-web-thing-102" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-103"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-104" title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-105" title=
        "§ 8.2.1.2 unobserveproperty">§ 8.2.1.2
        unobserveproperty</a> <a href="#ref-for-dfn-web-thing-106"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-web-thing-107" title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-108" title=
        "§ 8.2.1.3 observeallproperties">§ 8.2.1.3
        observeallproperties</a> <a href=
        "#ref-for-dfn-web-thing-109" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-web-thing-110" title=
        "Reference 3">(3)</a> <a href="#ref-for-dfn-web-thing-111"
        title="Reference 4">(4)</a> <a href=
        "#ref-for-dfn-web-thing-112" title="Reference 5">(5)</a>
        <a href="#ref-for-dfn-web-thing-113" title=
        "Reference 6">(6)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-114" title=
        "§ 8.2.1.4 unobserveallproperties">§ 8.2.1.4
        unobserveallproperties</a> <a href=
        "#ref-for-dfn-web-thing-115" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-web-thing-116" title=
        "Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-117" title=
        "§ 8.2.2.1 subscribeevent">§ 8.2.2.1 subscribeevent</a>
        <a href="#ref-for-dfn-web-thing-118" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-119"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-web-thing-120" title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-121" title=
        "§ 8.2.2.2 unsubscribeevent">§ 8.2.2.2 unsubscribeevent</a>
        <a href="#ref-for-dfn-web-thing-122" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-web-thing-123"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-124" title=
        "§ 8.2.2.3 subscribeallevents">§ 8.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-web-thing-125"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-web-thing-126" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-web-thing-127" title=
        "Reference 4">(4)</a> <a href="#ref-for-dfn-web-thing-128"
        title="Reference 5">(5)</a> <a href=
        "#ref-for-dfn-web-thing-129" title="Reference 6">(6)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-web-thing-130" title=
        "§ 8.2.2.4 unsubscribeallevents">§ 8.2.2.4
        unsubscribeallevents</a> <a href=
        "#ref-for-dfn-web-thing-131" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-web-thing-132" title=
        "Reference 3">(3)</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-thing" aria-label=
  "Links in this document to definition: Thing">
    <div>
      <a class="self-link" href="#dfn-thing" aria-label=
      "Permalink for definition: Thing. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-thing-1" title="§ Abstract">§
        Abstract</a> <a href="#ref-for-dfn-thing-2" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-3" title="§ 1.1 Motivation">§
        1.1 Motivation</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-4" title=
        "§ 1.3 Out-of-the-Box Interoperability">§ 1.3
        Out-of-the-Box Interoperability</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-5" title="§ 2. Conformance">§
        2. Conformance</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-6" title=
        "§ 3.1 Additional Definitions">§ 3.1 Additional
        Definitions</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-7" title=
        "§ 4. Profiling Mechanism">§ 4. Profiling Mechanism</a>
        <a href="#ref-for-dfn-thing-8" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-thing-9" title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-10" title="§ 5.3 Security">§
        5.3 Security</a> <a href="#ref-for-dfn-thing-11" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-thing-12"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-13" title=
        "§ 6.2.2.1.1 ActionStatus object">§ 6.2.2.1.1 ActionStatus
        object</a> <a href="#ref-for-dfn-thing-14" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-thing-15"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-16" title=
        "§ 6.2.2.1.3 Asynchronous Action Response">§ 6.2.2.1.3
        Asynchronous Action Response</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-17" title=
        "§ 8. HTTP Webhook Profile">§ 8. HTTP Webhook Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-18" title=
        "§ 8.2.1.1 observeproperty">§ 8.2.1.1 observeproperty</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-19" title=
        "§ 8.2.1.3 observeallproperties">§ 8.2.1.3
        observeallproperties</a> <a href="#ref-for-dfn-thing-20"
        title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-21" title=
        "§ 8.2.2.1 subscribeevent">§ 8.2.2.1 subscribeevent</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-22" title=
        "§ 8.2.2.3 subscribeallevents">§ 8.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-thing-23"
        title="Reference 2">(2)</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-consumer" aria-label=
  "Links in this document to definition: Consumer">
    <div>
      <a class="self-link" href="#dfn-consumer" aria-label=
      "Permalink for definition: Consumer. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-consumer-1" title="§ Abstract">§
        Abstract</a> <a href="#ref-for-dfn-consumer-2" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-3"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-4" title=
        "§ 1.1 Motivation">§ 1.1 Motivation</a> <a href=
        "#ref-for-dfn-consumer-5" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-consumer-6" title=
        "Reference 3">(3)</a> <a href="#ref-for-dfn-consumer-7"
        title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-8" title=
        "§ 1.3 Out-of-the-Box Interoperability">§ 1.3
        Out-of-the-Box Interoperability</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-9" title=
        "§ 1.3.4 Organizational Interoperability">§ 1.3.4
        Organizational Interoperability</a> <a href=
        "#ref-for-dfn-consumer-10" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-consumer-11" title=
        "Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-12" title=
        "§ 2. Conformance">§ 2. Conformance</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-13" title=
        "§ 3.1 Additional Definitions">§ 3.1 Additional
        Definitions</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-14" title=
        "§ 4. Profiling Mechanism">§ 4. Profiling Mechanism</a>
        <a href="#ref-for-dfn-consumer-15" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-16"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-consumer-17" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-consumer-18" title=
        "Reference 5">(5)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-19" title="§ 5.3 Security">§
        5.3 Security</a> <a href="#ref-for-dfn-consumer-20" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-21" title="§ 5.5 Links">§
        5.5 Links</a> <a href="#ref-for-dfn-consumer-22" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-23"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-consumer-24" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-consumer-25" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-consumer-26"
        title="Reference 6">(6)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-27" title="§ 5.6 Errors">§
        5.6 Errors</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-28" title=
        "§ 6. HTTP Basic Profile">§ 6. HTTP Basic Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-29" title=
        "§ 6.2 Protocol Binding">§ 6.2 Protocol Binding</a>
        <a href="#ref-for-dfn-consumer-30" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-31"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-32" title=
        "§ 6.2.1.1 readproperty">§ 6.2.1.1 readproperty</a>
        <a href="#ref-for-dfn-consumer-33" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-34" title=
        "§ 6.2.1.2 writeproperty">§ 6.2.1.2 writeproperty</a>
        <a href="#ref-for-dfn-consumer-35" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-36" title=
        "§ 6.2.1.3 readallproperties">§ 6.2.1.3
        readallproperties</a> <a href="#ref-for-dfn-consumer-37"
        title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-38" title=
        "§ 6.2.1.4 writemultipleproperties">§ 6.2.1.4
        writemultipleproperties</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-39" title=
        "§ 6.2.2.1 invokeaction">§ 6.2.2.1 invokeaction</a>
        <a href="#ref-for-dfn-consumer-40" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-41"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-42" title=
        "§ 6.2.2.1.1 ActionStatus object">§ 6.2.2.1.1 ActionStatus
        object</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-43" title=
        "§ 6.2.2.2 queryaction">§ 6.2.2.2 queryaction</a> <a href=
        "#ref-for-dfn-consumer-44" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-45" title=
        "§ 6.2.2.3 cancelaction">§ 6.2.2.3 cancelaction</a>
        <a href="#ref-for-dfn-consumer-46" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-47" title=
        "§ 6.2.2.4 queryallactions">§ 6.2.2.4 queryallactions</a>
        <a href="#ref-for-dfn-consumer-48" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-49" title=
        "§ 7. HTTP SSE Profile">§ 7. HTTP SSE Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-50" title=
        "§ 7.2 Protocol Binding">§ 7.2 Protocol Binding</a>
        <a href="#ref-for-dfn-consumer-51" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-52"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-53" title=
        "§ 7.2.1.1 observeproperty">§ 7.2.1.1 observeproperty</a>
        <a href="#ref-for-dfn-consumer-54" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-55"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-consumer-56" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-consumer-57" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-consumer-58"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-consumer-59" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-consumer-60" title=
        "Reference 8">(8)</a> <a href="#ref-for-dfn-consumer-61"
        title="Reference 9">(9)</a> <a href=
        "#ref-for-dfn-consumer-62" title="Reference 10">(10)</a>
        <a href="#ref-for-dfn-consumer-63" title=
        "Reference 11">(11)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-64" title=
        "§ 7.2.1.2 unobserveproperty">§ 7.2.1.2
        unobserveproperty</a> <a href="#ref-for-dfn-consumer-65"
        title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-66" title=
        "§ 7.2.1.3 observeallproperties">§ 7.2.1.3
        observeallproperties</a> <a href="#ref-for-dfn-consumer-67"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-consumer-68" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-consumer-69" title=
        "Reference 4">(4)</a> <a href="#ref-for-dfn-consumer-70"
        title="Reference 5">(5)</a> <a href=
        "#ref-for-dfn-consumer-71" title="Reference 6">(6)</a>
        <a href="#ref-for-dfn-consumer-72" title=
        "Reference 7">(7)</a> <a href="#ref-for-dfn-consumer-73"
        title="Reference 8">(8)</a> <a href=
        "#ref-for-dfn-consumer-74" title="Reference 9">(9)</a>
        <a href="#ref-for-dfn-consumer-75" title=
        "Reference 10">(10)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-76" title=
        "§ 7.2.1.4 unobserveallproperties">§ 7.2.1.4
        unobserveallproperties</a> <a href=
        "#ref-for-dfn-consumer-77" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-78" title="§ 7.2.2 Events">§
        7.2.2 Events</a> <a href="#ref-for-dfn-consumer-79" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-80" title=
        "§ 7.2.2.1 subscribeevent">§ 7.2.2.1 subscribeevent</a>
        <a href="#ref-for-dfn-consumer-81" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-82"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-consumer-83" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-consumer-84" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-consumer-85"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-consumer-86" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-consumer-87" title=
        "Reference 8">(8)</a> <a href="#ref-for-dfn-consumer-88"
        title="Reference 9">(9)</a> <a href=
        "#ref-for-dfn-consumer-89" title="Reference 10">(10)</a>
        <a href="#ref-for-dfn-consumer-90" title=
        "Reference 11">(11)</a> <a href="#ref-for-dfn-consumer-91"
        title="Reference 12">(12)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-92" title=
        "§ 7.2.2.2 unsubscribeevent">§ 7.2.2.2 unsubscribeevent</a>
        <a href="#ref-for-dfn-consumer-93" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-94" title=
        "§ 7.2.2.3 subscribeallevents">§ 7.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-consumer-95"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-consumer-96" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-consumer-97" title=
        "Reference 4">(4)</a> <a href="#ref-for-dfn-consumer-98"
        title="Reference 5">(5)</a> <a href=
        "#ref-for-dfn-consumer-99" title="Reference 6">(6)</a>
        <a href="#ref-for-dfn-consumer-100" title=
        "Reference 7">(7)</a> <a href="#ref-for-dfn-consumer-101"
        title="Reference 8">(8)</a> <a href=
        "#ref-for-dfn-consumer-102" title="Reference 9">(9)</a>
        <a href="#ref-for-dfn-consumer-103" title=
        "Reference 10">(10)</a> <a href="#ref-for-dfn-consumer-104"
        title="Reference 11">(11)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-105" title=
        "§ 7.2.2.4 unsubscribeallevents">§ 7.2.2.4
        unsubscribeallevents</a> <a href=
        "#ref-for-dfn-consumer-106" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-107" title=
        "§ 8. HTTP Webhook Profile">§ 8. HTTP Webhook Profile</a>
        <a href="#ref-for-dfn-consumer-108" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-109" title=
        "§ 8.2 Protocol Binding">§ 8.2 Protocol Binding</a>
        <a href="#ref-for-dfn-consumer-110" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-111"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-112" title=
        "§ 8.2.1.1 observeproperty">§ 8.2.1.1 observeproperty</a>
        <a href="#ref-for-dfn-consumer-113" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-114"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-consumer-115" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-consumer-116" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-consumer-117"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-consumer-118" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-consumer-119" title=
        "Reference 8">(8)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-120" title=
        "§ 8.2.1.2 unobserveproperty">§ 8.2.1.2
        unobserveproperty</a> <a href="#ref-for-dfn-consumer-121"
        title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-122" title=
        "§ 8.2.1.3 observeallproperties">§ 8.2.1.3
        observeallproperties</a> <a href=
        "#ref-for-dfn-consumer-123" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-consumer-124" title=
        "Reference 3">(3)</a> <a href="#ref-for-dfn-consumer-125"
        title="Reference 4">(4)</a> <a href=
        "#ref-for-dfn-consumer-126" title="Reference 5">(5)</a>
        <a href="#ref-for-dfn-consumer-127" title=
        "Reference 6">(6)</a> <a href="#ref-for-dfn-consumer-128"
        title="Reference 7">(7)</a> <a href=
        "#ref-for-dfn-consumer-129" title="Reference 8">(8)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-130" title=
        "§ 8.2.1.4 unobserveallproperties">§ 8.2.1.4
        unobserveallproperties</a> <a href=
        "#ref-for-dfn-consumer-131" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-132" title=
        "§ 8.2.2.1 subscribeevent">§ 8.2.2.1 subscribeevent</a>
        <a href="#ref-for-dfn-consumer-133" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-consumer-134"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-consumer-135" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-consumer-136" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-consumer-137"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-consumer-138" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-consumer-139" title=
        "Reference 8">(8)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-140" title=
        "§ 8.2.2.2 unsubscribeevent">§ 8.2.2.2 unsubscribeevent</a>
        <a href="#ref-for-dfn-consumer-141" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-142" title=
        "§ 8.2.2.3 subscribeallevents">§ 8.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-consumer-143"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-consumer-144" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-consumer-145" title=
        "Reference 4">(4)</a> <a href="#ref-for-dfn-consumer-146"
        title="Reference 5">(5)</a> <a href=
        "#ref-for-dfn-consumer-147" title="Reference 6">(6)</a>
        <a href="#ref-for-dfn-consumer-148" title=
        "Reference 7">(7)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-consumer-149" title=
        "§ 8.2.2.4 unsubscribeallevents">§ 8.2.2.4
        unsubscribeallevents</a> <a href=
        "#ref-for-dfn-consumer-150" title="Reference 2">(2)</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-thing-description" aria-label=
  "Links in this document to definition: Thing Description">
    <div>
      <a class="self-link" href="#dfn-thing-description"
      aria-label="Permalink for definition: Thing Description. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-thing-description-1" title=
        "§ Abstract">§ Abstract</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-2" title=
        "§ 1.1 Motivation">§ 1.1 Motivation</a> <a href=
        "#ref-for-dfn-thing-description-3" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-4" title=
        "§ 4. Profiling Mechanism">§ 4. Profiling Mechanism</a>
        <a href="#ref-for-dfn-thing-description-5" title=
        "Reference 2">(2)</a> <a href=
        "#ref-for-dfn-thing-description-6" title=
        "Reference 3">(3)</a> <a href=
        "#ref-for-dfn-thing-description-7" title=
        "Reference 4">(4)</a> <a href=
        "#ref-for-dfn-thing-description-8" title=
        "Reference 5">(5)</a> <a href=
        "#ref-for-dfn-thing-description-9" title=
        "Reference 6">(6)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-10" title=
        "§ 5.1 Units">§ 5.1 Units</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-11" title=
        "§ 5.3 Security">§ 5.3 Security</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-12" title=
        "§ 5.4 Discovery">§ 5.4 Discovery</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-13" title=
        "§ 5.5 Links">§ 5.5 Links</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-14" title=
        "§ 6.1 Identifier">§ 6.1 Identifier</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-15" title=
        "§ 6.2 Protocol Binding">§ 6.2 Protocol Binding</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-16" title=
        "§ 6.2.1.1 readproperty">§ 6.2.1.1 readproperty</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-17" title=
        "§ 6.2.1.2 writeproperty">§ 6.2.1.2 writeproperty</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-18" title=
        "§ 6.2.1.3 readallproperties">§ 6.2.1.3
        readallproperties</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-19" title=
        "§ 6.2.1.4 writemultipleproperties">§ 6.2.1.4
        writemultipleproperties</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-20" title=
        "§ 6.2.2.1 invokeaction">§ 6.2.2.1 invokeaction</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-21" title=
        "§ 6.2.2.4 queryallactions">§ 6.2.2.4 queryallactions</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-22" title=
        "§ 7.1 Identifier">§ 7.1 Identifier</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-23" title=
        "§ 7.2 Protocol Binding">§ 7.2 Protocol Binding</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-24" title=
        "§ 7.2.1.3 observeallproperties">§ 7.2.1.3
        observeallproperties</a> <a href=
        "#ref-for-dfn-thing-description-25" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-26" title=
        "§ 7.2.2.1 subscribeevent">§ 7.2.2.1 subscribeevent</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-27" title=
        "§ 7.2.2.3 subscribeallevents">§ 7.2.2.3
        subscribeallevents</a> <a href=
        "#ref-for-dfn-thing-description-28" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-29" title=
        "§ 8.1 Identifier">§ 8.1 Identifier</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-30" title=
        "§ 8.2 Protocol Binding">§ 8.2 Protocol Binding</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-31" title=
        "§ 8.2.1.1 observeproperty">§ 8.2.1.1 observeproperty</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-32" title=
        "§ 8.2.1.3 observeallproperties">§ 8.2.1.3
        observeallproperties</a> <a href=
        "#ref-for-dfn-thing-description-33" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-34" title=
        "§ 8.2.2.1 subscribeevent">§ 8.2.2.1 subscribeevent</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-35" title=
        "§ 8.2.2.3 subscribeallevents">§ 8.2.2.3
        subscribeallevents</a> <a href=
        "#ref-for-dfn-thing-description-36" title=
        "Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-thing-description-37" title=
        "§ 11. Accessibility Considerations">§ 11. Accessibility
        Considerations</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-property" aria-label=
  "Links in this document to definition: Property">
    <div>
      <a class="self-link" href="#dfn-property" aria-label=
      "Permalink for definition: Property. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-property-1" title=
        "§ 6.2.1.1 readproperty">§ 6.2.1.1 readproperty</a>
        <a href="#ref-for-dfn-property-2" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-property-3"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-property-4" title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-5" title=
        "§ 6.2.1.2 writeproperty">§ 6.2.1.2 writeproperty</a>
        <a href="#ref-for-dfn-property-6" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-property-7"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-8" title=
        "§ 6.2.1.3 readallproperties">§ 6.2.1.3
        readallproperties</a> <a href="#ref-for-dfn-property-9"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-property-10" title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-11" title=
        "§ 6.2.1.4 writemultipleproperties">§ 6.2.1.4
        writemultipleproperties</a> <a href=
        "#ref-for-dfn-property-12" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-property-13" title=
        "Reference 3">(3)</a> <a href="#ref-for-dfn-property-14"
        title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-15" title=
        "§ 7. HTTP SSE Profile">§ 7. HTTP SSE Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-16" title=
        "§ 7.2.1.1 observeproperty">§ 7.2.1.1 observeproperty</a>
        <a href="#ref-for-dfn-property-17" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-property-18"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-property-19" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-property-20" title=
        "Reference 5">(5)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-21" title=
        "§ 7.2.1.2 unobserveproperty">§ 7.2.1.2
        unobserveproperty</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-22" title=
        "§ 7.2.1.3 observeallproperties">§ 7.2.1.3
        observeallproperties</a> <a href="#ref-for-dfn-property-23"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-property-24" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-property-25" title=
        "Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-26" title=
        "§ 8. HTTP Webhook Profile">§ 8. HTTP Webhook Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-27" title=
        "§ 8.2.1.1 observeproperty">§ 8.2.1.1 observeproperty</a>
        <a href="#ref-for-dfn-property-28" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-property-29"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-property-30" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-property-31" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-property-32"
        title="Reference 6">(6)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-33" title=
        "§ 8.2.1.3 observeallproperties">§ 8.2.1.3
        observeallproperties</a> <a href="#ref-for-dfn-property-34"
        title="Reference 2">(2)</a> <a href=
        "#ref-for-dfn-property-35" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-property-36" title=
        "Reference 4">(4)</a> <a href="#ref-for-dfn-property-37"
        title="Reference 5">(5)</a> <a href=
        "#ref-for-dfn-property-38" title="Reference 6">(6)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-property-39" title=
        "§ 8.2.1.4 unobserveallproperties">§ 8.2.1.4
        unobserveallproperties</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-action" aria-label=
  "Links in this document to definition: Action">
    <div>
      <a class="self-link" href="#dfn-action" aria-label=
      "Permalink for definition: Action. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-action-1" title=
        "§ 6.2.2.1 invokeaction">§ 6.2.2.1 invokeaction</a>
        <a href="#ref-for-dfn-action-2" title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-action-3" title=
        "§ 6.2.2.2 queryaction">§ 6.2.2.2 queryaction</a> <a href=
        "#ref-for-dfn-action-4" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-action-5" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-action-6" title="Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-action-7" title=
        "§ 6.2.2.3 cancelaction">§ 6.2.2.3 cancelaction</a>
        <a href="#ref-for-dfn-action-8" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-action-9" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-action-10" title=
        "Reference 4">(4)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-action-11" title=
        "§ 6.2.2.4 queryallactions">§ 6.2.2.4 queryallactions</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-event" aria-label=
  "Links in this document to definition: Event">
    <div>
      <a class="self-link" href="#dfn-event" aria-label=
      "Permalink for definition: Event. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-event-1" title=
        "§ 7. HTTP SSE Profile">§ 7. HTTP SSE Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-2" title=
        "§ 7.2.2.1 subscribeevent">§ 7.2.2.1 subscribeevent</a>
        <a href="#ref-for-dfn-event-3" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-event-4" title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-5" title=
        "§ 7.2.2.2 unsubscribeevent">§ 7.2.2.2 unsubscribeevent</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-6" title=
        "§ 7.2.2.3 subscribeallevents">§ 7.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-event-7"
        title="Reference 2">(2)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-8" title=
        "§ 7.2.2.4 unsubscribeallevents">§ 7.2.2.4
        unsubscribeallevents</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-9" title=
        "§ 8. HTTP Webhook Profile">§ 8. HTTP Webhook Profile</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-10" title=
        "§ 8.2.2.1 subscribeevent">§ 8.2.2.1 subscribeevent</a>
        <a href="#ref-for-dfn-event-11" title="Reference 2">(2)</a>
        <a href="#ref-for-dfn-event-12" title="Reference 3">(3)</a>
        <a href="#ref-for-dfn-event-13" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-event-14" title="Reference 5">(5)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-15" title=
        "§ 8.2.2.2 unsubscribeevent">§ 8.2.2.2 unsubscribeevent</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-16" title=
        "§ 8.2.2.3 subscribeallevents">§ 8.2.2.3
        subscribeallevents</a> <a href="#ref-for-dfn-event-17"
        title="Reference 2">(2)</a> <a href="#ref-for-dfn-event-18"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-event-19" title=
        "§ 8.2.2.4 unsubscribeallevents">§ 8.2.2.4
        unsubscribeallevents</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-protocol-binding" aria-label=
  "Links in this document to definition: Protocol Binding">
    <div>
      <a class="self-link" href="#dfn-protocol-binding" aria-label=
      "Permalink for definition: Protocol Binding. Activate to close this dialog.">
      Permalink</a>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-protocol-binding-1" title=
        "§ 6.2 Protocol Binding">§ 6.2 Protocol Binding</a>
      </li>
      <li>
        <a href="#ref-for-dfn-protocol-binding-2" title=
        "§ 7.2 Protocol Binding">§ 7.2 Protocol Binding</a>
      </li>
      <li>
        <a href="#ref-for-dfn-protocol-binding-3" title=
        "§ 8.2 Protocol Binding">§ 8.2 Protocol Binding</a>
      </li>
    </ul>
  </div>
  <div class="dfn-panel" hidden="" role="dialog" aria-modal="true"
  id="dfn-panel-for-dfn-profile" aria-label=
  "Links in this document to definition: Profile">
    <div>
      <a class="self-link" href="#dfn-profile" aria-label=
      "Permalink for definition: Profile. Activate to close this dialog.">
      Permalink</a> <span class="marker dfn-exported" title=
      "Definition can be referenced by other specifications">exported</span>
    </div>
    <p><b>Referenced in:</b></p>
    <ul>
      <li>
        <a href="#ref-for-dfn-profile-1" title="§ Abstract">§
        Abstract</a> <a href="#ref-for-dfn-profile-2" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-profile-3"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-profile-4" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-profile-5" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-profile-6"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-profile-7" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-profile-8" title=
        "Reference 8">(8)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-profile-9" title="§ 1.1 Motivation">§
        1.1 Motivation</a> <a href="#ref-for-dfn-profile-10" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-profile-11"
        title="Reference 3">(3)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-profile-12" title=
        "§ 1.3.4 Organizational Interoperability">§ 1.3.4
        Organizational Interoperability</a>
      </li>
      <li>
        <a href="#ref-for-dfn-profile-13" title=
        "§ 4. Profiling Mechanism">§ 4. Profiling Mechanism</a>
        <a href="#ref-for-dfn-profile-14" title=
        "Reference 2">(2)</a> <a href="#ref-for-dfn-profile-15"
        title="Reference 3">(3)</a> <a href=
        "#ref-for-dfn-profile-16" title="Reference 4">(4)</a>
        <a href="#ref-for-dfn-profile-17" title=
        "Reference 5">(5)</a> <a href="#ref-for-dfn-profile-18"
        title="Reference 6">(6)</a> <a href=
        "#ref-for-dfn-profile-19" title="Reference 7">(7)</a>
        <a href="#ref-for-dfn-profile-20" title=
        "Reference 8">(8)</a> <a href="#ref-for-dfn-profile-21"
        title="Reference 9">(9)</a> <a href=
        "#ref-for-dfn-profile-22" title="Reference 10">(10)</a>
        <a href="#ref-for-dfn-profile-23" title=
        "Reference 11">(11)</a> <a href="#ref-for-dfn-profile-24"
        title="Reference 12">(12)</a> <a href=
        "#ref-for-dfn-profile-25" title="Reference 13">(13)</a>
        <a href="#ref-for-dfn-profile-26" title=
        "Reference 14">(14)</a> <a href="#ref-for-dfn-profile-27"
        title="Reference 15">(15)</a>
      </li>
      <li>
        <a href="#ref-for-dfn-profile-28"></a>
      </li>
    </ul>
  </div>
  <script id="respec-highlight-vars">
  (() => {
  // @ts-check

  if (document.respec) {
  document.respec.ready.then(setupVarHighlighter);
  } else {
  setupVarHighlighter();
  }

  function setupVarHighlighter() {
  document
    .querySelectorAll("var")
    .forEach(varElem => varElem.addEventListener("click", highlightListener));
  }

  function highlightListener(ev) {
  ev.stopPropagation();
  const { target: varElem } = ev;
  const hightligtedElems = highlightVars(varElem);
  const resetListener = () => {
    const hlColor = getHighlightColor(varElem);
    hightligtedElems.forEach(el => removeHighlight(el, hlColor));
    [...HL_COLORS.keys()].forEach(key => HL_COLORS.set(key, true));
  };
  if (hightligtedElems.length) {
    document.body.addEventListener("click", resetListener, { once: true });
  }
  }

  // availability of highlight colors. colors from var.css
  const HL_COLORS = new Map([
  ["respec-hl-c1", true],
  ["respec-hl-c2", true],
  ["respec-hl-c3", true],
  ["respec-hl-c4", true],
  ["respec-hl-c5", true],
  ["respec-hl-c6", true],
  ["respec-hl-c7", true],
  ]);

  function getHighlightColor(target) {
  // return current colors if applicable
  const { value } = target.classList;
  const re = /respec-hl-\w+/;
  const activeClass = re.test(value) && value.match(re);
  if (activeClass) return activeClass[0];

  // first color preference
  if (HL_COLORS.get("respec-hl-c1") === true) return "respec-hl-c1";

  // otherwise get some other available color
  return [...HL_COLORS.keys()].find(c => HL_COLORS.get(c)) || "respec-hl-c1";
  }

  function highlightVars(varElem) {
  const textContent = norm(varElem.textContent);
  const parent = varElem.closest(".algorithm, section");
  const highlightColor = getHighlightColor(varElem);

  const varsToHighlight = [...parent.querySelectorAll("var")].filter(
    el =>
      norm(el.textContent) === textContent &&
      el.closest(".algorithm, section") === parent
  );

  // update availability of highlight color
  const colorStatus = varsToHighlight[0].classList.contains("respec-hl");
  HL_COLORS.set(highlightColor, colorStatus);

  // highlight vars
  if (colorStatus) {
    varsToHighlight.forEach(el => removeHighlight(el, highlightColor));
    return [];
  } else {
    varsToHighlight.forEach(el => addHighlight(el, highlightColor));
  }
  return varsToHighlight;
  }

  function removeHighlight(el, highlightColor) {
  el.classList.remove("respec-hl", highlightColor);
  // clean up empty class attributes so they don't come in export
  if (!el.classList.length) el.removeAttribute("class");
  }

  function addHighlight(elem, highlightColor) {
  elem.classList.add("respec-hl", highlightColor);
  }

  /**
  * Same as `norm` from src/core/utils, but our build process doesn't allow
  * imports in runtime scripts, so duplicated here.
  * @param {string} str
  */
  function norm(str) {
  return str.trim().replace(/\s+/g, " ");
  }
  })()
  </script>
  <script id="respec-dfn-panel">
  (() => {
  // @ts-check
  if (document.respec) {
  document.respec.ready.then(setupPanel);
  } else {
  setupPanel();
  }

  function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
  }

  function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
  }

  /**
  * @param {MouseEvent|KeyboardEvent} event
  */
  function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
  }

  /**
  * @param {Event} event
  */
  function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
  }

  /**
  * @param {HTMLElement} dfn
  * @param {HTMLElement} panel
  * @param {{ x: number, y: number }} clickPosition
  */
  function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
  }

  /**
  * @param {HTMLElement} panel
  * @param {HTMLElement} dfn
  * @returns
  */
  function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
  }

  /**
  *
  * @param {NodeListOf<HTMLAnchorElement>} anchors
  * @param {HTMLElement} panel
  * @param {HTMLElement} dfn
  * @returns
  */
  function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
  }

  /** @param {HTMLElement} panel */
  function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
  }
  })()
  </script>
  <script src=
  "https://www.w3.org/scripts/TR/2021/fixup.js"></script>
</body>
</html>
