<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8" />
  <title>Web of Things (WoT) Profile</title>
  <script class="remove" src="https://www.w3.org/Tools/respec/respec-w3c"></script>
  <script class="remove">
    var respecConfig = {
      lint: {
        "no-headingless-sections": false,
      },
      specStatus: "ED",
      maxTocLevel: 6,
      processVersion: 2019,
      shortName: "wot-profile",
      copyrightStart: 2020,
      group: "wg/wot",
      wgPublicList: "public-wot-wg",
      edDraftURI: "https://w3c.github.io/wot-profile/",
      githubAPI: "https://api.github.com/repos/w3c/wot-profile",
      issueBase: "https://www.github.com/w3c/wot-profile/issues",
      previousPublishDate: "2020-11-24",
      previousMaturity: "FPWD",
      editors: [{
        name: "Michael Lagally",
        w3cid: "47166",
        company: "Oracle Corp.",
        companyURL: "https://www.oracle.com/"
      },
      {
        name: "Michael McCool",
        w3cid: "93137",
        company: "Intel Corp.",
        companyURL: "https://www.intel.com/"
      },
      {
        name: "Ryuichi Matsukura",
        w3cid: "64284",
        company: "Fujitsu Ltd.",
        companyURL: "https://www.fujitsu.com/"
      },
      {
        name: "Sebastian Kaebisch",
        w3cid: "43064",
        company: "Siemens AG",
        companyURL: "https://www.siemens.com/"
      },
      {
        name: "Tomoaki Mizushima",
        w3cid: "98915",
        company: "Internet Research Institute, Inc.",
        companyURL: "https://www.iri.co.jp/"
      }],

      otherLinks: [
        {
          key: "Contributors",
          data: [{
            value: "In the GitHub repository",
            href: "https://github.com/w3c/wot-security/graphs/contributors"
          }]
        }, {
          key: "Repository",
          data: [{
            value: "We are on GitHub",
            href: "https://github.com/w3c/wot-profile/"
          }, {
            value: "File a bug",
            href: "https://github.com/w3c/wot-profile/issues"
          }, {
            value: "Contribute",
            href: "https://github.com/w3c/wot-profile/pulls"
          }]
        }],
      localBiblio: {
        "JSON-SCHEMA": {
          title: "JSON Schema Validation: A Vocabulary for Structural Validation of JSON",
          href: "https://tools.ietf.org/html/draft-handrews-json-schema-validation-01",
          authors: ["Austin Wright", "Henry Andrews", "Geraint Luff"],
          status: "Internet-Draft",
          date: "19 March 2018",
          publisher: "IETF"
        },
        "ISO-6709": {
          title: "ISO-6709:2008 : Standard representation of geographic point location by coordinates",
          href: "https://www.iso.org/standard/39242.html",
          status: "Published",
          date: "2008-07",
          publisher: "ISO"
        },

      }
    };
  </script>
  <style>
    .rfc2119-assertion {
      background-color: rgb(230,230,230)
    }
    </style>

</head>

<body>
  <section id="abstract">
    <p>
      The <em>WoT Profile Specification</em> defines a Profiling Mechanism and a <em>WoT Core Profile</em>,
      which enables <em>out of the box interoperability</em>
      among things and devices. <em>Out of the box interoperability</em> implies,
      that devices can be integrated into various application scenarios without
      deep level adaptations. Typically only minor configuration operations are
      necessary (such as entering a network key, or IP address)
      to use the device in a certain scenario.
      These actions can be done by anyone without specific training.
    </p>
      The <a>WoT Core Profile</a> defines a set of <em>constraints
      and rules</em>, which compliant thing descriptions have to adopt
      to guarantee interoperability.
    </p>
    <p>
      These rules are prescriptive, to ensure that
      compliant implementations satisfy the semantic guarantees
      implied by them. We call this set of rules a <em>Profile</em>.
    </p>
    <p>
      The <strong>WoT Profile Specification</strong> as defined in
      this document serves two purposes:
    </p>
    <ul>
      <li>It defines a generic <strong>Profiling
          Mechanism</strong> which provides a mechanism to describe a
        profile in an unambiguous way. This mechanism can be
        used to define additional profiles.
      </li>
      <li>In addition, it defines a <strong><a>WoT Core
            Profile</a></strong> of the Thing Description, which
        consists of a core data model and protocol
        binding rules. The <a>WoT Core
          Profile</a> formalizes the results of several PlugFests
        that were conducted by the WoT Interest Group and of
        tests that were conducted as part of the development.
        <p>
          This document incudes a binding of the core data model to
          HTTP(S) and selected notification sub-protocols.
          The core data model can be bound to other protocols -
          it is expected that bindings to other protocols (e.g. MQTT, CoAP)
          will be defined in the near future.
        </p>
        <p>
          <span class="rfc2119-assertion" id="profile-abstract-1">
          A TD that is compliant to the <a>core profile</a> MUST adhere to
          both the constraints on the data model and the protocol binding.
          </span>
        </p>
      </li>
    </ul>
    <p>
      Devices that constrain their use of the Thing Description to
      the <a>WoT Core Profile</a> can interoperate with each other
      out-of-the-box.
    </p>
    <p>Note that the core profile is not exclusive. Device implementers are free to adopt
      other features of the thing description that go beyond the constraints
      of the core profile, however the interoperability guarantees of the core profile
      hold only for the <a>WoT Core Profile</a> subset.

    <section class="ednote">
      The name <em>WoT Core Profile</em> is still under discussion in the group and is used as a working title.
      It is subject to change after the profile specification has reached a certain level of maturity.
    </section>

    <section>
      <h3>Motivation for a Profile</h3>
    </section>

    <p>
      <span class="rfc2119-assertion" id="profile-abstract-2">
      The W3C WoT Thing Architecture [[wot-architecture]] and
      WoT Thing Description [[wot-thing-description]] define a
      powerful description mechanism and a format to describe
      myriads of very different devices, which may be connected
      over various protocols.
      </span>
      The format is very flexible and open
      and puts very few normative requirements on devices that
      implement it.</p>

    <p>
      However, this flexibility de-facto prevents
      interoperability, since, without additional <strong>rules</strong>,
      it allows implementers to make many choices that do not
      provide <strong>guarantees</strong> of common behavior
      between implementations.
    </p>

  </section>

  <section id='sotd'></section>

  <section id="intro">
    <!--  h1 id="w3c-web-of-things-a-wot--profile-for-http-rest">W3C Web of Things: A WoT <a>Core Profile</a> for HTTP/REST</h1-->

    <h1 id="introduction">Introduction</h1>
    <p>
      The W3C WoT Architecture [[wot-architecture]] and the WoT
      Thing Description [[wot-thing-description]]
      have been developed as a versatile format, that allows
      describing the interactions between multiple devices and
      protocols.

    </p>
    <p>
      This flexibility permits an easy integration of new device
      types and protocols, however it risks interoperability,
      since there are <em>no guarantees</em> that two devices
      which are formally spec-compliant, will be able to
      communicate.
    </p>
    <p>To increase adoption of the WoT specifications,
      interoperability between on premise devices, edge devices
      and the cloud is essential. Even if every manufacturer is
      implementing the current Thing Description specification in
      full flexibility, there is no interoperability guarantee;
      many choices are still left to the implementations and there
      are very few normative requirements that a device has to
      fulfill.</p>

    <section>
      <h3>Deployment Scenarios</h3>

      <p>A Thing Description can be used in two fundamentally
        different deployment scenarios:</p>
      <ul>
        <li>a "brown-field" scenario, where it is created
          to describe the interactions with existing systems.</li>

        <li>a "green-field" scenario, where a device model
          and a thing description are developed together.</li>
      </ul>

      <p>
        For green field deployments, where the implementations
        are being carried out and corresponding thing
        descriptions are being created, it is easier to achieve
        full interoperability by using a small, extensible <a>Core
          Profile</a>.
      </p>

      <p>In the brown field area, due to the nature of
        existing deployments and protocols, a broad spectrum of
        variations and potentially high complexity of thing
        descriptions inhibits interoperability and will most
        likely lead to additional profiles of the <a>WoT Thing Description</a>
        and domain-specific thing consumer implementations.</p>

      <p>
        The WoT <a>Core Profile</a> can be used by green field
        deployments and gives guidance to new implementers of
        the WoT specifications. It has already proved in
        brown-field scenarios in the PlugFests, where existing
        devices, that already existed as products, prototypes or
        demonstrators, were described with Thing Descriptions
        that are constrained to the <a>Core Profile</a>.
      </p>

    </section>
    <section id="why-profile">
      <h2 id="why-define-a-core-profile">
        Why a <a>Core Profile</a>?
      </h2>

      <p>
        During the recent WoT PlugFests there were many
        de-facto agreements on the use of a small constrained
        subset of interaction patterns and protocol choices.
        These de-facto agreements select a common subset of the
        <a>WoT Thing Description</a>, based on
        proven interoperability among manufacturers.
      </p>
      <p>
        The aim of this specification is to formalize these
        agreements by defining a <strong><a>WoT Core
            Profile</a></strong> based on the choices that were made by
        the implementers of PlugFest devices.
      </p>
      <p>
        <span class="rfc2119-assertion" id="profile-why-a-core-profile->
        The <a>WoT Core Profile</a> contains additional
        normative requirements that MUST be satisfied by devices
        to be compliant to the profile.
        </span>
      </p>
      <figure id="WoT-Core-Profile-figure">
        <img src="images/WoT Core Profile.png" class="wot-profiles" alt="WoT-Core-Profile-Picture" />
        <figcaption>WoT Core Profile - A Subset of Affordances</figcaption>
      </figure>
      <p>
        Adoption of the <a>WoT Core Profile</a> will
        significantly limit the implementation burden of device
        and cloud implementors.
      </p>
      <p>
        The <a>WoT Core Profile</a> was defined with the
        following main goals:
      </p>
      <ul>
        <li>guarantee interoperability among all
          implementations of the profile.</li>
        <li>limit the implementation complexity for
          resource constrained devices.</li>
        <li>ensure that a thing description is also useful
          for a human reader.</li>
      </ul>

      <p>It makes choices on the required metadata fields as
        well as the supported interactions and protocol
        endpoints. It introduces some constraints on data
        schemas for properties and actions which are required
        for resource constrained devices in real-world
        deployments. The format does not forbid the use of
        additional elements of the <a>WoT Thing Description</a> for vendor specific
        extensions, however this will impact interoperability.</p>
    </section>
    <section>
      <h2 id="out-of-the-box-interoperability">Out-of-the-box
        interoperability</h2>
      <p>
        Devices, which implement the <a>Core Profile</a>, are <strong>out-of-the-box
          interoperable</strong> with other <a>Core Profile</a>
        compliant devices. Furthermore, the <a>Core Profile</a>
        simplifies device validation and compliance testing
        since a corresponding conformance test suite can be
        defined.
      </p>
      <section class="note">
        It is also a goal of the <em>WoT Core Profile</em> to
        ensure that compliant files can be understood by humans
        - therefore descriptions, dates, and author fields are
        either mandatory or highly recommended.
      </section>
    </section>
    <section>
      <h2>Structure of this document</h2>
      <section class="ednote">to be added.</section>
    </section>
  </section>
  <section id="conformance">
    <p>
      A device or consumer implementation complies with this specification if it follows
      the normative statements in the present document.
    <p>
      A JSON Schema [[?JSON-SCHEMA]] to validate the compliance of a Thing Description
      with the core profile is provided in Appendix <a href="#core-profile-json-schema"></a>.
    </p>
  </section>

  <section id="terminology">
    <h2 id="x3-terminology">Terminology</h2>
    <p>This specification uses the same terminology as the WoT
      Architecture and Thing Description specifications.</p>
    <p>
      For convenience of the reader, we use the terms <em>keyword</em>
      and <em>field</em> for the linguistic notion <em>vocabulary term</em>
      as defined in the <em>Thing Description</em> Specification.
    </p>
    <p>
      We use the terms <em>device</em> and <em>thing</em> in an
      interchangeable manner.
    </p>
    <h4 id="additional-definitions-">Additional Definitions:</h4>
    <dl>
      <dt>
        <dfn>Profile</dfn>
      </dt>
      <dd>A set of prescriptive rules, to ensure that
        compliant implementations satisfy the semantic
        guarantees that are implied by them.
      <dt>
        <dfn>WoT Core Profile</dfn>
      </dt>
      <dd>The subset of the Thing Description
        defined by the present document.</dd>
      <dt>
        <dfn>Core Profile</dfn>
      </dt>
      <dd>
        Synonym for <a>WoT Core Profile</a>.
      </dd>

      <!-- dt>
        <dfn>Digital Twin Profile</dfn>
      </dt>
      <dd>A profile for defining a virtual representation of
        a thing or a group of things.</dd>
      <dt>
        <dfn>Thing Template Profile</dfn>
      </dt>
      <dd>A profile for defining a class of things that share
        the same Data Model.</dd -->

      <dfn>Core Information Model</dfn>
      </dt>
      <dd>
        A set of constraints and requirements on the Information Model of the Thing
        Description specification as
        defined in section <a href="#wot-core-information-model"></a>.
      </dd>
      <dt>
        <dfn>Thing Description</dfn>
      </dt>
      <dd>
        Synonym for <a>WoT Thing Description</a>.
      </dd>
      <dfn>WoT Thing Description</dfn>
      </dt>
      <dd>
        The Web of Things Thing Description as defined in [[wot-thing-description]].
      </dd>


      <!--
                <dt>
                <dfn>TD Specification</dfn>
            </dt>
            <dd>
                Synonym for The WoT <a>Thing Description
                    Specification</a>.
            </dd>
            <dt>
                <dfn>Thing Description Specification</dfn>
            </dt>
            <dd>The WoT Thing Description Specification.</dd>
            <dt>
                <dfn>Thing Description</dfn>
            </dt>
            <dd>A Data Model that conforms to the Thing Description
                Specification.</dd>
            <dt>
            <dt>
                <dfn>Core Data Model</dfn>
            </dt>
            <dd>
                A Data Model that conforms to the subset of the Thing
                Description specification as
                defined in section <a href="wot-core-datamodel"></a>.
            </dd>
            <dt>

                <dfn>Core Profile</dfn>
            </dt>
            <dd>
                Synonym for <a>WoT Core Profile</a>.
            </dd>
            <dt>
                <dfn>Core TD</dfn>
            </dt>
            <dd>
                Synonym for <a>Core Thing Description</a>.
            </dd>
            <dt>
                <dfn>Core Thing Description</dfn>
            </dt>
            <dd>
                A Thing Description that conforms to the <a>Core
                    Profile</a>.
            </dd>
                <dt>
                  <dfn>WoT Thing Description</dfn>
              </dt>
              <dd>Synonym for <a>Thing Description</a>.</dd>
          </dl>
        -->
  </section>

  <!-- Profiling mechanism -->
  <section id="profiling-mechanism">
    <h2>Profiling Mechanism</h2>
    <p>
      In order to conform with a profile, a
      <a href="https://www.w3.org/TR/wot-architecture/#dfn-thing">Web Thing</a>
      MUST conform with all the normative statements in the profile's specification.
    </p>
    <p>
      In order to denote that a given
      <a href="https://www.w3.org/TR/wot-architecture/#dfn-thing">Web Thing</a>
      conforms to one or more profiles, its Thing Description MUST include a
      <a href="https://w3c.github.io/wot-thing-description/#thing">
      <code>profile</code></a> member [[wot-thing-description]]. The value of
      the <code>profile</code> member MUST be set to either a valid URI
      [[RFC3986]] identifying a single profile, or an array of valid URIs
      identifying multiple profiles.
    </p>
    <pre class="example">
    {
      "@context": "https://www.w3.org/2019/wot/td/v1",
      "id": "urn:dev:ops:32473-WoTLamp-1234",
      "profile": "https://www.w3.org/2021/wot/profile/core",
      "title": "My Lamp",
      "description": "A web connected lamp",
      ...
    }
    </pre>
    <pre class="example">
    {
      "@context": "https://www.w3.org/2019/wot/td/v1",
      "id": "urn:dev:ops:32473-WoTLamp-1234",
      "profile": [
        "https://www.w3.org/2021/wot/profile/core",
        "https://www.w3.org/2021/wot/profile/constrained"
      ],
      "title": "My Lamp",
      "description": "A web connected lamp",
      ...
    }
    </pre>
  </section>

  <!-- <a>Core Profile</a> -->
  <section id="core-profile">
    <h2>WoT Core Profile</h2>
    This section defines the <a>Core Profile</a> by defining a <a>Core
      Information Model</a> and a <a href="#protocol-binding">Protocol
      Binding</a> for [HTTP11].
    <section id="wot-core-information-model">
      <h2>WoT Core Information Model</h2>
      <p>
        The core information model incorporates the information model defined by chapter 5 of
        the Thing Description specification.
        The normative rules defined by that model
        are the baseline for the definition of the core information model
        and are normative.
      </p>
        <span class="rfc2119-assertion" id="profile-wot-core-information-model-1">
        A core profile compliant implementation MUST be compliant to the Thing Description and 
        MUST additionally satisfy the requirements of this chapter.
        </span>

      <section id="general">
        <h3 id="x5-general">General</h3>
        <p>
          The profile enables to create generic consumers that can present a common UI
          from the data of the Thing Description without further out of band information.
          For this purpose a minimum set of information is required to be present in all <a>Thing Descriptions</a>.
          A common way to display IoT device data are dashboards that are constructed from various UI widgets.
          Typical elements are gauges, graphs, labels, histograms and labeled text fileds that display a value of properties.
          Actions are typically triggered by labeled buttons.            
        </p>
        <p>
        It is common for UIs to have an information button or a hovering text box on fields, 
        that shows the human user an additional description, when needed.
      </p>
        <p>
          The profile contains a few length limitations on fields to ensure that automaticall generated UIs 
          are possible. 
          For numeric values the range (minimum, maximum) should be provided to enable the display of graphs and gauges.
          Values with have a metric unit should contain a unit field to ensure a common interpretation by consumers.
        </p>
        <p>
          The following constraints and rules are applicable to multiple
          classes of the <a>WoT Thing Description</a> Specification, as they
          define interaction semantics and enable common processing of Web Things
          that are created by different manufacturers and authors.
        </p>

        <section>
          <h4>Mandatory fields</h4>
          <p>
            <span class="rfc2119-assertion" id="profile-title-mandatory"></span>
            The field
            <code>title</code> is 
            MANDATORY for Things, Property Affordances,
            Action Affordances, Event Affordances and Data
            Schemas.
          </p>
        </section>

        <section>
          <h4>Recommended fields</h4>
            <span class="rfc2119-assertion" id="profile-description-recommended">
            The field
            <code>description</code> is 
            RECOMMENDED for Things, Property Affordances,
            Action Affordances, Event Affordances and Data
            Schemas.
          </span>
          <p>
            This recommendation enables generic UIs and provides additional 
            documentation for development and maintenance activities.
          </p>
        </section>

        <section>
          <h4>Type and Value Constraints</h4>
          <section class="ednote">
            <p>TODO:</p>
            <p>define constraints for</p>
            <p>- date and time values</p>
            <p>- units</p>
            <p>- geolocation</p>
            <p>- charset constraints for UI elements</p>
          </section>
        </section>

        <section>
          <h4>Length and Value Limits</h4>
          <span class="rfc2119-assertion" id="profile-title-max-length">
            The length of
            <code>title</code>
            and
            <code>titles</code>
            values is limited to 64 characters.
          </span>

          <span class="rfc2119-assertion" id="profile-description-max-length">
            The length of
            <code>id</code>, <code>description</code> and
            <code>descriptions</code>
            values MUST NOT exceed to 512 characters.
          </span>
        </section>
      </section>

      <!-- Thing -->

      <section>
        <h2 id="thing">Thing</h2>
        The <a>Core Information Model</a> applies the following
        constraints and rules to the Thing class of the <a>WoT Thing Description</a> specification.
        <section>
          <h3>Mandatory fields</h3>
          <p>
            <span class="rfc2119-assertion" id="profile-thing-mandatory-fields-1">
            To provide minimum interoperability, the
            following metadata fields of a <a>Thing</a> MUST
            be contained in a compliant Thing Description:
            </span>
          </p>
          <table class="def">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Type</th>
                <th>Constraints</th>
                <th>Rationale</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>title</td>
                <td><code>string</code></td>
                <td>max length: 64 characters</td>
                <td>generic UI</td>
              </tr>
              <tr>
                <td>base</td>
                <td><code>anyURI</code></td>
                <td></td>
                  <td>discovery</td>
              </tr>
              <tr>
                <td>id</td>
                <td><code>urn_type</code></td>
                <td>a Globally unique urn of the
                  thing</td>
                  <td>large scale deployments</td>
              </tr>
              <tr>
                <td>profile</td>
                <td><code>string</code></td>
                <td>value: "https://www.w3.org/2021/wot/profile/core-json-http11"</td>
              </tr>
              <tr>
                <td>version</td>
                <td><code>VersionInfo</code></td>
                <td>semantic versioning as defined by [SEMVER]</td>
                <td>enforce versioning, easy to
                  distinguish different versions of the same TD</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3 id="recommended-fields-thing">Recommended fields</h3>
            <p>
              <span class="rfc2119-assertion" id="profile-thing-recommended-fields-1">
              The following metadata fields of a <a>Thing</a> SHOULD be contained in a compliant
              Thing Description:
              </span>
            </p>

            <table class="def">
              <thead>
                <tr>
                  <th>Keyword</th>
                  <th>Type</th>
                  <th>Constraints</th>
                  <th>Rationale</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>description</td>
                  <td><code>string</code></td>
                  <td>Descriptive text that explains the title.</td>
                  <td>generated UI, maintenance, developer documentation</td>
                </tr>
                <tr>
                  <td>created</td>
                  <td><code>date</code></td>
                  <td>Creation date of the TD</td>
                  <td>maintenance and developer documentation</td>
                </tr>
                <tr>
                  <td>modified</td>
                  <td><code>date</code></td>
                  <td>Date when the TD was last modified</td>
                  <td>maintenance and developer documentation</td>
                </tr>
                <tr>
                  <td>support</td>
                  <td><code>anyURI</code></td>
                  <td>Contact information to obtain further help on the TD. 
                    This could be a company website or an email address of customer support.</td>
                  <td>maintenance and developer documentation</td>
                </tr>
              </tbody>
            </table>
          <p>
            <span class="rfc2119-assertion" id="profile-thing-recommended-fields-2">
            If a Thing Description is used solely within
            a company, the email address of the developer
            SHOULD be used in the support field,
            </span>
            <span class="rfc2119-assertion" id="profile-thing-recommended-fields-3">
            if the Thing Description is provided externally, a support email
            address SHOULD be used.
            </span>
          </p>
        </section>
      </section>


      <!-- Data Schemas-->


      <section>
        <h3 id="data-schema">Data Schema</h3>
        <p>
          Data Schemas are used for the values of Properties,
          Action input and output parameters and Event message
          payloads. The value of a <em>Data Schema</em> can be
          a simple type (boolean, integer, number, string) or
          an instance of a structured type (array and object).
        </p>

        <section class="ednote" TODO>
          The <code>format</code> field permits to define new schema types.
          The profile needs to define, how mismatching types 
          that are passed in as parameters or returned objects
          are handled, i.e. specify an error behavior.
        </section>
      </section>


      <!-- Properties -->

      <section>
        <h3 id="x5-property-affordance">Property Affordance</h3>
        The <a>Core Data Model</a> applies the following
        constraints and rules to the
        <code>PropertyAffordance</code>
        class of the <a>WoT Thing Description</a> Specification.
        <section>
          <h4>Mandatory fields</h4>
          <p>
            <span class="rfc2119-assertion" id="profile-thing-property-affordance-mandatory-fields-1">
            The following property fields MUST be contained
            in the
            <code>properties</code>
            element of a <em>Profile compliant TD</em>:
            </span>
          </p>
          <table class="def">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Type</th>
                <th>Constraints</th>
                <th>Rationale</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>title</td>
                <td><code>string</code></td>
                <td>unique name among all
                  properties</td>
                  <td>unambigous UI labels</td>
              </tr>
              <tr>
                <td>type</td>
                <td><code>string</code></td>
                <td>
                  <span class="rfc2119-assertion" id="profile-thing-property-affordance-mandatory-fields-2">
                  one of <code>boolean</code>,
                  <code> string </code>, <code>
                                        number </code>, <code> integer
                                    </code>, <code> object </code> or <code>
                                        array </code>. The type value <code>
                                        null </code> MUST NOT be used.
                  </span>
                </td>
                <td>well defined types</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h4>Additional Constraints</h4>
          <p>
            <span class="rfc2119-assertion" id="profile-thing-property-affordance-dditional-constraints-2">
            The following additional constraints MUST be
            applied to the Property Affordances of a <em>Thing
              Description</em> conforming to the <a>Core
              Profile</a>:
            </span>
          </p>
          <table class="def">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Type</th>
                <th>Constraint</th>
                <th>Rationale</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>forms</td>
                <td><code>array</code> of Forms</td>
                <td>
                  <p>
                  <span class="rfc2119-assertion" id="profile-thing-property-affordance-additional-constraints-5">
                  For a single protocol the <code>Array of Form</code>
                  of each property MUST contain only a
                  <em>single endpoint</em> for each
                  operation <code>readproperty</code>, 
                  <code>writeproperty</code>, <code>observeproperty</code>,
                  <code>unobserveproperty</code>.
                  </span>
                  </p><p>                  
                  <span class="rfc2119-assertion" id="profile-thing-action-affordance-form-constraints-2">
                    The value of <code>op</code> MUST be a single value.
                    Arrays with combinations of these values are NOT PERMITTED.
                  </span>
                </p>
                </td>
                <td><p>If multiple endpoints for the same protocol are present, 
                  a common selection algorithm has to be defined. 
                  This may imply invoking form elements in sequence with 
                  a trial and error method that can lead to significant 
                  delays due to timeout handling obligations. 
                </p>
                <p>
                  Combination of operations are ambiguous and have very
                  complex interaction semantics.
                </p>
                </td>
              </tr>
              <tr>
                <td>format</td>
                <td><code>string</code></td>
                <td>
                  <span class="rfc2119-assertion" id="profile-thing-property-affordance-additional-constraints-6">
                  If the field <code>format</code>
                  is used, only formats defined in
                  section 7.3.1-7.3.6 of
                  [[JSON-SCHEMA]] MUST be used.
                  </span>
                </td>
                <td>Predictive finite set of choices.</td>
              </tr>
              <tr>
                <td>uriVariables</td>
                <td>Map of DataSchema</td>
                <td>
                  <span class="rfc2119-assertion" id="profile-thing-property-affordance-additional-constraints-8">
                  <code>uriVariables</code> MUST
                  NOT be used.
                  </span>
                  <td>The semantic meaning of URI variables cannot be described in a TD in an unambiguous way.</td>
                </td>
              </tr>
            </tbody>
          </table>
          <span class="rfc2119-assertion" id="profile-thing-action-affordance-additional-constraints-7">
            The DataSchema fields <code>default</code> and
            <code>oneOf</code>
            are undefined for properties and MUST NOT be used.
          </span>
          </section>

        <section>
          <h4>Recommended Practice</h4>
          <p>
            <span class="rfc2119-assertion" id="profile-property-recommended-practice">
            The following property fields SHOULD be contained in the <code>properties</code>
            element of a <em>Profile compliant TD</em>:
            </span>
          </p>
          <table class="def">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Type</th>
                <th>Constraints</th>
                <th>Rationale</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>description</td>
                <td><code>string</code></td>
                <td>max length</td>
                <td>generated UI, maintenance, developer documentation</td>
              </tr>
            </tbody>
          </table>
          <p>
            <span class="rfc2119-assertion" id="profile-thing-property-recommended-fields-2">
            It is highly RECOMMENDED to always specify a
            <code>unit</code>, if a value has a metric.
          </span>
            Authors of <em>Thing Descriptions</em> should be aware, that units
            that are common in their geographic region are
            not globally applicable and may lead to
            misinterpretation with drastic consequences.
          </p>
          <p>
            The field
            <code>unit</code>
            could be used for non-decimal numeric types as
            well, e.g. a string value with binary or hex
            data (
            <code>0xCAFEBABE</code>
            ,
            <code>0b01000010</code>
            ), where the unit is
            <code>hex</code>
            or
            <code>bin</code>
            ,
            to indicate how the value should be
            interpreted. 
            <span class="rfc2119-assertion" id="profile-thing-properties-recommended-practice-2">
            It is strongly RECOMMENDED to use
            the values
            <code>hex</code>
            ,
            <code>oct</code>
            or
            <code>bin</code>
            for non-decimal numeric types to achieve interoperability.
            </span>
          </p>
        </section>
      </section>


      <!-- Actions -->

      <section>
        <h3 id="x5-action-affordances">Action Affordances</h3>
        The <a>Core Data Model</a> applies the following
        constraints and rules to the
        <code>ActionAffordance</code>
        class of the <a>WoT Thing Description</a> Specification.

        <section>
          <h4>Mandatory fields</h4>

          <p>
            <span class="rfc2119-assertion" id="profile-thing-action-affordances-mandatory-fields-1">
            The following fields MUST be contained in an
            action element of an <a>Core Profile</a> compliant TD:
            </span>
          </p>
          <table class="def">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Type</th>
                <th>Constraints</th>
                <th>Rationale</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>title</td>
                <td><code>string</code></td>
                <td>unique name among all actions</td>
                <td>unambigous UI labels</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h4>Additional Constraints</h4>

          <p>
            <span class="rfc2119-assertion" id="profile-thing-action-affordance-additional-constraints-1">
            The following additional constraints MUST be
            applied to the Interaction Affordances of a <a>Thing
              Description</a> conforming to the <a>Core
              Data Model</a>:
            </span>
          </p>
          <table class="def">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Type</th>
                <th>Constraint</th>
                <th>Rationale</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>forms</td>
                <td>array of Forms</td>
                <td>
                  <p><span class="rfc2119-assertion" id="profile-thing-action-affordance-form-constraints-1">
                    For a single protocol the <code>array of Form</code>
                    of each property MUST contain only a
                    <em>single endpoint</em> for each
                    operation <code>readproperty</code>, 
                    <code>writeproperty</code>, <code>observeproperty</code>,
                    <code>unobserveproperty</code>.
                    </span>
                  </p><p>
                    <span class="rfc2119-assertion" id="profile-thing-action-affordance-form-constraints-2">
                      The value of <code>op</code> MUST be a single value.
                      Arrays with combinations of these values are NOT PERMITTED.
                    </span>
                    </p>
                </td>
                <td>
                  <p>If multiple endpoints for the same protocol would be present, 
                  a common selection algorithm has to be defined. 
                  This may imply invoking form elements in sequence with 
                  a trial and error method that can lead to significant 
                  delays due to timeout handling obligations. 
                  </p>
                  <p>
                    Combination of operations are ambiguous and have very 
                    complex interaction semantics.
                  </p>
                </td>              
                </tr>
                <tr>
                  <td>format</td>
                  <td><code>string</code></td>
                  <td>
                    <span class="rfc2119-assertion" id="profile-thing-action-affordance-format-constraints">
                    If the field <code>format</code>
                    is used, only formats defined in
                    section 7.3.1-7.3.6 of
                    [[JSON-SCHEMA]] MUST be used.
                    </span>
                  </td>
                  <td>Predictive finite set of choices.</td>
                </tr>
                <tr>
                  <td>uriVariables</td>
                  <td>Map of DataSchema</td>
                  <td>
                    <span class="rfc2119-assertion" id="profile-thing-action-affordance-uri-variables">
                    <code>uriVariables</code> MUST
                    NOT be used.
                    </span>
                    <td>The semantic meaning of URI variables cannot be described in a TD in an unambiguous way.</td>
                  </td>
                </tr>
            </tbody>
          </table>
        </section>

       <span class="rfc2119-assertion" id="profile-thing-action-affordance-additional-constraints-7">
       The DataSchema fields <code>const</code>, <code>default</code>, 
            <code>unit</code>, <code>oneOf</code> and <code>enum</code>
           are undefined for actions and MUST NOT be used.
       </span>
      </section>


      </section>


      <!-- Links -->

      <section>
        <h3 id="links">Links</h3>
        <section class="ednote" TODO>THIS SECTION STILL NEEDS TO BE REWORKED.</section>
    
        <section class="ednote">TODO: Consider
          selecting a defined set from [[RFC8288]].</section>

        <p>
          The "type" relationship as defined in chapter 6 of
          [[RFC6903]] is reserved for indicating an instance
          relationship between a thing and a thing template.
          The <a>Core Data Model</a> does not put additional
          constraints or requirements on links. The
          interpretation of a link is out of scope.
        </p>
      </section>

      <!--  Security -->

      <section>
        <h3 id="security">Security</h3>
        <section>
          <h3 id="links-ednote">TODO</h3>THIS SECTION STILL NEEDS TO BE REWORKED.</section>
          <p>
          <span class="rfc2119-assertion" id="profile-thing-security-1">
          The <a>Core Data Model</a> defines a subset of the
          security schemes that MAY be implemented on resource
          constrained devices.
          </span>
          <span class="rfc2119-assertion" id="profile-thing-security-2">
          A security scheme MUST be
          defined at the thing level.
          </span>
          <span class="rfc2119-assertion" id="profile-thing-security-3">
          The security scheme is
          applied to the thing as a whole, a thing may adopt
          multiple security schemes.
          </span>
        </p>
        <p>
          The set of security schemes supported in the <a>Core
            Data Model</a> is based on the PlugFest results.
            <span class="rfc2119-assertion" id="profile-thing-security-4">
              To ensure interoperability, a TD consumer, which
              compliant with the <a>Core Data Model</a> MUST
              support <strong>all</strong> of the following security schemes:
            </span>
        </p>

        <ul>
          <li>no security</li>
          <li>Basic Auth</li>
          <li>Digest</li>
          <li>Bearer Token</li>
          <li>Oauth2</li>
        </ul>

        <section>
          <h4>Recommended Practice</h4>
          <p>When using the "no security" or "Basic Auth"
            security schemes it is strongly recommended to
            use transport layer encryption.</p>
        </section>
      </section>
    </section>

    <!-- Protocol Binding -->
    <section id="protocol-binding">
      <h3>HTTP 1.1 Protocol Binding</h3>
      <p>
        This section defines a protocol binding which describes how a
        <a href="https://www.w3.org/TR/wot-architecture/#dfn-consumer">Consumer</a>
        communicates with a
        <a href="https://www.w3.org/TR/wot-architecture/#dfn-thing">Web Thing</a>
        [[wot-architecture]] using JSON [[JSON]] payloads over
        the HTTP [[HTTP11]] protocol.
      </p>
      <p>
        <span class="rfc2119-assertion" id="profile-5.2-thing-protocol-binding-1">
        A Consumer or Web Thing conforming to the WoT Core Profile
        MUST implement this protocol binding.
        </span>
      </p>
      <section id="properties">
        <h4>Properties</h4>
        <section id="readproperty">
          <h5><code>readproperty</code></h5>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.1-thing-protocol-binding-properties-readproperty-1">
            The URL of a <code>Property</code> resource to be used when reading
            the value of a property MUST be obtained from a Canonical TD by
            locating a
            <a href="https://www.w3.org/TR/wot-thing-description/#form">
            <code>Form</code></a> inside the corresponding
            <a href="https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
            <code>PropertyAffordance</code></a>
            for which the value of its <code>op</code> member is
            <code>readproperty</code> and the
            <a href="https://tools.ietf.org/html/rfc3986#section-3.1">URI
            scheme</a> [[RFC3986]] of the value of its <code>href</code> member
            is <code>http</code> or <code>https</code>.
            </span>
          </p>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.1-thing-protocol-binding-properties-readproperty-2">
            In order to read the value of a property, a Consumer MUST send
            an HTTP request to a Web Thing with:
            </span>
            <ul>
              <li>Method set to <code>GET</code></li>
              <li>URL set to the URL of the <code>Property</code> resource</li>
              <li><code>Accept</code> header set to <code>application/json
                </code></li>
            </ul>
          </p>
          <pre class="example">
          GET /things/lamp/properties/on HTTP/1.1
          Host: mythingserver.com
          Accept: application/json
          </pre>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.1-thing-protocol-binding-properties-readproperty-3">
            If a Web Thing receives an HTTP request following the format
            above and the Consumer has permission to read the corresponding
            property, then upon successfully reading the value of the property
            it MUST send an HTTP response with:
            </span>
            <ul>
              <li>Status code set to <code>200</code></li>
              <li><code>Content-Type</code> header set to <code>application/json
                </code></li>
              <li>A body with the value of the property serialized in JSON</li>
            </ul>
          </p>
          <pre class="example">
          HTTP/1.1 200 OK
          Content-Type: application/json
          false
          </pre>
        </section>
        <section id="writeproperty">
          <h5><code>writeproperty</code></h5>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.2-thing-protocol-binding-properties-writeproperty-1">
            The URL of a <code>Property</code> resource to be used when writing
            the value of a property MUST be obtained from a Canonical TD by
            locating a
            <a href="https://www.w3.org/TR/wot-thing-description/#form">
            <code>Form</code></a> inside the corresponding
            <a href="https://www.w3.org/TR/wot-thing-description/#propertyaffordance">
            <code>PropertyAffordance</code></a>
            for which the value of its <code>op</code> member is
            <code>writeproperty</code> and the
            <a href="https://tools.ietf.org/html/rfc3986#section-3.1">URI
            scheme</a> [[RFC3986]] of the value of its <code>href</code> member
            is <code>http</code> or <code>https</code>.
            </span>
          </p>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.2-thing-protocol-binding-properties-writeproperty-2">
            In order to write the value of a property, a Consumer MUST send
            an HTTP request to a Web Thing with:
            </span>
            <ul>
              <li>Method set to <code>PUT</code></li>
              <li>URL set to the URL of the <code>Property</code> resource</li>
              <li><code>Accept</code> header set to <code>application/json
                </code></li>
              <li><code>Content-Type</code> header set to <code>application/json
                </code></li>
              <li>A body with a requested new value for the property serialized
                in JSON</li>
            </ul>
          </p>
          <pre class="example">
          PUT /things/lamp/properties/on HTTP/1.1
          Host: mythingserver.com
          Content-Type: application/json
          Accept: application/json
          true
          </pre>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.2-thing-protocol-binding-properties-writeproperty-3">
            If a Web Thing receives an HTTP request following the format
            above and the Consumer has permission to write the corresponding
            property, then upon successfully writing the value of the
            property it MUST send an HTTP response with:
            </span>
            <ul>
              <li>Status code set to <code>204</code></li>
            </ul>
          </p>
          <pre class="example">
          HTTP/1.1 204 No Content
          </pre>
        </section>
        <section id="readallproperties">
          <h5><code>readallproperties</code></h5>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.3-thing-protocol-binding-properties-readallproperties-1">
            The URL of a <code>Properties</code> resource to be used when
            reading the value of all properties at once MUST be obtained from a
            Canonical TD by locating a
            <a href="https://www.w3.org/TR/wot-thing-description/#form">
            <code>Form</code></a> inside the top level
            <a href="https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member
            for which the value of its <code>op</code> member is
            <code>readallproperties</code> and the
            <a href="https://tools.ietf.org/html/rfc3986#section-3.1">URI
            scheme</a> [[RFC3986]] of the value of its <code>href</code> member
            is <code>http</code> or <code>https</code>.
            </span>
          </p>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.3-thing-protocol-binding-properties-readallproperties-2">
            In order to read the value of all properties, a Consumer MUST send
            an HTTP request to a Web Thing with:
            </span>
            <ul>
              <li>Method set to <code>GET</code></li>
              <li>URL set to the URL of the <code>Properties</code> resource
                </li>
              <li><code>Accept</code> header set to <code>application/json
                </code></li>
            </ul>
          </p>
          <pre class="example">
          GET /things/lamp/properties HTTP/1.1
          Host: mythingserver.com
          Accept: application/json
          </pre>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.3-thing-protocol-binding-properties-readallpropertis-3">
            If a Web Thing receives an HTTP request following the format
            above, then upon successfully reading the values of all the
            readable properties to which the Consumer has permission to
            access, it MUST send an HTTP response with:
            </span>
            <ul>
              <li>Status code set to <code>200</code></li>
              <li><code>Content-Type</code> header set to <code>application/json
                </code></li>
              <li>A body with the values of all readable properties serialized
                in JSON, as an object keyed by property name</li>
            </ul>
          </p>
          <pre class="example">
          HTTP/1.1 200 OK
          Content-Type: application/json
          {
            "on": false,
            "level": 100
          }
          </pre>
        </section>
        <section id="writemultipleproperties">
          <h5><code>writemultipleproperties</code></h5>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.4-thing-protocol-binding-properties-writemultipleproperties-1">
            The URL of a <code>Properties</code> resource to be used when
            writing the value of multiple properties at once MUST be obtained
            from a Canonical TD by locating a
            <a href="https://www.w3.org/TR/wot-thing-description/#form">
            <code>Form</code></a> inside the top level
            <a href="https://www.w3.org/TR/wot-thing-description/#form-serialization-json">
            <code>forms</code></a> member
            for which the value of its <code>op</code> member is
            <code>writemultipleproperties</code> and the
            <a href="https://tools.ietf.org/html/rfc3986#section-3.1">URI
            scheme</a> [[RFC3986]] of the value of its <code>href</code> member
            is <code>http</code> or <code>https</code>.
            </span>
          </p>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.4-thing-protocol-binding-properties-writemultipleproperties-2">
            In order to write the value of multiple properties at once, a
            Consumer MUST send an HTTP request to a Web Thing with:
            </span>
            <ul>
              <li>Method set to <code>PUT</code></li>
              <li>URL set to the URL of the <code>Properties</code> resource
                </li>
              <li><code>Content-Type</code> header set to <code>application/json
                </code></li>
              <li><code>Accept</code> header set to <code>application/json
                </code></li>
              <li>A body with requested new values for the writable properties
                serialized in JSON, as an object keyed by property name</li>
            </ul>
          </p>
          <pre class="example">
          PUT /things/lamp/properties HTTP/1.1
          Host: mythingserver.com
          Content-Type: application/json
          Accept: application/json
          {
            "on": true,
            "level": 50
          }
          </pre>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.1.4-thing-protocol-binding-properties-writemultipleproperties-3">
            If a Web Thing receives an HTTP request following the format
            above, then upon successfully writing the values of the requested
            writable properties it MUST send an HTTP response with:
            </span>
            <ul>
              <li>Status code set to <code>204</code></li>
            </ul>
          </p>
          <pre class="example">
          HTTP/1.1 204 No Content
          </pre>
        </section>
        <section class="ednote">
          <p>
            Other operations under consideration include
            <code>observeproperty</code>, <code>unobserveproperty</code>,
            <code>observeallproperties</code> and
            <code>unobserveallproperties</code>.
          </p>
          <p>
            These operations would require consesus on a default observe
            mechanism for HTTP (e.g. Server Sent Events or WebSockets).
          </p>
          <p>
            <code>readmultipleproperties</code> is currently excluded due to
            the complexities of the request payload format and because it
            doesn't add much functionality over <code>readproperty</code> and
            <code>readallproperties</code>.
            <code>writeallproperties</code> is currently excluded because it
            is just a special case of <code>writemultipleproperties</code>.
          </p>
        </section>
      </section>
      <section id="actions">
        <h4>Actions</h4>
        <section id="invokeaction">
          <h5><code>invokeaction</code></h5>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.2.1-thing-protocol-binding-actions-invokeaction-1">
            The URL of an <code>Action</code> resource to be used when invoking
            an action MUST be obtained from a Canonical TD by locating a
            <a href="https://www.w3.org/TR/wot-thing-description/#form">
            <code>Form</code></a> inside the corresponding
            <a href="https://www.w3.org/TR/wot-thing-description/#actionaffordance">
            <code>ActionAffordance</code></a>
            for which the value of its <code>op</code> member is
            <code>invokeaction</code> and the
            <a href="https://tools.ietf.org/html/rfc3986#section-3.1">URI
            scheme</a> [[RFC3986]] of the value of its <code>href</code> member
            is <code>http</code> or <code>https</code>.
            </span>
          </p>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.2.1-thing-protocol-binding-actions-invokeaction-2">
            In order to invoke an action on a Web Thing, a Consumer MUST send
            an HTTP request to the Web Thing with:
            </span>
            <ul>
              <li>Method set to <code>POST</code></li>
              <li>URL set to the URL of the <code>Action</code> resource</li>
              <li><code>Accept</code> header set to <code>application/json
                </code></li>
              <li><code>Content-Type</code> header set to <code>application/json
                </code></li>
              <li>A body with an input to the action, if any, serialized in
                JSON</li>
            </ul>
          </p>
          <pre class="example">
          POST /things/lamp/actions/fade HTTP/1.1
          Host: mythingserver.com
          Content-Type: application/json
          Accept: application/json
          {
            "level": 100,
            "duration": 5
          }
          </pre>
          <p>
            <span class="rfc2119-assertion" id="profile-5.2.2.1-thing-protocol-binding-actions-invokeaction-3">
            If a Web Thing receives an HTTP request following the format
            above and the Consumer has permission to invoke the corresponding
            action, then upon successfully invoking the action it MUST send an
            HTTP response with:
            </span>
          </p>
          <p class="ednote">
            The response to invoking an action needs to be defined.
            <span class="rfc2119-assertion" id="profile-5.2.2.1-thing-protocol-binding-actions-invokeaction-4">
            Given not all actions can be completed within the
            timeout period of an HTTP response, this may need to include a
            reference to an action request resource in an action queue (see
            <a href="https://github.com/w3c/wot-thing-description/issues/302">
            #302</a>).
            </span>
          </p>
        </section>
        <section class="ednote">Other operations under consideration include
          <code>queryaction</code>, <code>updateaction</code> and
          <code>cancelaction</code>. These operations do not yet exist in
          the WoT Thing Description specification (see
          <a href="https://github.com/w3c/wot-thing-description/issues/302">
            #302
          </a>).
        </section>
      </section>
      <section id="events">
        <h4>Events</h4>
        <section class="ednote">
          <p>
            Other operations under consideration include
            <code>subscribeevent</code>, <code>unsubscribeevent</code>,
            <code>subscribeallevents</code>, <code>unsubscribeallevents</code>,
            <code>readpastevents</code> and <code>readallpastevents</code>.
          </p>
          <p>
            <code>subscribeevent</code>, <code>unsubscribeevent</code>,
            <code>subscribeallevents</code> and
            <code>unsubscribeallevents</code> would require consensus on a
            default event subscription mechanism for HTTP (e.g. Server Sent
            Events or WebSockets).
          </p>
          <p>
            <code>subscribeallevents</code> and
            <code>unsubscribeallevents</code> do not yet exist in the WoT Thing
            Description specification (see
            <a href="https://github.com/w3c/wot-thing-description/issues/1082">
              #1082
            </a>).
          </p>
          <p>
            <code>readpastevents</code> and <code>readallpastevents</code> do
            not yet exist in the WoT Thing Description specification (see
            <a href="https://github.com/w3c/wot-thing-description/issues/892">
              #892
            </a>).
          </p>
        </section>
      </section>
      <section id="error-responses">
        <h4>Error Responses</h4>
        <p>
          <span class="rfc2119-assertion" id="profile-5.2.4-thing-protocol-binding-error-responses-1">
          If any of the operations defined above are unsuccessful then
          the Web Thing MUST send an HTTP response with an HTTP error code which
          describes the reason for the failure. It is RECOMMENDED that error
          responses use one of the following HTTP error codes:
          </span>
        </p>
        <ul>
          <li><code>400 Bad Request</code></li>
          <li><code>401 Unauthorized</code></li>
          <li><code>403 Forbidden</code></li>
          <li><code>404 Not Found</code></li>
          <li><code>500 Internal Server Error</code></li>
        </ul>
        <p>
          <span class="rfc2119-assertion" id="profile-5.2.4-thing-protocol-binding-error-responses-2">
          Web Things MAY respond with other valid HTTP error codes
          (e.g. <code>418 I'm a teapot</code>),
          </span>
          <span class="rfc2119-assertion" id="profile-5.2.4-thing-protocol-binding-error-responses-3">
          but Consumers MAY interpret those error codes as a generic <code>4xx</code> or <code>5xx</code>
          error with no special defined behaviour.
          </span>
        </p>
        <p class="ednote">
          <span class="rfc2119-assertion" id="profile-5.2.4-thing-protocol-binding-error-responses-4">
          If we define the finite set of error responses as above then we
          should also define what a Consumer should do if it receives a 3xx
          redirect type response.
          </span>
        </p>
        <p>
          <span class="rfc2119-assertion" id="profile-5.2.4-thing-protocol-binding-error-responses-5">
          If an HTTP error response contains a body, the content of that body
          MUST conform with with the Problem Details format [[RFC7807]].
          </span>
        </p>
      </section>
    </section>

    <!-- External Representation -->
    <section id="external-representation">
      <h2 id="external-td-representations">External TD
        representations</h2>
      <p>
        <span class="rfc2119-assertion" id="profile-5.3-exteanal-td-representations-1">
        The default representation is JSON. Semantic
        annotations based on JSON-LD MAY be present but are not
        required to perform all interactions with the thing
        instance.
        </span>
      </p>

        <section id="canonical-representation">
          <h2 id="canonical-td-representations">Canonical TD
            representation</h2>
          <p>
            A canonical representation serves multiple purposes.
            It is simplifying the parsing process, enables to identify
            equivalent TDs by simple string comparisons.
            Furthermore it allows the use of a simple signing mechanism,
            such as <a href="https://w3c-ccg.github.io/ld-proofs/">Linked Data Proofs</a> or JSON Web Signatures [[RFC7515]] and enables
            identity checks on encrypted TDs.
          </p>
	  <p>
	     The canonical JSON representation format of a TD adopts the JSON Canonicalization Scheme (JCS) defined by
	     <a href="https://tools.ietf.org/html/rfc8785>RFC-8785</a> including errata <a href="https://www.rfc-editor.org/errata/eid6292">6292</a>.
	  </p>
      </section>



    <!--  Normative References

		<section>
			<h2 id="normative-references">Normative references</h2>
			<p>
				urn_type = a valid URN as defined in <a
					href=https://tools.ietf.org/rfc/rfc2141.txt>RFC2141</a>
			</p>
			<p>
				uri_type = a valid URI as defined by <a
					href=https://tools.ietf.org/rfc/rfc3986.txt>RFC3986</a>
			</p>
			<p>
				identifier = a valid ECMAScript identifier name as defined in
				chapter 11.6 of <a
					href=http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf>ECMAScript</a>
			</p>
			<p>
				number = a valid ECMAScript number as defined in chapter 20.1 of <a
					href=http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf>ECMAScript</a>
			</p>
			<p>
				string = a valid ECMAScript string literal as defined in chapter
				11.8.4 of <a
					href=http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf>ECMAScript</a>
			</p>
			<p>
				date = a valid ECMAScript date as defined in chapter '20.3.1.16 Date
				Time String Format' of <a
					href=http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf>ECMAScript</a>
			</p>
			<p>(https://tools.ietf.org/html/rfc6068).</p>
		</section -->
  </section>
  <section id="open-issues">
    <h3>Open Issues</h3>
    <ul>
      <li>define action semantics</li>
      <li>define subscription mechanism</li>
      <li>Examples</li>
    </ul>
  </section>

  <section id="core-profile-json-schema" class="appendix normative">
    <h1>JSON Schema of the Core Profile</h1>
    <p>
      A Thing Description can be syntactically validated with the JSON Schema [[?JSON-SCHEMA]] for compliance with
      the core profile.
    </p>
    <p class="ednote">
      Todo: Define a JSON-SCHEMA.
    </p>

</body>

</html>
